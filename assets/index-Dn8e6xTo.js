(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function Kv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var hh={exports:{}},Ti={};var g_;function QE(){if(g_)return Ti;g_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:a,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ti.Fragment=t,Ti.jsx=r,Ti.jsxs=r,Ti}var y_;function WE(){return y_||(y_=1,hh.exports=QE()),hh.exports}var U=WE(),dh={exports:{}},de={};var __;function FE(){if(__)return de;__=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function T(O,V,Q){this.props=O,this.context=V,this.refs=N,this.updater=Q||E}T.prototype.isReactComponent={},T.prototype.setState=function(O,V){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,V,"setState")},T.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=T.prototype;function x(O,V,Q){this.props=O,this.context=V,this.refs=N,this.updater=Q||E}var q=x.prototype=new C;q.constructor=x,R(q,T.prototype),q.isPureReactComponent=!0;var K=Array.isArray;function J(){}var G={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function ue(O,V,Q){var ee=Q.ref;return{$$typeof:a,type:O,key:V,ref:ee!==void 0?ee:null,props:Q}}function Ee(O,V){return ue(O.type,V,O.props)}function Ae(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function ct(O){var V={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Q){return V[Q]})}var gn=/\/+/g;function yn(O,V){return typeof O=="object"&&O!==null&&O.key!=null?ct(""+O.key):V.toString(36)}function Ct(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(J,J):(O.status="pending",O.then(function(V){O.status==="pending"&&(O.status="fulfilled",O.value=V)},function(V){O.status==="pending"&&(O.status="rejected",O.reason=V)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,V,Q,ee,me){var _e=typeof O;(_e==="undefined"||_e==="boolean")&&(O=null);var xe=!1;if(O===null)xe=!0;else switch(_e){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(O.$$typeof){case a:case t:xe=!0;break;case _:return xe=O._init,H(xe(O._payload),V,Q,ee,me)}}if(xe)return me=me(O),xe=ee===""?"."+yn(O,0):ee,K(me)?(Q="",xe!=null&&(Q=xe.replace(gn,"$&/")+"/"),H(me,V,Q,"",function(Ns){return Ns})):me!=null&&(Ae(me)&&(me=Ee(me,Q+(me.key==null||O&&O.key===me.key?"":(""+me.key).replace(gn,"$&/")+"/")+xe)),V.push(me)),1;xe=0;var Et=ee===""?".":ee+":";if(K(O))for(var Ye=0;Ye<O.length;Ye++)ee=O[Ye],_e=Et+yn(ee,Ye),xe+=H(ee,V,Q,_e,me);else if(Ye=w(O),typeof Ye=="function")for(O=Ye.call(O),Ye=0;!(ee=O.next()).done;)ee=ee.value,_e=Et+yn(ee,Ye++),xe+=H(ee,V,Q,_e,me);else if(_e==="object"){if(typeof O.then=="function")return H(Ct(O),V,Q,ee,me);throw V=String(O),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return xe}function X(O,V,Q){if(O==null)return O;var ee=[],me=0;return H(O,ee,"","",function(_e){return V.call(Q,_e,me++)}),ee}function ce(O){if(O._status===-1){var V=O._result;V=V(),V.then(function(Q){(O._status===0||O._status===-1)&&(O._status=1,O._result=Q)},function(Q){(O._status===0||O._status===-1)&&(O._status=2,O._result=Q)}),O._status===-1&&(O._status=0,O._result=V)}if(O._status===1)return O._result.default;throw O._result}var je=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},$e={map:X,forEach:function(O,V,Q){X(O,function(){V.apply(this,arguments)},Q)},count:function(O){var V=0;return X(O,function(){V++}),V},toArray:function(O){return X(O,function(V){return V})||[]},only:function(O){if(!Ae(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return de.Activity=y,de.Children=$e,de.Component=T,de.Fragment=r,de.Profiler=o,de.PureComponent=x,de.StrictMode=s,de.Suspense=m,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,de.__COMPILER_RUNTIME={__proto__:null,c:function(O){return G.H.useMemoCache(O)}},de.cache=function(O){return function(){return O.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(O,V,Q){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ee=R({},O.props),me=O.key;if(V!=null)for(_e in V.key!==void 0&&(me=""+V.key),V)!W.call(V,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&V.ref===void 0||(ee[_e]=V[_e]);var _e=arguments.length-2;if(_e===1)ee.children=Q;else if(1<_e){for(var xe=Array(_e),Et=0;Et<_e;Et++)xe[Et]=arguments[Et+2];ee.children=xe}return ue(O.type,me,ee)},de.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},de.createElement=function(O,V,Q){var ee,me={},_e=null;if(V!=null)for(ee in V.key!==void 0&&(_e=""+V.key),V)W.call(V,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(me[ee]=V[ee]);var xe=arguments.length-2;if(xe===1)me.children=Q;else if(1<xe){for(var Et=Array(xe),Ye=0;Ye<xe;Ye++)Et[Ye]=arguments[Ye+2];me.children=Et}if(O&&O.defaultProps)for(ee in xe=O.defaultProps,xe)me[ee]===void 0&&(me[ee]=xe[ee]);return ue(O,_e,me)},de.createRef=function(){return{current:null}},de.forwardRef=function(O){return{$$typeof:d,render:O}},de.isValidElement=Ae,de.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:ce}},de.memo=function(O,V){return{$$typeof:p,type:O,compare:V===void 0?null:V}},de.startTransition=function(O){var V=G.T,Q={};G.T=Q;try{var ee=O(),me=G.S;me!==null&&me(Q,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(J,je)}catch(_e){je(_e)}finally{V!==null&&Q.types!==null&&(V.types=Q.types),G.T=V}},de.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},de.use=function(O){return G.H.use(O)},de.useActionState=function(O,V,Q){return G.H.useActionState(O,V,Q)},de.useCallback=function(O,V){return G.H.useCallback(O,V)},de.useContext=function(O){return G.H.useContext(O)},de.useDebugValue=function(){},de.useDeferredValue=function(O,V){return G.H.useDeferredValue(O,V)},de.useEffect=function(O,V){return G.H.useEffect(O,V)},de.useEffectEvent=function(O){return G.H.useEffectEvent(O)},de.useId=function(){return G.H.useId()},de.useImperativeHandle=function(O,V,Q){return G.H.useImperativeHandle(O,V,Q)},de.useInsertionEffect=function(O,V){return G.H.useInsertionEffect(O,V)},de.useLayoutEffect=function(O,V){return G.H.useLayoutEffect(O,V)},de.useMemo=function(O,V){return G.H.useMemo(O,V)},de.useOptimistic=function(O,V){return G.H.useOptimistic(O,V)},de.useReducer=function(O,V,Q){return G.H.useReducer(O,V,Q)},de.useRef=function(O){return G.H.useRef(O)},de.useState=function(O){return G.H.useState(O)},de.useSyncExternalStore=function(O,V,Q){return G.H.useSyncExternalStore(O,V,Q)},de.useTransition=function(){return G.H.useTransition()},de.version="19.2.3",de}var v_;function Tu(){return v_||(v_=1,dh.exports=FE()),dh.exports}var $=Tu();const ZE=Kv($);var mh={exports:{}},Ai={},ph={exports:{}},gh={};var b_;function eT(){return b_||(b_=1,(function(a){function t(H,X){var ce=H.length;H.push(X);e:for(;0<ce;){var je=ce-1>>>1,$e=H[je];if(0<o($e,X))H[je]=X,H[ce]=$e,ce=je;else break e}}function r(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var X=H[0],ce=H.pop();if(ce!==X){H[0]=ce;e:for(var je=0,$e=H.length,O=$e>>>1;je<O;){var V=2*(je+1)-1,Q=H[V],ee=V+1,me=H[ee];if(0>o(Q,ce))ee<$e&&0>o(me,Q)?(H[je]=me,H[ee]=ce,je=ee):(H[je]=Q,H[V]=ce,je=V);else if(ee<$e&&0>o(me,ce))H[je]=me,H[ee]=ce,je=ee;else break e}}return X}function o(H,X){var ce=H.sortIndex-X.sortIndex;return ce!==0?ce:H.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();a.unstable_now=function(){return f.now()-d}}var m=[],p=[],_=1,y=null,b=3,w=!1,E=!1,R=!1,N=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function q(H){for(var X=r(p);X!==null;){if(X.callback===null)s(p);else if(X.startTime<=H)s(p),X.sortIndex=X.expirationTime,t(m,X);else break;X=r(p)}}function K(H){if(R=!1,q(H),!E)if(r(m)!==null)E=!0,J||(J=!0,ct());else{var X=r(p);X!==null&&Ct(K,X.startTime-H)}}var J=!1,G=-1,W=5,ue=-1;function Ee(){return N?!0:!(a.unstable_now()-ue<W)}function Ae(){if(N=!1,J){var H=a.unstable_now();ue=H;var X=!0;try{e:{E=!1,R&&(R=!1,C(G),G=-1),w=!0;var ce=b;try{t:{for(q(H),y=r(m);y!==null&&!(y.expirationTime>H&&Ee());){var je=y.callback;if(typeof je=="function"){y.callback=null,b=y.priorityLevel;var $e=je(y.expirationTime<=H);if(H=a.unstable_now(),typeof $e=="function"){y.callback=$e,q(H),X=!0;break t}y===r(m)&&s(m),q(H)}else s(m);y=r(m)}if(y!==null)X=!0;else{var O=r(p);O!==null&&Ct(K,O.startTime-H),X=!1}}break e}finally{y=null,b=ce,w=!1}X=void 0}}finally{X?ct():J=!1}}}var ct;if(typeof x=="function")ct=function(){x(Ae)};else if(typeof MessageChannel<"u"){var gn=new MessageChannel,yn=gn.port2;gn.port1.onmessage=Ae,ct=function(){yn.postMessage(null)}}else ct=function(){T(Ae,0)};function Ct(H,X){G=T(function(){H(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(H){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var ce=b;b=X;try{return H()}finally{b=ce}},a.unstable_requestPaint=function(){N=!0},a.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ce=b;b=H;try{return X()}finally{b=ce}},a.unstable_scheduleCallback=function(H,X,ce){var je=a.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?je+ce:je):ce=je,H){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=ce+$e,H={id:_++,callback:X,priorityLevel:H,startTime:ce,expirationTime:$e,sortIndex:-1},ce>je?(H.sortIndex=ce,t(p,H),r(m)===null&&H===r(p)&&(R?(C(G),G=-1):R=!0,Ct(K,ce-je))):(H.sortIndex=$e,t(m,H),E||w||(E=!0,J||(J=!0,ct()))),H},a.unstable_shouldYield=Ee,a.unstable_wrapCallback=function(H){var X=b;return function(){var ce=b;b=X;try{return H.apply(this,arguments)}finally{b=ce}}}})(gh)),gh}var w_;function tT(){return w_||(w_=1,ph.exports=eT()),ph.exports}var yh={exports:{}},St={};var S_;function nT(){if(S_)return St;S_=1;var a=Tu();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:p,implementation:_}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,St.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(m,p,null,_)},St.flushSync=function(m){var p=f.T,_=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=p,s.p=_,s.d.f()}},St.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},St.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},St.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,y=d(_,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:w}):_==="script"&&s.d.X(m,{crossOrigin:y,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},St.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},St.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,y=d(_,p.crossOrigin);s.d.L(m,_,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},St.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},St.requestFormReset=function(m){s.d.r(m)},St.unstable_batchedUpdates=function(m,p){return m(p)},St.useFormState=function(m,p,_){return f.H.useFormState(m,p,_)},St.useFormStatus=function(){return f.H.useHostTransitionStatus()},St.version="19.2.3",St}var E_;function aT(){if(E_)return yh.exports;E_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),yh.exports=nT(),yh.exports}var T_;function rT(){if(T_)return Ai;T_=1;var a=tT(),t=Tu(),r=aT();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,l=n;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){i=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return m(c),e;if(h===l)return m(c),n;h=h.sibling}throw Error(s(188))}if(i.return!==l.return)i=c,l=h;else{for(var g=!1,v=c.child;v;){if(v===i){g=!0,i=c,l=h;break}if(v===l){g=!0,l=c,i=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===i){g=!0,i=h,l=c;break}if(v===l){g=!0,l=h,i=c;break}v=v.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),x=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),Ee=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function ct(e){return e===null||typeof e!="object"?null:(e=Ae&&e[Ae]||e["@@iterator"],typeof e=="function"?e:null)}var gn=Symbol.for("react.client.reference");function yn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===gn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case T:return"Profiler";case N:return"StrictMode";case K:return"Suspense";case J:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case x:return e.displayName||"Context";case C:return(e._context.displayName||"Context")+".Consumer";case q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return n=e.displayName||null,n!==null?n:yn(e.type)||"Memo";case W:n=e._payload,e=e._init;try{return yn(e(n))}catch{}}return null}var Ct=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},je=[],$e=-1;function O(e){return{current:e}}function V(e){0>$e||(e.current=je[$e],je[$e]=null,$e--)}function Q(e,n){$e++,je[$e]=e.current,e.current=n}var ee=O(null),me=O(null),_e=O(null),xe=O(null);function Et(e,n){switch(Q(_e,n),Q(me,e),Q(ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ly(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ly(n),e=qy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(ee),Q(ee,e)}function Ye(){V(ee),V(me),V(_e)}function Ns(e){e.memoizedState!==null&&Q(xe,e);var n=ee.current,i=qy(n,e.type);n!==i&&(Q(me,e),Q(ee,i))}function cl(e){me.current===e&&(V(ee),V(me)),xe.current===e&&(V(xe),bi._currentValue=ce)}var Yu,pm;function Ia(e){if(Yu===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Yu=n&&n[1]||"",pm=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yu+e+pm}var Ju=!1;function Xu(e,n){if(!e||Ju)return"";Ju=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(z){var B=z}Reflect.construct(e,[],P)}else{try{P.call()}catch(z){B=z}e.call(P.prototype)}}else{try{throw Error()}catch(z){B=z}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(z){if(z&&B&&typeof z.stack=="string")return[z.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],v=h[1];if(g&&v){var S=g.split(`
`),D=v.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===D.length)for(l=S.length-1,c=D.length-1;1<=l&&0<=c&&S[l]!==D[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==D[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==D[c]){var L=`
`+S[l].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=l&&0<=c);break}}}finally{Ju=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ia(i):""}function Ow(e,n){switch(e.tag){case 26:case 27:case 5:return Ia(e.type);case 16:return Ia("Lazy");case 13:return e.child!==n&&n!==null?Ia("Suspense Fallback"):Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 15:return Xu(e.type,!1);case 11:return Xu(e.type.render,!1);case 1:return Xu(e.type,!0);case 31:return Ia("Activity");default:return""}}function gm(e){try{var n="",i=null;do n+=Ow(e,i),i=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Qu=Object.prototype.hasOwnProperty,Wu=a.unstable_scheduleCallback,Fu=a.unstable_cancelCallback,Cw=a.unstable_shouldYield,xw=a.unstable_requestPaint,zt=a.unstable_now,kw=a.unstable_getCurrentPriorityLevel,ym=a.unstable_ImmediatePriority,_m=a.unstable_UserBlockingPriority,fl=a.unstable_NormalPriority,Nw=a.unstable_LowPriority,vm=a.unstable_IdlePriority,jw=a.log,Uw=a.unstable_setDisableYieldValue,js=null,Lt=null;function fa(e){if(typeof jw=="function"&&Uw(e),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(js,e)}catch{}}var qt=Math.clz32?Math.clz32:$w,Dw=Math.log,Mw=Math.LN2;function $w(e){return e>>>=0,e===0?32:31-(Dw(e)/Mw|0)|0}var hl=256,dl=262144,ml=4194304;function Pa(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pl(e,n,i){var l=e.pendingLanes;if(l===0)return 0;var c=0,h=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~h,l!==0?c=Pa(l):(g&=v,g!==0?c=Pa(g):i||(i=v&~e,i!==0&&(c=Pa(i))))):(v=l&~h,v!==0?c=Pa(v):g!==0?c=Pa(g):i||(i=l&~e,i!==0&&(c=Pa(i)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:c}function Us(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Bw(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bm(){var e=ml;return ml<<=1,(ml&62914560)===0&&(ml=4194304),e}function Zu(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Ds(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zw(e,n,i,l,c,h){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var v=e.entanglements,S=e.expirationTimes,D=e.hiddenUpdates;for(i=g&~i;0<i;){var L=31-qt(i),P=1<<L;v[L]=0,S[L]=-1;var B=D[L];if(B!==null)for(D[L]=null,L=0;L<B.length;L++){var z=B[L];z!==null&&(z.lane&=-536870913)}i&=~P}l!==0&&wm(e,l,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(g&~n))}function wm(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-qt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|i&261930}function Sm(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-qt(i),c=1<<l;c&n|e[l]&n&&(e[l]|=n),i&=~c}}function Em(e,n){var i=n&-n;return i=(i&42)!==0?1:ec(i),(i&(e.suspendedLanes|n))!==0?0:i}function ec(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function tc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Tm(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:u_(e.type))}function Am(e,n){var i=X.p;try{return X.p=e,n()}finally{X.p=i}}var ha=Math.random().toString(36).slice(2),ft="__reactFiber$"+ha,xt="__reactProps$"+ha,br="__reactContainer$"+ha,nc="__reactEvents$"+ha,Lw="__reactListeners$"+ha,qw="__reactHandles$"+ha,Rm="__reactResources$"+ha,Ms="__reactMarker$"+ha;function ac(e){delete e[ft],delete e[xt],delete e[nc],delete e[Lw],delete e[qw]}function wr(e){var n=e[ft];if(n)return n;for(var i=e.parentNode;i;){if(n=i[br]||i[ft]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Yy(e);e!==null;){if(i=e[ft])return i;e=Yy(e)}return n}e=i,i=e.parentNode}return null}function Sr(e){if(e=e[ft]||e[br]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function $s(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Er(e){var n=e[Rm];return n||(n=e[Rm]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function lt(e){e[Ms]=!0}var Om=new Set,Cm={};function Ga(e,n){Tr(e,n),Tr(e+"Capture",n)}function Tr(e,n){for(Cm[e]=n,e=0;e<n.length;e++)Om.add(n[e])}var Hw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xm={},km={};function Iw(e){return Qu.call(km,e)?!0:Qu.call(xm,e)?!1:Hw.test(e)?km[e]=!0:(xm[e]=!0,!1)}function gl(e,n,i){if(Iw(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function yl(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function $n(e,n,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+l)}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nm(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pw(e,n,i){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,h.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function rc(e){if(!e._valueTracker){var n=Nm(e)?"checked":"value";e._valueTracker=Pw(e,n,""+e[n])}}function jm(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=Nm(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Gw=/[\n"\\]/g;function rn(e){return e.replace(Gw,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sc(e,n,i,l,c,h,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+an(n)):e.value!==""+an(n)&&(e.value=""+an(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?ic(e,g,an(n)):i!=null?ic(e,g,an(i)):l!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+an(v):e.removeAttribute("name")}function Um(e,n,i,l,c,h,g,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){rc(e);return}i=i!=null?""+an(i):"",n=n!=null?""+an(n):i,v||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),rc(e)}function ic(e,n,i){n==="number"&&_l(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ar(e,n,i,l){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&l&&(e[i].defaultSelected=!0)}else{for(i=""+an(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Dm(e,n,i){if(n!=null&&(n=""+an(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+an(i):""}function Mm(e,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(s(92));if(Ct(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=an(n),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l),rc(e)}function Rr(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Vw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $m(e,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,i):typeof i!="number"||i===0||Vw.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Bm(e,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&i[c]!==l&&$m(e,c,l)}else for(var h in n)n.hasOwnProperty(h)&&$m(e,h,n[h])}function lc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vl(e){return Yw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var oc=null;function uc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Or=null,Cr=null;function zm(e){var n=Sr(e);if(n&&(e=n.stateNode)){var i=e[xt]||null;e:switch(e=n.stateNode,n.type){case"input":if(sc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var c=l[xt]||null;if(!c)throw Error(s(90));sc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===e.form&&jm(l)}break e;case"textarea":Dm(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Ar(e,!!i.multiple,n,!1)}}}var cc=!1;function Lm(e,n,i){if(cc)return e(n,i);cc=!0;try{var l=e(n);return l}finally{if(cc=!1,(Or!==null||Cr!==null)&&(io(),Or&&(n=Or,e=Cr,Cr=Or=null,zm(n),e)))for(n=0;n<e.length;n++)zm(e[n])}}function Bs(e,n){var i=e.stateNode;if(i===null)return null;var l=i[xt]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fc=!1;if(zn)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){fc=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{fc=!1}var da=null,hc=null,bl=null;function qm(){if(bl)return bl;var e,n=hc,i=n.length,l,c="value"in da?da.value:da.textContent,h=c.length;for(e=0;e<i&&n[e]===c[e];e++);var g=i-e;for(l=1;l<=g&&n[i-l]===c[h-l];l++);return bl=c.slice(e,1<l?1-l:void 0)}function wl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Sl(){return!0}function Hm(){return!1}function kt(e){function n(i,l,c,h,g){this._reactName=i,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Sl:Hm,this.isPropagationStopped=Hm,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),n}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=kt(Va),Ls=y({},Va,{view:0,detail:0}),Jw=kt(Ls),dc,mc,qs,Tl=y({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(dc=e.screenX-qs.screenX,mc=e.screenY-qs.screenY):mc=dc=0,qs=e),dc)},movementY:function(e){return"movementY"in e?e.movementY:mc}}),Im=kt(Tl),Xw=y({},Tl,{dataTransfer:0}),Qw=kt(Xw),Ww=y({},Ls,{relatedTarget:0}),pc=kt(Ww),Fw=y({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),Zw=kt(Fw),eS=y({},Va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tS=kt(eS),nS=y({},Va,{data:0}),Pm=kt(nS),aS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iS(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=sS[e])?!!n[e]:!1}function gc(){return iS}var lS=y({},Ls,{key:function(e){if(e.key){var n=aS[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gc,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oS=kt(lS),uS=y({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gm=kt(uS),cS=y({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gc}),fS=kt(cS),hS=y({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),dS=kt(hS),mS=y({},Tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pS=kt(mS),gS=y({},Va,{newState:0,oldState:0}),yS=kt(gS),_S=[9,13,27,32],yc=zn&&"CompositionEvent"in window,Hs=null;zn&&"documentMode"in document&&(Hs=document.documentMode);var vS=zn&&"TextEvent"in window&&!Hs,Vm=zn&&(!yc||Hs&&8<Hs&&11>=Hs),Km=" ",Ym=!1;function Jm(e,n){switch(e){case"keyup":return _S.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function bS(e,n){switch(e){case"compositionend":return Xm(n);case"keypress":return n.which!==32?null:(Ym=!0,Km);case"textInput":return e=n.data,e===Km&&Ym?null:e;default:return null}}function wS(e,n){if(xr)return e==="compositionend"||!yc&&Jm(e,n)?(e=qm(),bl=hc=da=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vm&&n.locale!=="ko"?null:n.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!SS[e.type]:n==="textarea"}function Wm(e,n,i,l){Or?Cr?Cr.push(l):Cr=[l]:Or=l,n=mo(n,"onChange"),0<n.length&&(i=new El("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var Is=null,Ps=null;function ES(e){Uy(e,0)}function Al(e){var n=$s(e);if(jm(n))return e}function Fm(e,n){if(e==="change")return n}var Zm=!1;if(zn){var _c;if(zn){var vc="oninput"in document;if(!vc){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),vc=typeof ep.oninput=="function"}_c=vc}else _c=!1;Zm=_c&&(!document.documentMode||9<document.documentMode)}function tp(){Is&&(Is.detachEvent("onpropertychange",np),Ps=Is=null)}function np(e){if(e.propertyName==="value"&&Al(Ps)){var n=[];Wm(n,Ps,e,uc(e)),Lm(ES,n)}}function TS(e,n,i){e==="focusin"?(tp(),Is=n,Ps=i,Is.attachEvent("onpropertychange",np)):e==="focusout"&&tp()}function AS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(Ps)}function RS(e,n){if(e==="click")return Al(n)}function OS(e,n){if(e==="input"||e==="change")return Al(n)}function CS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ht=typeof Object.is=="function"?Object.is:CS;function Gs(e,n){if(Ht(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var c=i[l];if(!Qu.call(n,c)||!Ht(e[c],n[c]))return!1}return!0}function ap(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rp(e,n){var i=ap(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ap(i)}}function sp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?sp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ip(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_l(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=_l(e.document)}return n}function bc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var xS=zn&&"documentMode"in document&&11>=document.documentMode,kr=null,wc=null,Vs=null,Sc=!1;function lp(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Sc||kr==null||kr!==_l(l)||(l=kr,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vs&&Gs(Vs,l)||(Vs=l,l=mo(wc,"onSelect"),0<l.length&&(n=new El("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=kr)))}function Ka(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Nr={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Ec={},op={};zn&&(op=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Ya(e){if(Ec[e])return Ec[e];if(!Nr[e])return e;var n=Nr[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in op)return Ec[e]=n[i];return e}var up=Ya("animationend"),cp=Ya("animationiteration"),fp=Ya("animationstart"),kS=Ya("transitionrun"),NS=Ya("transitionstart"),jS=Ya("transitioncancel"),hp=Ya("transitionend"),dp=new Map,Tc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tc.push("scrollEnd");function _n(e,n){dp.set(e,n),Ga(n,[e])}var Rl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},sn=[],jr=0,Ac=0;function Ol(){for(var e=jr,n=Ac=jr=0;n<e;){var i=sn[n];sn[n++]=null;var l=sn[n];sn[n++]=null;var c=sn[n];sn[n++]=null;var h=sn[n];if(sn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&mp(i,c,h)}}function Cl(e,n,i,l){sn[jr++]=e,sn[jr++]=n,sn[jr++]=i,sn[jr++]=l,Ac|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Rc(e,n,i,l){return Cl(e,n,i,l),xl(e)}function Ja(e,n){return Cl(e,null,null,n),xl(e)}function mp(e,n,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var c=!1,h=e.return;h!==null;)h.childLanes|=i,l=h.alternate,l!==null&&(l.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&n!==null&&(c=31-qt(i),e=h.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=i|536870912),h):null}function xl(e){if(50<di)throw di=0,$f=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ur={};function US(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,n,i,l){return new US(e,n,i,l)}function Oc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ln(e,n){var i=e.alternate;return i===null?(i=It(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function pp(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function kl(e,n,i,l,c,h){var g=0;if(l=e,typeof e=="function")Oc(e)&&(g=1);else if(typeof e=="string")g=zE(e,i,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=It(31,i,n,c),e.elementType=ue,e.lanes=h,e;case R:return Xa(i.children,c,h,n);case N:g=8,c|=24;break;case T:return e=It(12,i,n,c|2),e.elementType=T,e.lanes=h,e;case K:return e=It(13,i,n,c),e.elementType=K,e.lanes=h,e;case J:return e=It(19,i,n,c),e.elementType=J,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:g=10;break e;case C:g=9;break e;case q:g=11;break e;case G:g=14;break e;case W:g=16,l=null;break e}g=29,i=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=It(g,i,n,c),n.elementType=e,n.type=l,n.lanes=h,n}function Xa(e,n,i,l){return e=It(7,e,l,n),e.lanes=i,e}function Cc(e,n,i){return e=It(6,e,null,n),e.lanes=i,e}function gp(e){var n=It(18,null,null,0);return n.stateNode=e,n}function xc(e,n,i){return n=It(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var yp=new WeakMap;function ln(e,n){if(typeof e=="object"&&e!==null){var i=yp.get(e);return i!==void 0?i:(n={value:e,source:n,stack:gm(n)},yp.set(e,n),n)}return{value:e,source:n,stack:gm(n)}}var Dr=[],Mr=0,Nl=null,Ks=0,on=[],un=0,ma=null,On=1,Cn="";function qn(e,n){Dr[Mr++]=Ks,Dr[Mr++]=Nl,Nl=e,Ks=n}function _p(e,n,i){on[un++]=On,on[un++]=Cn,on[un++]=ma,ma=e;var l=On;e=Cn;var c=32-qt(l)-1;l&=~(1<<c),i+=1;var h=32-qt(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,On=1<<32-qt(n)+c|i<<c|l,Cn=h+e}else On=1<<h|i<<c|l,Cn=e}function kc(e){e.return!==null&&(qn(e,1),_p(e,1,0))}function Nc(e){for(;e===Nl;)Nl=Dr[--Mr],Dr[Mr]=null,Ks=Dr[--Mr],Dr[Mr]=null;for(;e===ma;)ma=on[--un],on[un]=null,Cn=on[--un],on[un]=null,On=on[--un],on[un]=null}function vp(e,n){on[un++]=On,on[un++]=Cn,on[un++]=ma,On=n.id,Cn=n.overflow,ma=e}var ht=null,Le=null,Te=!1,pa=null,cn=!1,jc=Error(s(519));function ga(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ys(ln(n,e)),jc}function bp(e){var n=e.stateNode,i=e.type,l=e.memoizedProps;switch(n[ft]=e,n[xt]=l,i){case"dialog":be("cancel",n),be("close",n);break;case"iframe":case"object":case"embed":be("load",n);break;case"video":case"audio":for(i=0;i<pi.length;i++)be(pi[i],n);break;case"source":be("error",n);break;case"img":case"image":case"link":be("error",n),be("load",n);break;case"details":be("toggle",n);break;case"input":be("invalid",n),Um(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":be("invalid",n);break;case"textarea":be("invalid",n),Mm(n,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||By(n.textContent,i)?(l.popover!=null&&(be("beforetoggle",n),be("toggle",n)),l.onScroll!=null&&be("scroll",n),l.onScrollEnd!=null&&be("scrollend",n),l.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||ga(e,!0)}function wp(e){for(ht=e.return;ht;)switch(ht.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:ht=ht.return}}function $r(e){if(e!==ht)return!1;if(!Te)return wp(e),Te=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Wf(e.type,e.memoizedProps)),i=!i),i&&Le&&ga(e),wp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Le=Ky(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Le=Ky(e)}else n===27?(n=Le,ka(e.type)?(e=nh,nh=null,Le=e):Le=n):Le=ht?hn(e.stateNode.nextSibling):null;return!0}function Qa(){Le=ht=null,Te=!1}function Uc(){var e=pa;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),pa=null),e}function Ys(e){pa===null?pa=[e]:pa.push(e)}var Dc=O(null),Wa=null,Hn=null;function ya(e,n,i){Q(Dc,n._currentValue),n._currentValue=i}function In(e){e._currentValue=Dc.current,V(Dc)}function Mc(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function $c(e,n,i,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var v=h;h=c;for(var S=0;S<n.length;S++)if(v.context===n[S]){h.lanes|=i,v=h.alternate,v!==null&&(v.lanes|=i),Mc(h.return,i,e),l||(g=null);break e}h=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=i,h=g.alternate,h!==null&&(h.lanes|=i),Mc(g,i,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Br(e,n,i,l){e=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var v=c.type;Ht(c.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(c===xe.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(bi):e=[bi])}c=c.return}e!==null&&$c(n,e,i,l),n.flags|=262144}function jl(e){for(e=e.firstContext;e!==null;){if(!Ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fa(e){Wa=e,Hn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return Sp(Wa,e)}function Ul(e,n){return Wa===null&&Fa(e),Sp(e,n)}function Sp(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Hn===null){if(e===null)throw Error(s(308));Hn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Hn=Hn.next=n;return i}var DS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},MS=a.unstable_scheduleCallback,$S=a.unstable_NormalPriority,We={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bc(){return{controller:new DS,data:new Map,refCount:0}}function Js(e){e.refCount--,e.refCount===0&&MS($S,function(){e.controller.abort()})}var Xs=null,zc=0,zr=0,Lr=null;function BS(e,n){if(Xs===null){var i=Xs=[];zc=0,zr=If(),Lr={status:"pending",value:void 0,then:function(l){i.push(l)}}}return zc++,n.then(Ep,Ep),n}function Ep(){if(--zc===0&&Xs!==null){Lr!==null&&(Lr.status="fulfilled");var e=Xs;Xs=null,zr=0,Lr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function zS(e,n){var i=[],l={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<i.length;c++)(0,i[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),l}var Tp=H.S;H.S=function(e,n){ly=zt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&BS(e,n),Tp!==null&&Tp(e,n)};var Za=O(null);function Lc(){var e=Za.current;return e!==null?e:Be.pooledCache}function Dl(e,n){n===null?Q(Za,Za.current):Q(Za,n.pool)}function Ap(){var e=Lc();return e===null?null:{parent:We._currentValue,pool:e}}var qr=Error(s(460)),qc=Error(s(474)),Ml=Error(s(542)),$l={then:function(){}};function Rp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Op(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Bn,Bn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xp(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xp(e),e}throw tr=n,qr}}function er(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(tr=i,qr):i}}var tr=null;function Cp(){if(tr===null)throw Error(s(459));var e=tr;return tr=null,e}function xp(e){if(e===qr||e===Ml)throw Error(s(483))}var Hr=null,Qs=0;function Bl(e){var n=Qs;return Qs+=1,Hr===null&&(Hr=[]),Op(Hr,e,n)}function Ws(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zl(e,n){throw n.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function kp(e){function n(k,A){if(e){var j=k.deletions;j===null?(k.deletions=[A],k.flags|=16):j.push(A)}}function i(k,A){if(!e)return null;for(;A!==null;)n(k,A),A=A.sibling;return null}function l(k){for(var A=new Map;k!==null;)k.key!==null?A.set(k.key,k):A.set(k.index,k),k=k.sibling;return A}function c(k,A){return k=Ln(k,A),k.index=0,k.sibling=null,k}function h(k,A,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<A?(k.flags|=67108866,A):j):(k.flags|=67108866,A)):(k.flags|=1048576,A)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function v(k,A,j,I){return A===null||A.tag!==6?(A=Cc(j,k.mode,I),A.return=k,A):(A=c(A,j),A.return=k,A)}function S(k,A,j,I){var re=j.type;return re===R?L(k,A,j.props.children,I,j.key):A!==null&&(A.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===W&&er(re)===A.type)?(A=c(A,j.props),Ws(A,j),A.return=k,A):(A=kl(j.type,j.key,j.props,null,k.mode,I),Ws(A,j),A.return=k,A)}function D(k,A,j,I){return A===null||A.tag!==4||A.stateNode.containerInfo!==j.containerInfo||A.stateNode.implementation!==j.implementation?(A=xc(j,k.mode,I),A.return=k,A):(A=c(A,j.children||[]),A.return=k,A)}function L(k,A,j,I,re){return A===null||A.tag!==7?(A=Xa(j,k.mode,I,re),A.return=k,A):(A=c(A,j),A.return=k,A)}function P(k,A,j){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Cc(""+A,k.mode,j),A.return=k,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case w:return j=kl(A.type,A.key,A.props,null,k.mode,j),Ws(j,A),j.return=k,j;case E:return A=xc(A,k.mode,j),A.return=k,A;case W:return A=er(A),P(k,A,j)}if(Ct(A)||ct(A))return A=Xa(A,k.mode,j,null),A.return=k,A;if(typeof A.then=="function")return P(k,Bl(A),j);if(A.$$typeof===x)return P(k,Ul(k,A),j);zl(k,A)}return null}function B(k,A,j,I){var re=A!==null?A.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return re!==null?null:v(k,A,""+j,I);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return j.key===re?S(k,A,j,I):null;case E:return j.key===re?D(k,A,j,I):null;case W:return j=er(j),B(k,A,j,I)}if(Ct(j)||ct(j))return re!==null?null:L(k,A,j,I,null);if(typeof j.then=="function")return B(k,A,Bl(j),I);if(j.$$typeof===x)return B(k,A,Ul(k,j),I);zl(k,j)}return null}function z(k,A,j,I,re){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return k=k.get(j)||null,v(A,k,""+I,re);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return k=k.get(I.key===null?j:I.key)||null,S(A,k,I,re);case E:return k=k.get(I.key===null?j:I.key)||null,D(A,k,I,re);case W:return I=er(I),z(k,A,j,I,re)}if(Ct(I)||ct(I))return k=k.get(j)||null,L(A,k,I,re,null);if(typeof I.then=="function")return z(k,A,j,Bl(I),re);if(I.$$typeof===x)return z(k,A,j,Ul(A,I),re);zl(A,I)}return null}function F(k,A,j,I){for(var re=null,Re=null,te=A,ge=A=0,Se=null;te!==null&&ge<j.length;ge++){te.index>ge?(Se=te,te=null):Se=te.sibling;var Oe=B(k,te,j[ge],I);if(Oe===null){te===null&&(te=Se);break}e&&te&&Oe.alternate===null&&n(k,te),A=h(Oe,A,ge),Re===null?re=Oe:Re.sibling=Oe,Re=Oe,te=Se}if(ge===j.length)return i(k,te),Te&&qn(k,ge),re;if(te===null){for(;ge<j.length;ge++)te=P(k,j[ge],I),te!==null&&(A=h(te,A,ge),Re===null?re=te:Re.sibling=te,Re=te);return Te&&qn(k,ge),re}for(te=l(te);ge<j.length;ge++)Se=z(te,k,ge,j[ge],I),Se!==null&&(e&&Se.alternate!==null&&te.delete(Se.key===null?ge:Se.key),A=h(Se,A,ge),Re===null?re=Se:Re.sibling=Se,Re=Se);return e&&te.forEach(function(Ma){return n(k,Ma)}),Te&&qn(k,ge),re}function ie(k,A,j,I){if(j==null)throw Error(s(151));for(var re=null,Re=null,te=A,ge=A=0,Se=null,Oe=j.next();te!==null&&!Oe.done;ge++,Oe=j.next()){te.index>ge?(Se=te,te=null):Se=te.sibling;var Ma=B(k,te,Oe.value,I);if(Ma===null){te===null&&(te=Se);break}e&&te&&Ma.alternate===null&&n(k,te),A=h(Ma,A,ge),Re===null?re=Ma:Re.sibling=Ma,Re=Ma,te=Se}if(Oe.done)return i(k,te),Te&&qn(k,ge),re;if(te===null){for(;!Oe.done;ge++,Oe=j.next())Oe=P(k,Oe.value,I),Oe!==null&&(A=h(Oe,A,ge),Re===null?re=Oe:Re.sibling=Oe,Re=Oe);return Te&&qn(k,ge),re}for(te=l(te);!Oe.done;ge++,Oe=j.next())Oe=z(te,k,ge,Oe.value,I),Oe!==null&&(e&&Oe.alternate!==null&&te.delete(Oe.key===null?ge:Oe.key),A=h(Oe,A,ge),Re===null?re=Oe:Re.sibling=Oe,Re=Oe);return e&&te.forEach(function(XE){return n(k,XE)}),Te&&qn(k,ge),re}function Me(k,A,j,I){if(typeof j=="object"&&j!==null&&j.type===R&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case w:e:{for(var re=j.key;A!==null;){if(A.key===re){if(re=j.type,re===R){if(A.tag===7){i(k,A.sibling),I=c(A,j.props.children),I.return=k,k=I;break e}}else if(A.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===W&&er(re)===A.type){i(k,A.sibling),I=c(A,j.props),Ws(I,j),I.return=k,k=I;break e}i(k,A);break}else n(k,A);A=A.sibling}j.type===R?(I=Xa(j.props.children,k.mode,I,j.key),I.return=k,k=I):(I=kl(j.type,j.key,j.props,null,k.mode,I),Ws(I,j),I.return=k,k=I)}return g(k);case E:e:{for(re=j.key;A!==null;){if(A.key===re)if(A.tag===4&&A.stateNode.containerInfo===j.containerInfo&&A.stateNode.implementation===j.implementation){i(k,A.sibling),I=c(A,j.children||[]),I.return=k,k=I;break e}else{i(k,A);break}else n(k,A);A=A.sibling}I=xc(j,k.mode,I),I.return=k,k=I}return g(k);case W:return j=er(j),Me(k,A,j,I)}if(Ct(j))return F(k,A,j,I);if(ct(j)){if(re=ct(j),typeof re!="function")throw Error(s(150));return j=re.call(j),ie(k,A,j,I)}if(typeof j.then=="function")return Me(k,A,Bl(j),I);if(j.$$typeof===x)return Me(k,A,Ul(k,j),I);zl(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,A!==null&&A.tag===6?(i(k,A.sibling),I=c(A,j),I.return=k,k=I):(i(k,A),I=Cc(j,k.mode,I),I.return=k,k=I),g(k)):i(k,A)}return function(k,A,j,I){try{Qs=0;var re=Me(k,A,j,I);return Hr=null,re}catch(te){if(te===qr||te===Ml)throw te;var Re=It(29,te,null,k.mode);return Re.lanes=I,Re.return=k,Re}}}var nr=kp(!0),Np=kp(!1),_a=!1;function Hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ic(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function va(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ce&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=xl(e),mp(e,null,i),n}return Cl(e,l,n,i),xl(e)}function Fs(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,Sm(e,i)}}function Pc(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,i=i.next}while(i!==null);h===null?c=h=n:h=h.next=n}else c=h=n;i={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Gc=!1;function Zs(){if(Gc){var e=Lr;if(e!==null)throw e}}function ei(e,n,i,l){Gc=!1;var c=e.updateQueue;_a=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var S=v,D=S.next;S.next=null,g===null?h=D:g.next=D,g=S;var L=e.alternate;L!==null&&(L=L.updateQueue,v=L.lastBaseUpdate,v!==g&&(v===null?L.firstBaseUpdate=D:v.next=D,L.lastBaseUpdate=S))}if(h!==null){var P=c.baseState;g=0,L=D=S=null,v=h;do{var B=v.lane&-536870913,z=B!==v.lane;if(z?(we&B)===B:(l&B)===B){B!==0&&B===zr&&(Gc=!0),L!==null&&(L=L.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var F=e,ie=v;B=n;var Me=i;switch(ie.tag){case 1:if(F=ie.payload,typeof F=="function"){P=F.call(Me,P,B);break e}P=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=ie.payload,B=typeof F=="function"?F.call(Me,P,B):F,B==null)break e;P=y({},P,B);break e;case 2:_a=!0}}B=v.callback,B!==null&&(e.flags|=64,z&&(e.flags|=8192),z=c.callbacks,z===null?c.callbacks=[B]:z.push(B))}else z={lane:B,tag:v.tag,payload:v.payload,callback:v.callback,next:null},L===null?(D=L=z,S=P):L=L.next=z,g|=B;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;z=v,v=z.next,z.next=null,c.lastBaseUpdate=z,c.shared.pending=null}}while(!0);L===null&&(S=P),c.baseState=S,c.firstBaseUpdate=D,c.lastBaseUpdate=L,h===null&&(c.shared.lanes=0),Aa|=g,e.lanes=g,e.memoizedState=P}}function jp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Up(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)jp(i[e],n)}var Ir=O(null),Ll=O(0);function Dp(e,n){e=Wn,Q(Ll,e),Q(Ir,n),Wn=e|n.baseLanes}function Vc(){Q(Ll,Wn),Q(Ir,Ir.current)}function Kc(){Wn=Ll.current,V(Ir),V(Ll)}var Pt=O(null),fn=null;function wa(e){var n=e.alternate;Q(Je,Je.current&1),Q(Pt,e),fn===null&&(n===null||Ir.current!==null||n.memoizedState!==null)&&(fn=e)}function Yc(e){Q(Je,Je.current),Q(Pt,e),fn===null&&(fn=e)}function Mp(e){e.tag===22?(Q(Je,Je.current),Q(Pt,e),fn===null&&(fn=e)):Sa()}function Sa(){Q(Je,Je.current),Q(Pt,Pt.current)}function Gt(e){V(Pt),fn===e&&(fn=null),V(Je)}var Je=O(0);function ql(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||eh(i)||th(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pn=0,pe=null,Ue=null,Fe=null,Hl=!1,Pr=!1,ar=!1,Il=0,ti=0,Gr=null,LS=0;function Ge(){throw Error(s(321))}function Jc(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Ht(e[i],n[i]))return!1;return!0}function Xc(e,n,i,l,c,h){return Pn=h,pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?_g:ff,ar=!1,h=i(l,c),ar=!1,Pr&&(h=Bp(n,i,l,c)),$p(e),h}function $p(e){H.H=ri;var n=Ue!==null&&Ue.next!==null;if(Pn=0,Fe=Ue=pe=null,Hl=!1,ti=0,Gr=null,n)throw Error(s(300));e===null||Ze||(e=e.dependencies,e!==null&&jl(e)&&(Ze=!0))}function Bp(e,n,i,l){pe=e;var c=0;do{if(Pr&&(Gr=null),ti=0,Pr=!1,25<=c)throw Error(s(301));if(c+=1,Fe=Ue=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=vg,h=n(i,l)}while(Pr);return h}function qS(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?ni(n):n,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(pe.flags|=1024),n}function Qc(){var e=Il!==0;return Il=0,e}function Wc(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Fc(e){if(Hl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hl=!1}Pn=0,Fe=Ue=pe=null,Pr=!1,ti=Il=0,Gr=null}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?pe.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Xe(){if(Ue===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var n=Fe===null?pe.memoizedState:Fe.next;if(n!==null)Fe=n,Ue=e;else{if(e===null)throw pe.alternate===null?Error(s(467)):Error(s(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Fe===null?pe.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Pl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ni(e){var n=ti;return ti+=1,Gr===null&&(Gr=[]),e=Op(Gr,e,n),n=pe,(Fe===null?n.memoizedState:Fe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?_g:ff),e}function Gl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ni(e);if(e.$$typeof===x)return dt(e)}throw Error(s(438,String(e)))}function Zc(e){var n=null,i=pe.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Pl(),pe.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),l=0;l<e;l++)i[l]=Ee;return n.index++,i}function Gn(e,n){return typeof n=="function"?n(e):n}function Vl(e){var n=Xe();return ef(n,Ue,e)}function ef(e,n,i){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var c=e.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{n=c.next;var v=g=null,S=null,D=n,L=!1;do{var P=D.lane&-536870913;if(P!==D.lane?(we&P)===P:(Pn&P)===P){var B=D.revertLane;if(B===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),P===zr&&(L=!0);else if((Pn&B)===B){D=D.next,B===zr&&(L=!0);continue}else P={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},S===null?(v=S=P,g=h):S=S.next=P,pe.lanes|=B,Aa|=B;P=D.action,ar&&i(h,P),h=D.hasEagerState?D.eagerState:i(h,P)}else B={lane:P,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},S===null?(v=S=B,g=h):S=S.next=B,pe.lanes|=P,Aa|=P;D=D.next}while(D!==null&&D!==n);if(S===null?g=h:S.next=v,!Ht(h,e.memoizedState)&&(Ze=!0,L&&(i=Lr,i!==null)))throw i;e.memoizedState=h,e.baseState=g,e.baseQueue=S,l.lastRenderedState=h}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function tf(e){var n=Xe(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var l=i.dispatch,c=i.pending,h=n.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do h=e(h,g.action),g=g.next;while(g!==c);Ht(h,n.memoizedState)||(Ze=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,l]}function zp(e,n,i){var l=pe,c=Xe(),h=Te;if(h){if(i===void 0)throw Error(s(407));i=i()}else i=n();var g=!Ht((Ue||c).memoizedState,i);if(g&&(c.memoizedState=i,Ze=!0),c=c.queue,rf(Hp.bind(null,l,c,e),[e]),c.getSnapshot!==n||g||Fe!==null&&Fe.memoizedState.tag&1){if(l.flags|=2048,Vr(9,{destroy:void 0},qp.bind(null,l,c,i,n),null),Be===null)throw Error(s(349));h||(Pn&127)!==0||Lp(l,n,i)}return i}function Lp(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=pe.updateQueue,n===null?(n=Pl(),pe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function qp(e,n,i,l){n.value=i,n.getSnapshot=l,Ip(n)&&Pp(e)}function Hp(e,n,i){return i(function(){Ip(n)&&Pp(e)})}function Ip(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Ht(e,i)}catch{return!0}}function Pp(e){var n=Ja(e,2);n!==null&&Mt(n,e,2)}function nf(e){var n=Tt();if(typeof e=="function"){var i=e;if(e=i(),ar){fa(!0);try{i()}finally{fa(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},n}function Gp(e,n,i,l){return e.baseState=i,ef(e,Ue,typeof l=="function"?l:Gn)}function HS(e,n,i,l,c){if(Jl(e))throw Error(s(485));if(e=n.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};H.T!==null?i(!0):h.isTransition=!1,l(h),i=n.pending,i===null?(h.next=n.pending=h,Vp(n,h)):(h.next=i.next,n.pending=i.next=h)}}function Vp(e,n){var i=n.action,l=n.payload,c=e.state;if(n.isTransition){var h=H.T,g={};H.T=g;try{var v=i(c,l),S=H.S;S!==null&&S(g,v),Kp(e,n,v)}catch(D){af(e,n,D)}finally{h!==null&&g.types!==null&&(h.types=g.types),H.T=h}}else try{h=i(c,l),Kp(e,n,h)}catch(D){af(e,n,D)}}function Kp(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Yp(e,n,l)},function(l){return af(e,n,l)}):Yp(e,n,i)}function Yp(e,n,i){n.status="fulfilled",n.value=i,Jp(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Vp(e,i)))}function af(e,n,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,Jp(n),n=n.next;while(n!==l)}e.action=null}function Jp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Xp(e,n){return n}function Qp(e,n){if(Te){var i=Be.formState;if(i!==null){e:{var l=pe;if(Te){if(Le){t:{for(var c=Le,h=cn;c.nodeType!==8;){if(!h){c=null;break t}if(c=hn(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Le=hn(c.nextSibling),l=c.data==="F!";break e}}ga(l)}l=!1}l&&(n=i[0])}}return i=Tt(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:n},i.queue=l,i=pg.bind(null,pe,l),l.dispatch=i,l=nf(!1),h=cf.bind(null,pe,!1,l.queue),l=Tt(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,i=HS.bind(null,pe,c,h,i),c.dispatch=i,l.memoizedState=e,[n,i,!1]}function Wp(e){var n=Xe();return Fp(n,Ue,e)}function Fp(e,n,i){if(n=ef(e,n,Xp)[0],e=Vl(Gn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ni(n)}catch(g){throw g===qr?Ml:g}else l=n;n=Xe();var c=n.queue,h=c.dispatch;return i!==n.memoizedState&&(pe.flags|=2048,Vr(9,{destroy:void 0},IS.bind(null,c,i),null)),[l,h,e]}function IS(e,n){e.action=n}function Zp(e){var n=Xe(),i=Ue;if(i!==null)return Fp(n,i,e);Xe(),n=n.memoizedState,i=Xe();var l=i.queue.dispatch;return i.memoizedState=e,[n,l,!1]}function Vr(e,n,i,l){return e={tag:e,create:i,deps:l,inst:n,next:null},n=pe.updateQueue,n===null&&(n=Pl(),pe.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e),e}function eg(){return Xe().memoizedState}function Kl(e,n,i,l){var c=Tt();pe.flags|=e,c.memoizedState=Vr(1|n,{destroy:void 0},i,l===void 0?null:l)}function Yl(e,n,i,l){var c=Xe();l=l===void 0?null:l;var h=c.memoizedState.inst;Ue!==null&&l!==null&&Jc(l,Ue.memoizedState.deps)?c.memoizedState=Vr(n,h,i,l):(pe.flags|=e,c.memoizedState=Vr(1|n,h,i,l))}function tg(e,n){Kl(8390656,8,e,n)}function rf(e,n){Yl(2048,8,e,n)}function PS(e){pe.flags|=4;var n=pe.updateQueue;if(n===null)n=Pl(),pe.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function ng(e){var n=Xe().memoizedState;return PS({ref:n,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ag(e,n){return Yl(4,2,e,n)}function rg(e,n){return Yl(4,4,e,n)}function sg(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ig(e,n,i){i=i!=null?i.concat([e]):null,Yl(4,4,sg.bind(null,n,e),i)}function sf(){}function lg(e,n){var i=Xe();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&Jc(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function og(e,n){var i=Xe();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&Jc(n,l[1]))return l[0];if(l=e(),ar){fa(!0);try{e()}finally{fa(!1)}}return i.memoizedState=[l,n],l}function lf(e,n,i){return i===void 0||(Pn&1073741824)!==0&&(we&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=uy(),pe.lanes|=e,Aa|=e,i)}function ug(e,n,i,l){return Ht(i,n)?i:Ir.current!==null?(e=lf(e,i,l),Ht(e,n)||(Ze=!0),e):(Pn&42)===0||(Pn&1073741824)!==0&&(we&261930)===0?(Ze=!0,e.memoizedState=i):(e=uy(),pe.lanes|=e,Aa|=e,n)}function cg(e,n,i,l,c){var h=X.p;X.p=h!==0&&8>h?h:8;var g=H.T,v={};H.T=v,cf(e,!1,n,i);try{var S=c(),D=H.S;if(D!==null&&D(v,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var L=zS(S,l);ai(e,n,L,Yt(e))}else ai(e,n,l,Yt(e))}catch(P){ai(e,n,{then:function(){},status:"rejected",reason:P},Yt())}finally{X.p=h,g!==null&&v.types!==null&&(g.types=v.types),H.T=g}}function GS(){}function of(e,n,i,l){if(e.tag!==5)throw Error(s(476));var c=fg(e).queue;cg(e,c,n,ce,i===null?GS:function(){return hg(e),i(l)})}function fg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:ce},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function hg(e){var n=fg(e);n.next===null&&(n=e.alternate.memoizedState),ai(e,n.next.queue,{},Yt())}function uf(){return dt(bi)}function dg(){return Xe().memoizedState}function mg(){return Xe().memoizedState}function VS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Yt();e=va(i);var l=ba(n,e,i);l!==null&&(Mt(l,n,i),Fs(l,n,i)),n={cache:Bc()},e.payload=n;return}n=n.return}}function KS(e,n,i){var l=Yt();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Jl(e)?gg(n,i):(i=Rc(e,n,i,l),i!==null&&(Mt(i,e,l),yg(i,n,l)))}function pg(e,n,i){var l=Yt();ai(e,n,i,l)}function ai(e,n,i,l){var c={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Jl(e))gg(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,v=h(g,i);if(c.hasEagerState=!0,c.eagerState=v,Ht(v,g))return Cl(e,n,c,0),Be===null&&Ol(),!1}catch{}if(i=Rc(e,n,c,l),i!==null)return Mt(i,e,l),yg(i,n,l),!0}return!1}function cf(e,n,i,l){if(l={lane:2,revertLane:If(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Jl(e)){if(n)throw Error(s(479))}else n=Rc(e,i,l,2),n!==null&&Mt(n,e,2)}function Jl(e){var n=e.alternate;return e===pe||n!==null&&n===pe}function gg(e,n){Pr=Hl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function yg(e,n,i){if((i&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,Sm(e,i)}}var ri={readContext:dt,use:Gl,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};ri.useEffectEvent=Ge;var _g={readContext:dt,use:Gl,useCallback:function(e,n){return Tt().memoizedState=[e,n===void 0?null:n],e},useContext:dt,useEffect:tg,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Kl(4194308,4,sg.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Kl(4194308,4,e,n)},useInsertionEffect:function(e,n){Kl(4,2,e,n)},useMemo:function(e,n){var i=Tt();n=n===void 0?null:n;var l=e();if(ar){fa(!0);try{e()}finally{fa(!1)}}return i.memoizedState=[l,n],l},useReducer:function(e,n,i){var l=Tt();if(i!==void 0){var c=i(n);if(ar){fa(!0);try{i(n)}finally{fa(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=KS.bind(null,pe,e),[l.memoizedState,e]},useRef:function(e){var n=Tt();return e={current:e},n.memoizedState=e},useState:function(e){e=nf(e);var n=e.queue,i=pg.bind(null,pe,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:sf,useDeferredValue:function(e,n){var i=Tt();return lf(i,e,n)},useTransition:function(){var e=nf(!1);return e=cg.bind(null,pe,e.queue,!0,!1),Tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var l=pe,c=Tt();if(Te){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),Be===null)throw Error(s(349));(we&127)!==0||Lp(l,n,i)}c.memoizedState=i;var h={value:i,getSnapshot:n};return c.queue=h,tg(Hp.bind(null,l,h,e),[e]),l.flags|=2048,Vr(9,{destroy:void 0},qp.bind(null,l,h,i,n),null),i},useId:function(){var e=Tt(),n=Be.identifierPrefix;if(Te){var i=Cn,l=On;i=(l&~(1<<32-qt(l)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Il++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=LS++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:uf,useFormState:Qp,useActionState:Qp,useOptimistic:function(e){var n=Tt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=cf.bind(null,pe,!0,i),i.dispatch=n,[e,n]},useMemoCache:Zc,useCacheRefresh:function(){return Tt().memoizedState=VS.bind(null,pe)},useEffectEvent:function(e){var n=Tt(),i={impl:e};return n.memoizedState=i,function(){if((Ce&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},ff={readContext:dt,use:Gl,useCallback:lg,useContext:dt,useEffect:rf,useImperativeHandle:ig,useInsertionEffect:ag,useLayoutEffect:rg,useMemo:og,useReducer:Vl,useRef:eg,useState:function(){return Vl(Gn)},useDebugValue:sf,useDeferredValue:function(e,n){var i=Xe();return ug(i,Ue.memoizedState,e,n)},useTransition:function(){var e=Vl(Gn)[0],n=Xe().memoizedState;return[typeof e=="boolean"?e:ni(e),n]},useSyncExternalStore:zp,useId:dg,useHostTransitionStatus:uf,useFormState:Wp,useActionState:Wp,useOptimistic:function(e,n){var i=Xe();return Gp(i,Ue,e,n)},useMemoCache:Zc,useCacheRefresh:mg};ff.useEffectEvent=ng;var vg={readContext:dt,use:Gl,useCallback:lg,useContext:dt,useEffect:rf,useImperativeHandle:ig,useInsertionEffect:ag,useLayoutEffect:rg,useMemo:og,useReducer:tf,useRef:eg,useState:function(){return tf(Gn)},useDebugValue:sf,useDeferredValue:function(e,n){var i=Xe();return Ue===null?lf(i,e,n):ug(i,Ue.memoizedState,e,n)},useTransition:function(){var e=tf(Gn)[0],n=Xe().memoizedState;return[typeof e=="boolean"?e:ni(e),n]},useSyncExternalStore:zp,useId:dg,useHostTransitionStatus:uf,useFormState:Zp,useActionState:Zp,useOptimistic:function(e,n){var i=Xe();return Ue!==null?Gp(i,Ue,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Zc,useCacheRefresh:mg};vg.useEffectEvent=ng;function hf(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:y({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var df={enqueueSetState:function(e,n,i){e=e._reactInternals;var l=Yt(),c=va(l);c.payload=n,i!=null&&(c.callback=i),n=ba(e,c,l),n!==null&&(Mt(n,e,l),Fs(n,e,l))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=Yt(),c=va(l);c.tag=1,c.payload=n,i!=null&&(c.callback=i),n=ba(e,c,l),n!==null&&(Mt(n,e,l),Fs(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Yt(),l=va(i);l.tag=2,n!=null&&(l.callback=n),n=ba(e,l,i),n!==null&&(Mt(n,e,i),Fs(n,e,i))}};function bg(e,n,i,l,c,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!Gs(i,l)||!Gs(c,h):!0}function wg(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&df.enqueueReplaceState(n,n.state,null)}function rr(e,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(e=e.defaultProps){i===n&&(i=y({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}function Sg(e){Rl(e)}function Eg(e){console.error(e)}function Tg(e){Rl(e)}function Xl(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ag(e,n,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mf(e,n,i){return i=va(i),i.tag=3,i.payload={element:null},i.callback=function(){Xl(e,n)},i}function Rg(e){return e=va(e),e.tag=3,e}function Og(e,n,i,l){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;e.payload=function(){return c(h)},e.callback=function(){Ag(n,i,l)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Ag(n,i,l),typeof c!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function YS(e,n,i,l,c){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&Br(n,i,c,!0),i=Pt.current,i!==null){switch(i.tag){case 31:case 13:return fn===null?lo():i.alternate===null&&Ve===0&&(Ve=3),i.flags&=-257,i.flags|=65536,i.lanes=c,l===$l?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),Lf(e,l,c)),!1;case 22:return i.flags|=65536,l===$l?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),Lf(e,l,c)),!1}throw Error(s(435,i.tag))}return Lf(e,l,c),lo(),!1}if(Te)return n=Pt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==jc&&(e=Error(s(422),{cause:l}),Ys(ln(e,i)))):(l!==jc&&(n=Error(s(423),{cause:l}),Ys(ln(n,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=ln(l,i),c=mf(e.stateNode,l,c),Pc(e,c),Ve!==4&&(Ve=2)),!1;var h=Error(s(520),{cause:l});if(h=ln(h,i),hi===null?hi=[h]:hi.push(h),Ve!==4&&(Ve=2),n===null)return!0;l=ln(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=mf(i.stateNode,l,e),Pc(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ra===null||!Ra.has(h))))return i.flags|=65536,c&=-c,i.lanes|=c,c=Rg(c),Og(c,e,i,l),Pc(i,c),!1}i=i.return}while(i!==null);return!1}var pf=Error(s(461)),Ze=!1;function mt(e,n,i,l){n.child=e===null?Np(n,null,i,l):nr(n,e.child,i,l)}function Cg(e,n,i,l,c){i=i.render;var h=n.ref;if("ref"in l){var g={};for(var v in l)v!=="ref"&&(g[v]=l[v])}else g=l;return Fa(n),l=Xc(e,n,i,g,h,c),v=Qc(),e!==null&&!Ze?(Wc(e,n,c),Vn(e,n,c)):(Te&&v&&kc(n),n.flags|=1,mt(e,n,l,c),n.child)}function xg(e,n,i,l,c){if(e===null){var h=i.type;return typeof h=="function"&&!Oc(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,kg(e,n,h,l,c)):(e=kl(i.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Ef(e,c)){var g=h.memoizedProps;if(i=i.compare,i=i!==null?i:Gs,i(g,l)&&e.ref===n.ref)return Vn(e,n,c)}return n.flags|=1,e=Ln(h,l),e.ref=n.ref,e.return=n,n.child=e}function kg(e,n,i,l,c){if(e!==null){var h=e.memoizedProps;if(Gs(h,l)&&e.ref===n.ref)if(Ze=!1,n.pendingProps=l=h,Ef(e,c))(e.flags&131072)!==0&&(Ze=!0);else return n.lanes=e.lanes,Vn(e,n,c)}return gf(e,n,i,l,c)}function Ng(e,n,i,l){var c=l.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return jg(e,n,h,i,l)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dl(n,h!==null?h.cachePool:null),h!==null?Dp(n,h):Vc(),Mp(n);else return l=n.lanes=536870912,jg(e,n,h!==null?h.baseLanes|i:i,i,l)}else h!==null?(Dl(n,h.cachePool),Dp(n,h),Sa(),n.memoizedState=null):(e!==null&&Dl(n,null),Vc(),Sa());return mt(e,n,c,i),n.child}function si(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jg(e,n,i,l,c){var h=Lc();return h=h===null?null:{parent:We._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},e!==null&&Dl(n,null),Vc(),Mp(n),e!==null&&Br(e,n,l,!0),n.childLanes=c,null}function Ql(e,n){return n=Fl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ug(e,n,i){return nr(n,e.child,null,i),e=Ql(n,n.pendingProps),e.flags|=2,Gt(n),n.memoizedState=null,e}function JS(e,n,i){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Te){if(l.mode==="hidden")return e=Ql(n,l),n.lanes=536870912,si(null,e);if(Yc(n),(e=Le)?(e=Vy(e,cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ma!==null?{id:On,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},i=gp(e),i.return=n,n.child=i,ht=n,Le=null)):e=null,e===null)throw ga(n);return n.lanes=536870912,null}return Ql(n,l)}var h=e.memoizedState;if(h!==null){var g=h.dehydrated;if(Yc(n),c)if(n.flags&256)n.flags&=-257,n=Ug(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ze||Br(e,n,i,!1),c=(i&e.childLanes)!==0,Ze||c){if(l=Be,l!==null&&(g=Em(l,i),g!==0&&g!==h.retryLane))throw h.retryLane=g,Ja(e,g),Mt(l,e,g),pf;lo(),n=Ug(e,n,i)}else e=h.treeContext,Le=hn(g.nextSibling),ht=n,Te=!0,pa=null,cn=!1,e!==null&&vp(n,e),n=Ql(n,l),n.flags|=4096;return n}return e=Ln(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wl(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function gf(e,n,i,l,c){return Fa(n),i=Xc(e,n,i,l,void 0,c),l=Qc(),e!==null&&!Ze?(Wc(e,n,c),Vn(e,n,c)):(Te&&l&&kc(n),n.flags|=1,mt(e,n,i,c),n.child)}function Dg(e,n,i,l,c,h){return Fa(n),n.updateQueue=null,i=Bp(n,l,i,c),$p(e),l=Qc(),e!==null&&!Ze?(Wc(e,n,h),Vn(e,n,h)):(Te&&l&&kc(n),n.flags|=1,mt(e,n,i,h),n.child)}function Mg(e,n,i,l,c){if(Fa(n),n.stateNode===null){var h=Ur,g=i.contextType;typeof g=="object"&&g!==null&&(h=dt(g)),h=new i(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=df,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},Hc(n),g=i.contextType,h.context=typeof g=="object"&&g!==null?dt(g):Ur,h.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(hf(n,i,g,l),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&df.enqueueReplaceState(h,h.state,null),ei(n,l,h,c),Zs(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){h=n.stateNode;var v=n.memoizedProps,S=rr(i,v);h.props=S;var D=h.context,L=i.contextType;g=Ur,typeof L=="object"&&L!==null&&(g=dt(L));var P=i.getDerivedStateFromProps;L=typeof P=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,L||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||D!==g)&&wg(n,h,l,g),_a=!1;var B=n.memoizedState;h.state=B,ei(n,l,h,c),Zs(),D=n.memoizedState,v||B!==D||_a?(typeof P=="function"&&(hf(n,i,P,l),D=n.memoizedState),(S=_a||bg(n,i,S,l,B,D,g))?(L||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=D),h.props=l,h.state=D,h.context=g,l=S):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Ic(e,n),g=n.memoizedProps,L=rr(i,g),h.props=L,P=n.pendingProps,B=h.context,D=i.contextType,S=Ur,typeof D=="object"&&D!==null&&(S=dt(D)),v=i.getDerivedStateFromProps,(D=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==P||B!==S)&&wg(n,h,l,S),_a=!1,B=n.memoizedState,h.state=B,ei(n,l,h,c),Zs();var z=n.memoizedState;g!==P||B!==z||_a||e!==null&&e.dependencies!==null&&jl(e.dependencies)?(typeof v=="function"&&(hf(n,i,v,l),z=n.memoizedState),(L=_a||bg(n,i,L,l,B,z,S)||e!==null&&e.dependencies!==null&&jl(e.dependencies))?(D||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,z,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,z,S)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=z),h.props=l,h.state=z,h.context=S,l=L):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),l=!1)}return h=l,Wl(e,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&l?(n.child=nr(n,e.child,null,c),n.child=nr(n,null,i,c)):mt(e,n,i,c),n.memoizedState=h.state,e=n.child):e=Vn(e,n,c),e}function $g(e,n,i,l){return Qa(),n.flags|=256,mt(e,n,i,l),n.child}var yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(e){return{baseLanes:e,cachePool:Ap()}}function vf(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Kt),e}function Bg(e,n,i){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Te){if(c?wa(n):Sa(),(e=Le)?(e=Vy(e,cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ma!==null?{id:On,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},i=gp(e),i.return=n,n.child=i,ht=n,Le=null)):e=null,e===null)throw ga(n);return th(e)?n.lanes=32:n.lanes=536870912,null}var v=l.children;return l=l.fallback,c?(Sa(),c=n.mode,v=Fl({mode:"hidden",children:v},c),l=Xa(l,c,i,null),v.return=n,l.return=n,v.sibling=l,n.child=v,l=n.child,l.memoizedState=_f(i),l.childLanes=vf(e,g,i),n.memoizedState=yf,si(null,l)):(wa(n),bf(n,v))}var S=e.memoizedState;if(S!==null&&(v=S.dehydrated,v!==null)){if(h)n.flags&256?(wa(n),n.flags&=-257,n=wf(e,n,i)):n.memoizedState!==null?(Sa(),n.child=e.child,n.flags|=128,n=null):(Sa(),v=l.fallback,c=n.mode,l=Fl({mode:"visible",children:l.children},c),v=Xa(v,c,i,null),v.flags|=2,l.return=n,v.return=n,l.sibling=v,n.child=l,nr(n,e.child,null,i),l=n.child,l.memoizedState=_f(i),l.childLanes=vf(e,g,i),n.memoizedState=yf,n=si(null,l));else if(wa(n),th(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var D=g.dgst;g=D,l=Error(s(419)),l.stack="",l.digest=g,Ys({value:l,source:null,stack:null}),n=wf(e,n,i)}else if(Ze||Br(e,n,i,!1),g=(i&e.childLanes)!==0,Ze||g){if(g=Be,g!==null&&(l=Em(g,i),l!==0&&l!==S.retryLane))throw S.retryLane=l,Ja(e,l),Mt(g,e,l),pf;eh(v)||lo(),n=wf(e,n,i)}else eh(v)?(n.flags|=192,n.child=e.child,n=null):(e=S.treeContext,Le=hn(v.nextSibling),ht=n,Te=!0,pa=null,cn=!1,e!==null&&vp(n,e),n=bf(n,l.children),n.flags|=4096);return n}return c?(Sa(),v=l.fallback,c=n.mode,S=e.child,D=S.sibling,l=Ln(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,D!==null?v=Ln(D,v):(v=Xa(v,c,i,null),v.flags|=2),v.return=n,l.return=n,l.sibling=v,n.child=l,si(null,l),l=n.child,v=e.child.memoizedState,v===null?v=_f(i):(c=v.cachePool,c!==null?(S=We._currentValue,c=c.parent!==S?{parent:S,pool:S}:c):c=Ap(),v={baseLanes:v.baseLanes|i,cachePool:c}),l.memoizedState=v,l.childLanes=vf(e,g,i),n.memoizedState=yf,si(e.child,l)):(wa(n),i=e.child,e=i.sibling,i=Ln(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=i,n.memoizedState=null,i)}function bf(e,n){return n=Fl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Fl(e,n){return e=It(22,e,null,n),e.lanes=0,e}function wf(e,n,i){return nr(n,e.child,null,i),e=bf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zg(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Mc(e.return,n,i)}function Sf(e,n,i,l,c,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=i,g.tailMode=c,g.treeForkCount=h)}function Lg(e,n,i){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=Je.current,v=(g&2)!==0;if(v?(g=g&1|2,n.flags|=128):g&=1,Q(Je,g),mt(e,n,l,i),l=Te?Ks:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zg(e,i,n);else if(e.tag===19)zg(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&ql(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),Sf(n,!1,c,i,h,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&ql(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Sf(n,!0,i,null,h,l);break;case"together":Sf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Vn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Aa|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Br(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=Ln(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Ln(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Ef(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&jl(e)))}function XS(e,n,i){switch(n.tag){case 3:Et(n,n.stateNode.containerInfo),ya(n,We,e.memoizedState.cache),Qa();break;case 27:case 5:Ns(n);break;case 4:Et(n,n.stateNode.containerInfo);break;case 10:ya(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Yc(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(wa(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Bg(e,n,i):(wa(n),e=Vn(e,n,i),e!==null?e.sibling:null);wa(n);break;case 19:var c=(e.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(Br(e,n,i,!1),l=(i&n.childLanes)!==0),c){if(l)return Lg(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Q(Je,Je.current),l)break;return null;case 22:return n.lanes=0,Ng(e,n,i,n.pendingProps);case 24:ya(n,We,e.memoizedState.cache)}return Vn(e,n,i)}function qg(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ze=!0;else{if(!Ef(e,i)&&(n.flags&128)===0)return Ze=!1,XS(e,n,i);Ze=(e.flags&131072)!==0}else Ze=!1,Te&&(n.flags&1048576)!==0&&_p(n,Ks,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=er(n.elementType),n.type=e,typeof e=="function")Oc(e)?(l=rr(e,l),n.tag=1,n=Mg(null,n,e,l,i)):(n.tag=0,n=gf(null,n,e,l,i));else{if(e!=null){var c=e.$$typeof;if(c===q){n.tag=11,n=Cg(null,n,e,l,i);break e}else if(c===G){n.tag=14,n=xg(null,n,e,l,i);break e}}throw n=yn(e)||e,Error(s(306,n,""))}}return n;case 0:return gf(e,n,n.type,n.pendingProps,i);case 1:return l=n.type,c=rr(l,n.pendingProps),Mg(e,n,l,c,i);case 3:e:{if(Et(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,Ic(e,n),ei(n,l,null,i);var g=n.memoizedState;if(l=g.cache,ya(n,We,l),l!==h.cache&&$c(n,[We],i,!0),Zs(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=$g(e,n,l,i);break e}else if(l!==c){c=ln(Error(s(424)),n),Ys(c),n=$g(e,n,l,i);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Le=hn(e.firstChild),ht=n,Te=!0,pa=null,cn=!0,i=Np(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Qa(),l===c){n=Vn(e,n,i);break e}mt(e,n,l,i)}n=n.child}return n;case 26:return Wl(e,n),e===null?(i=Wy(n.type,null,n.pendingProps,null))?n.memoizedState=i:Te||(i=n.type,e=n.pendingProps,l=po(_e.current).createElement(i),l[ft]=n,l[xt]=e,pt(l,i,e),lt(l),n.stateNode=l):n.memoizedState=Wy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ns(n),e===null&&Te&&(l=n.stateNode=Jy(n.type,n.pendingProps,_e.current),ht=n,cn=!0,c=Le,ka(n.type)?(nh=c,Le=hn(l.firstChild)):Le=c),mt(e,n,n.pendingProps.children,i),Wl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Te&&((c=l=Le)&&(l=AE(l,n.type,n.pendingProps,cn),l!==null?(n.stateNode=l,ht=n,Le=hn(l.firstChild),cn=!1,c=!0):c=!1),c||ga(n)),Ns(n),c=n.type,h=n.pendingProps,g=e!==null?e.memoizedProps:null,l=h.children,Wf(c,h)?l=null:g!==null&&Wf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Xc(e,n,qS,null,null,i),bi._currentValue=c),Wl(e,n),mt(e,n,l,i),n.child;case 6:return e===null&&Te&&((e=i=Le)&&(i=RE(i,n.pendingProps,cn),i!==null?(n.stateNode=i,ht=n,Le=null,e=!0):e=!1),e||ga(n)),null;case 13:return Bg(e,n,i);case 4:return Et(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=nr(n,null,l,i):mt(e,n,l,i),n.child;case 11:return Cg(e,n,n.type,n.pendingProps,i);case 7:return mt(e,n,n.pendingProps,i),n.child;case 8:return mt(e,n,n.pendingProps.children,i),n.child;case 12:return mt(e,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,ya(n,n.type,l.value),mt(e,n,l.children,i),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Fa(n),c=dt(c),l=l(c),n.flags|=1,mt(e,n,l,i),n.child;case 14:return xg(e,n,n.type,n.pendingProps,i);case 15:return kg(e,n,n.type,n.pendingProps,i);case 19:return Lg(e,n,i);case 31:return JS(e,n,i);case 22:return Ng(e,n,i,n.pendingProps);case 24:return Fa(n),l=dt(We),e===null?(c=Lc(),c===null&&(c=Be,h=Bc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=i),c=h),n.memoizedState={parent:l,cache:c},Hc(n),ya(n,We,c)):((e.lanes&i)!==0&&(Ic(e,n),ei(n,null,null,i),Zs()),c=e.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ya(n,We,l)):(l=h.cache,ya(n,We,l),l!==c.cache&&$c(n,[We],i,!0))),mt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Kn(e){e.flags|=4}function Tf(e,n,i,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(dy())e.flags|=8192;else throw tr=$l,qc}else e.flags&=-16777217}function Hg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!n_(n))if(dy())e.flags|=8192;else throw tr=$l,qc}function Zl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?bm():536870912,e.lanes|=n,Xr|=n)}function ii(e,n){if(!Te)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function qe(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function QS(e,n,i){var l=n.pendingProps;switch(Nc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(n),null;case 1:return qe(n),null;case 3:return i=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),In(We),Ye(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&($r(n)?Kn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Uc())),qe(n),null;case 26:var c=n.type,h=n.memoizedState;return e===null?(Kn(n),h!==null?(qe(n),Hg(n,h)):(qe(n),Tf(n,c,null,l,i))):h?h!==e.memoizedState?(Kn(n),qe(n),Hg(n,h)):(qe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Kn(n),qe(n),Tf(n,c,e,l,i)),null;case 27:if(cl(n),i=_e.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Kn(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return qe(n),null}e=ee.current,$r(n)?bp(n):(e=Jy(c,l,i),n.stateNode=e,Kn(n))}return qe(n),null;case 5:if(cl(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Kn(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return qe(n),null}if(h=ee.current,$r(n))bp(n);else{var g=po(_e.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[ft]=n,h[xt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;e:switch(pt(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Kn(n)}}return qe(n),Tf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Kn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=_e.current,$r(n)){if(e=n.stateNode,i=n.memoizedProps,l=null,c=ht,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[ft]=n,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||By(e.nodeValue,i)),e||ga(n,!0)}else e=po(e).createTextNode(l),e[ft]=n,n.stateNode=e}return qe(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(l=$r(n),i!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ft]=n}else Qa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),e=!1}else i=Uc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Gt(n),n):(Gt(n),null);if((n.flags&128)!==0)throw Error(s(558))}return qe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=$r(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ft]=n}else Qa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),c=!1}else c=Uc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Gt(n),n):(Gt(n),null)}return Gt(n),(n.flags&128)!==0?(n.lanes=i,n):(i=l!==null,e=e!==null&&e.memoizedState!==null,i&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),Zl(n,n.updateQueue),qe(n),null);case 4:return Ye(),e===null&&Kf(n.stateNode.containerInfo),qe(n),null;case 10:return In(n.type),qe(n),null;case 19:if(V(Je),l=n.memoizedState,l===null)return qe(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)ii(l,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=ql(e),h!==null){for(n.flags|=128,ii(l,!1),e=h.updateQueue,n.updateQueue=e,Zl(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)pp(i,e),i=i.sibling;return Q(Je,Je.current&1|2),Te&&qn(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&zt()>ro&&(n.flags|=128,c=!0,ii(l,!1),n.lanes=4194304)}else{if(!c)if(e=ql(h),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Zl(n,e),ii(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Te)return qe(n),null}else 2*zt()-l.renderingStartTime>ro&&i!==536870912&&(n.flags|=128,c=!0,ii(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(e=l.last,e!==null?e.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=zt(),e.sibling=null,i=Je.current,Q(Je,c?i&1|2:i&1),Te&&qn(n,l.treeForkCount),e):(qe(n),null);case 22:case 23:return Gt(n),Kc(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(qe(n),n.subtreeFlags&6&&(n.flags|=8192)):qe(n),i=n.updateQueue,i!==null&&Zl(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),e!==null&&V(Za),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),In(We),qe(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function WS(e,n){switch(Nc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return In(We),Ye(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return cl(n),null;case 31:if(n.memoizedState!==null){if(Gt(n),n.alternate===null)throw Error(s(340));Qa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Gt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Qa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return V(Je),null;case 4:return Ye(),null;case 10:return In(n.type),null;case 22:case 23:return Gt(n),Kc(),e!==null&&V(Za),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return In(We),null;case 25:return null;default:return null}}function Ig(e,n){switch(Nc(n),n.tag){case 3:In(We),Ye();break;case 26:case 27:case 5:cl(n);break;case 4:Ye();break;case 31:n.memoizedState!==null&&Gt(n);break;case 13:Gt(n);break;case 19:V(Je);break;case 10:In(n.type);break;case 22:case 23:Gt(n),Kc(),e!==null&&V(Za);break;case 24:In(We)}}function li(e,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var c=l.next;i=c;do{if((i.tag&e)===e){l=void 0;var h=i.create,g=i.inst;l=h(),g.destroy=l}i=i.next}while(i!==c)}}catch(v){Ne(n,n.return,v)}}function Ea(e,n,i){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&e)===e){var g=l.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=n;var S=i,D=v;try{D()}catch(L){Ne(c,S,L)}}}l=l.next}while(l!==h)}}catch(L){Ne(n,n.return,L)}}function Pg(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Up(n,i)}catch(l){Ne(e,e.return,l)}}}function Gg(e,n,i){i.props=rr(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){Ne(e,n,l)}}function oi(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(c){Ne(e,n,c)}}function xn(e,n){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(c){Ne(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Ne(e,n,c)}else i.current=null}function Vg(e){var n=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(c){Ne(e,e.return,c)}}function Af(e,n,i){try{var l=e.stateNode;vE(l,e.type,i,n),l[xt]=n}catch(c){Ne(e,e.return,c)}}function Kg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ka(e.type)||e.tag===4}function Rf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ka(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Bn));else if(l!==4&&(l===27&&ka(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Of(e,n,i),e=e.sibling;e!==null;)Of(e,n,i),e=e.sibling}function eo(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(l===27&&ka(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(eo(e,n,i),e=e.sibling;e!==null;)eo(e,n,i),e=e.sibling}function Yg(e){var n=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);pt(n,l,i),n[ft]=e,n[xt]=i}catch(h){Ne(e,e.return,h)}}var Yn=!1,et=!1,Cf=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,ot=null;function FS(e,n){if(e=e.containerInfo,Xf=So,e=ip(e),bc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var g=0,v=-1,S=-1,D=0,L=0,P=e,B=null;t:for(;;){for(var z;P!==i||c!==0&&P.nodeType!==3||(v=g+c),P!==h||l!==0&&P.nodeType!==3||(S=g+l),P.nodeType===3&&(g+=P.nodeValue.length),(z=P.firstChild)!==null;)B=P,P=z;for(;;){if(P===e)break t;if(B===i&&++D===c&&(v=g),B===h&&++L===l&&(S=g),(z=P.nextSibling)!==null)break;P=B,B=P.parentNode}P=z}i=v===-1||S===-1?null:{start:v,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(Qf={focusedElem:e,selectionRange:i},So=!1,ot=n;ot!==null;)if(n=ot,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ot=e;else for(;ot!==null;){switch(n=ot,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)c=e[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,c=h.memoizedProps,h=h.memoizedState,l=i.stateNode;try{var F=rr(i.type,c);e=l.getSnapshotBeforeUpdate(F,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Ne(i,i.return,ie)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Zf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,ot=e;break}ot=n.return}}function Xg(e,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(e,i),l&4&&li(5,i);break;case 1:if(Xn(e,i),l&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(g){Ne(i,i.return,g)}else{var c=rr(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ne(i,i.return,g)}}l&64&&Pg(i),l&512&&oi(i,i.return);break;case 3:if(Xn(e,i),l&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Up(e,n)}catch(g){Ne(i,i.return,g)}}break;case 27:n===null&&l&4&&Yg(i);case 26:case 5:Xn(e,i),n===null&&l&4&&Vg(i),l&512&&oi(i,i.return);break;case 12:Xn(e,i);break;case 31:Xn(e,i),l&4&&Fg(e,i);break;case 13:Xn(e,i),l&4&&Zg(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=lE.bind(null,i),OE(e,i))));break;case 22:if(l=i.memoizedState!==null||Yn,!l){n=n!==null&&n.memoizedState!==null||et,c=Yn;var h=et;Yn=l,(et=n)&&!h?Qn(e,i,(i.subtreeFlags&8772)!==0):Xn(e,i),Yn=c,et=h}break;case 30:break;default:Xn(e,i)}}function Qg(e){var n=e.alternate;n!==null&&(e.alternate=null,Qg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ac(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,Nt=!1;function Jn(e,n,i){for(i=i.child;i!==null;)Wg(e,n,i),i=i.sibling}function Wg(e,n,i){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(js,i)}catch{}switch(i.tag){case 26:et||xn(i,n),Jn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:et||xn(i,n);var l=He,c=Nt;ka(i.type)&&(He=i.stateNode,Nt=!1),Jn(e,n,i),yi(i.stateNode),He=l,Nt=c;break;case 5:et||xn(i,n);case 6:if(l=He,c=Nt,He=null,Jn(e,n,i),He=l,Nt=c,He!==null)if(Nt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(i.stateNode)}catch(h){Ne(i,n,h)}else try{He.removeChild(i.stateNode)}catch(h){Ne(i,n,h)}break;case 18:He!==null&&(Nt?(e=He,Py(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),as(e)):Py(He,i.stateNode));break;case 4:l=He,c=Nt,He=i.stateNode.containerInfo,Nt=!0,Jn(e,n,i),He=l,Nt=c;break;case 0:case 11:case 14:case 15:Ea(2,i,n),et||Ea(4,i,n),Jn(e,n,i);break;case 1:et||(xn(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Gg(i,n,l)),Jn(e,n,i);break;case 21:Jn(e,n,i);break;case 22:et=(l=et)||i.memoizedState!==null,Jn(e,n,i),et=l;break;default:Jn(e,n,i)}}function Fg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{as(e)}catch(i){Ne(n,n.return,i)}}}function Zg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{as(e)}catch(i){Ne(n,n.return,i)}}function ZS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Jg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Jg),n;default:throw Error(s(435,e.tag))}}function to(e,n){var i=ZS(e);n.forEach(function(l){if(!i.has(l)){i.add(l);var c=oE.bind(null,e,l);l.then(c,c)}})}function jt(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var c=i[l],h=e,g=n,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(ka(v.type)){He=v.stateNode,Nt=!1;break e}break;case 5:He=v.stateNode,Nt=!1;break e;case 3:case 4:He=v.stateNode.containerInfo,Nt=!0;break e}v=v.return}if(He===null)throw Error(s(160));Wg(h,g,c),He=null,Nt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ey(n,e),n=n.sibling}var vn=null;function ey(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jt(n,e),Ut(e),l&4&&(Ea(3,e,e.return),li(3,e),Ea(5,e,e.return));break;case 1:jt(n,e),Ut(e),l&512&&(et||i===null||xn(i,i.return)),l&64&&Yn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var c=vn;if(jt(n,e),Ut(e),l&512&&(et||i===null||xn(i,i.return)),l&4){var h=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Ms]||h[ft]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),pt(h,l,i),h[ft]=e,lt(h),l=h;break e;case"link":var g=e_("link","href",c).get(l+(i.href||""));if(g){for(var v=0;v<g.length;v++)if(h=g[v],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(v,1);break t}}h=c.createElement(l),pt(h,l,i),c.head.appendChild(h);break;case"meta":if(g=e_("meta","content",c).get(l+(i.content||""))){for(v=0;v<g.length;v++)if(h=g[v],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(v,1);break t}}h=c.createElement(l),pt(h,l,i),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[ft]=e,lt(h),l=h}e.stateNode=l}else t_(c,e.type,e.stateNode);else e.stateNode=Zy(c,l,e.memoizedProps);else h!==l?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,l===null?t_(c,e.type,e.stateNode):Zy(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Af(e,e.memoizedProps,i.memoizedProps)}break;case 27:jt(n,e),Ut(e),l&512&&(et||i===null||xn(i,i.return)),i!==null&&l&4&&Af(e,e.memoizedProps,i.memoizedProps);break;case 5:if(jt(n,e),Ut(e),l&512&&(et||i===null||xn(i,i.return)),e.flags&32){c=e.stateNode;try{Rr(c,"")}catch(F){Ne(e,e.return,F)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Af(e,c,i!==null?i.memoizedProps:c)),l&1024&&(Cf=!0);break;case 6:if(jt(n,e),Ut(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(F){Ne(e,e.return,F)}}break;case 3:if(_o=null,c=vn,vn=go(n.containerInfo),jt(n,e),vn=c,Ut(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{as(n.containerInfo)}catch(F){Ne(e,e.return,F)}Cf&&(Cf=!1,ty(e));break;case 4:l=vn,vn=go(e.stateNode.containerInfo),jt(n,e),Ut(e),vn=l;break;case 12:jt(n,e),Ut(e);break;case 31:jt(n,e),Ut(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,to(e,l)));break;case 13:jt(n,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ao=zt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,to(e,l)));break;case 22:c=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,D=Yn,L=et;if(Yn=D||c,et=L||S,jt(n,e),et=L,Yn=D,Ut(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(i===null||S||Yn||et||sr(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){S=i=n;try{if(h=S.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=S.stateNode;var P=S.memoizedProps.style,B=P!=null&&P.hasOwnProperty("display")?P.display:null;v.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(F){Ne(S,S.return,F)}}}else if(n.tag===6){if(i===null){S=n;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(F){Ne(S,S.return,F)}}}else if(n.tag===18){if(i===null){S=n;try{var z=S.stateNode;c?Gy(z,!0):Gy(S.stateNode,!1)}catch(F){Ne(S,S.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,to(e,i))));break;case 19:jt(n,e),Ut(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,to(e,l)));break;case 30:break;case 21:break;default:jt(n,e),Ut(e)}}function Ut(e){var n=e.flags;if(n&2){try{for(var i,l=e.return;l!==null;){if(Kg(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var c=i.stateNode,h=Rf(e);eo(e,h,c);break;case 5:var g=i.stateNode;i.flags&32&&(Rr(g,""),i.flags&=-33);var v=Rf(e);eo(e,v,g);break;case 3:case 4:var S=i.stateNode.containerInfo,D=Rf(e);Of(e,D,S);break;default:throw Error(s(161))}}catch(L){Ne(e,e.return,L)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(e,n.alternate,n),n=n.sibling}function sr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ea(4,n,n.return),sr(n);break;case 1:xn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Gg(n,n.return,i),sr(n);break;case 27:yi(n.stateNode);case 26:case 5:xn(n,n.return),sr(n);break;case 22:n.memoizedState===null&&sr(n);break;case 30:sr(n);break;default:sr(n)}e=e.sibling}}function Qn(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:Qn(c,h,i),li(4,h);break;case 1:if(Qn(c,h,i),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(D){Ne(l,l.return,D)}if(l=h,c=l.updateQueue,c!==null){var v=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)jp(S[c],v)}catch(D){Ne(l,l.return,D)}}i&&g&64&&Pg(h),oi(h,h.return);break;case 27:Yg(h);case 26:case 5:Qn(c,h,i),i&&l===null&&g&4&&Vg(h),oi(h,h.return);break;case 12:Qn(c,h,i);break;case 31:Qn(c,h,i),i&&g&4&&Fg(c,h);break;case 13:Qn(c,h,i),i&&g&4&&Zg(c,h);break;case 22:h.memoizedState===null&&Qn(c,h,i),oi(h,h.return);break;case 30:break;default:Qn(c,h,i)}n=n.sibling}}function xf(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Js(i))}function kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Js(e))}function bn(e,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ny(e,n,i,l),n=n.sibling}function ny(e,n,i,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:bn(e,n,i,l),c&2048&&li(9,n);break;case 1:bn(e,n,i,l);break;case 3:bn(e,n,i,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Js(e)));break;case 12:if(c&2048){bn(e,n,i,l),e=n.stateNode;try{var h=n.memoizedProps,g=h.id,v=h.onPostCommit;typeof v=="function"&&v(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ne(n,n.return,S)}}else bn(e,n,i,l);break;case 31:bn(e,n,i,l);break;case 13:bn(e,n,i,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?bn(e,n,i,l):ui(e,n):h._visibility&2?bn(e,n,i,l):(h._visibility|=2,Kr(e,n,i,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&xf(g,n);break;case 24:bn(e,n,i,l),c&2048&&kf(n.alternate,n);break;default:bn(e,n,i,l)}}function Kr(e,n,i,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,g=n,v=i,S=l,D=g.flags;switch(g.tag){case 0:case 11:case 15:Kr(h,g,v,S,c),li(8,g);break;case 23:break;case 22:var L=g.stateNode;g.memoizedState!==null?L._visibility&2?Kr(h,g,v,S,c):ui(h,g):(L._visibility|=2,Kr(h,g,v,S,c)),c&&D&2048&&xf(g.alternate,g);break;case 24:Kr(h,g,v,S,c),c&&D&2048&&kf(g.alternate,g);break;default:Kr(h,g,v,S,c)}n=n.sibling}}function ui(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,l=n,c=l.flags;switch(l.tag){case 22:ui(i,l),c&2048&&xf(l.alternate,l);break;case 24:ui(i,l),c&2048&&kf(l.alternate,l);break;default:ui(i,l)}n=n.sibling}}var ci=8192;function Yr(e,n,i){if(e.subtreeFlags&ci)for(e=e.child;e!==null;)ay(e,n,i),e=e.sibling}function ay(e,n,i){switch(e.tag){case 26:Yr(e,n,i),e.flags&ci&&e.memoizedState!==null&&LE(i,vn,e.memoizedState,e.memoizedProps);break;case 5:Yr(e,n,i);break;case 3:case 4:var l=vn;vn=go(e.stateNode.containerInfo),Yr(e,n,i),vn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ci,ci=16777216,Yr(e,n,i),ci=l):Yr(e,n,i));break;default:Yr(e,n,i)}}function ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function fi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];ot=l,iy(l,e)}ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sy(e),e=e.sibling}function sy(e){switch(e.tag){case 0:case 11:case 15:fi(e),e.flags&2048&&Ea(9,e,e.return);break;case 3:fi(e);break;case 12:fi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,no(e)):fi(e);break;default:fi(e)}}function no(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];ot=l,iy(l,e)}ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ea(8,n,n.return),no(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,no(n));break;default:no(n)}e=e.sibling}}function iy(e,n){for(;ot!==null;){var i=ot;switch(i.tag){case 0:case 11:case 15:Ea(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Js(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,ot=l;else e:for(i=e;ot!==null;){l=ot;var c=l.sibling,h=l.return;if(Qg(l),l===i){ot=null;break e}if(c!==null){c.return=h,ot=c;break e}ot=h}}}var eE={getCacheForType:function(e){var n=dt(We),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return dt(We).controller.signal}},tE=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Be=null,ve=null,we=0,ke=0,Vt=null,Ta=!1,Jr=!1,Nf=!1,Wn=0,Ve=0,Aa=0,ir=0,jf=0,Kt=0,Xr=0,hi=null,Dt=null,Uf=!1,ao=0,ly=0,ro=1/0,so=null,Ra=null,at=0,Oa=null,Qr=null,Fn=0,Df=0,Mf=null,oy=null,di=0,$f=null;function Yt(){return(Ce&2)!==0&&we!==0?we&-we:H.T!==null?If():Tm()}function uy(){if(Kt===0)if((we&536870912)===0||Te){var e=dl;dl<<=1,(dl&3932160)===0&&(dl=262144),Kt=e}else Kt=536870912;return e=Pt.current,e!==null&&(e.flags|=32),Kt}function Mt(e,n,i){(e===Be&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(Wr(e,0),Ca(e,we,Kt,!1)),Ds(e,i),((Ce&2)===0||e!==Be)&&(e===Be&&((Ce&2)===0&&(ir|=i),Ve===4&&Ca(e,we,Kt,!1)),kn(e))}function cy(e,n,i){if((Ce&6)!==0)throw Error(s(327));var l=!i&&(n&127)===0&&(n&e.expiredLanes)===0||Us(e,n),c=l?rE(e,n):zf(e,n,!0),h=l;do{if(c===0){Jr&&!l&&Ca(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!nE(i)){c=zf(e,n,!1),h=!1;continue}if(c===2){if(h=n,e.errorRecoveryDisabledLanes&h)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var v=e;c=hi;var S=v.current.memoizedState.isDehydrated;if(S&&(Wr(v,g).flags|=256),g=zf(v,g,!1),g!==2){if(Nf&&!S){v.errorRecoveryDisabledLanes|=h,ir|=h,c=4;break e}h=Dt,Dt=c,h!==null&&(Dt===null?Dt=h:Dt.push.apply(Dt,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){Wr(e,0),Ca(e,n,0,!0);break}e:{switch(l=e,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ca(l,n,Kt,!Ta);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=ao+300-zt(),10<c)){if(Ca(l,n,Kt,!Ta),pl(l,0,!0)!==0)break e;Fn=n,l.timeoutHandle=Hy(fy.bind(null,l,i,Dt,so,Uf,n,Kt,ir,Xr,Ta,h,"Throttled",-0,0),c);break e}fy(l,i,Dt,so,Uf,n,Kt,ir,Xr,Ta,h,null,-0,0)}}break}while(!0);kn(e)}function fy(e,n,i,l,c,h,g,v,S,D,L,P,B,z){if(e.timeoutHandle=-1,P=n.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},ay(n,h,P);var F=(h&62914560)===h?ao-zt():(h&4194048)===h?ly-zt():0;if(F=qE(P,F),F!==null){Fn=h,e.cancelPendingCommit=F(vy.bind(null,e,n,h,i,l,c,g,v,S,L,P,null,B,z)),Ca(e,h,g,!D);return}}vy(e,n,h,i,l,c,g,v,S)}function nE(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var c=i[l],h=c.getSnapshot;c=c.value;try{if(!Ht(h(),c))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ca(e,n,i,l){n&=~jf,n&=~ir,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var h=31-qt(c),g=1<<h;l[h]=-1,c&=~g}i!==0&&wm(e,i,n)}function io(){return(Ce&6)===0?(mi(0),!1):!0}function Bf(){if(ve!==null){if(ke===0)var e=ve.return;else e=ve,Hn=Wa=null,Fc(e),Hr=null,Qs=0,e=ve;for(;e!==null;)Ig(e.alternate,e),e=e.return;ve=null}}function Wr(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,SE(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Fn=0,Bf(),Be=e,ve=i=Ln(e.current,null),we=n,ke=0,Vt=null,Ta=!1,Jr=Us(e,n),Nf=!1,Xr=Kt=jf=ir=Aa=Ve=0,Dt=hi=null,Uf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-qt(l),h=1<<c;n|=e[c],l&=~h}return Wn=n,Ol(),i}function hy(e,n){pe=null,H.H=ri,n===qr||n===Ml?(n=Cp(),ke=3):n===qc?(n=Cp(),ke=4):ke=n===pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Vt=n,ve===null&&(Ve=1,Xl(e,ln(n,e.current)))}function dy(){var e=Pt.current;return e===null?!0:(we&4194048)===we?fn===null:(we&62914560)===we||(we&536870912)!==0?e===fn:!1}function my(){var e=H.H;return H.H=ri,e===null?ri:e}function py(){var e=H.A;return H.A=eE,e}function lo(){Ve=4,Ta||(we&4194048)!==we&&Pt.current!==null||(Jr=!0),(Aa&134217727)===0&&(ir&134217727)===0||Be===null||Ca(Be,we,Kt,!1)}function zf(e,n,i){var l=Ce;Ce|=2;var c=my(),h=py();(Be!==e||we!==n)&&(so=null,Wr(e,n)),n=!1;var g=Ve;e:do try{if(ke!==0&&ve!==null){var v=ve,S=Vt;switch(ke){case 8:Bf(),g=6;break e;case 3:case 2:case 9:case 6:Pt.current===null&&(n=!0);var D=ke;if(ke=0,Vt=null,Fr(e,v,S,D),i&&Jr){g=0;break e}break;default:D=ke,ke=0,Vt=null,Fr(e,v,S,D)}}aE(),g=Ve;break}catch(L){hy(e,L)}while(!0);return n&&e.shellSuspendCounter++,Hn=Wa=null,Ce=l,H.H=c,H.A=h,ve===null&&(Be=null,we=0,Ol()),g}function aE(){for(;ve!==null;)gy(ve)}function rE(e,n){var i=Ce;Ce|=2;var l=my(),c=py();Be!==e||we!==n?(so=null,ro=zt()+500,Wr(e,n)):Jr=Us(e,n);e:do try{if(ke!==0&&ve!==null){n=ve;var h=Vt;t:switch(ke){case 1:ke=0,Vt=null,Fr(e,n,h,1);break;case 2:case 9:if(Rp(h)){ke=0,Vt=null,yy(n);break}n=function(){ke!==2&&ke!==9||Be!==e||(ke=7),kn(e)},h.then(n,n);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Rp(h)?(ke=0,Vt=null,yy(n)):(ke=0,Vt=null,Fr(e,n,h,7));break;case 5:var g=null;switch(ve.tag){case 26:g=ve.memoizedState;case 5:case 27:var v=ve;if(g?n_(g):v.stateNode.complete){ke=0,Vt=null;var S=v.sibling;if(S!==null)ve=S;else{var D=v.return;D!==null?(ve=D,oo(D)):ve=null}break t}}ke=0,Vt=null,Fr(e,n,h,5);break;case 6:ke=0,Vt=null,Fr(e,n,h,6);break;case 8:Bf(),Ve=6;break e;default:throw Error(s(462))}}sE();break}catch(L){hy(e,L)}while(!0);return Hn=Wa=null,H.H=l,H.A=c,Ce=i,ve!==null?0:(Be=null,we=0,Ol(),Ve)}function sE(){for(;ve!==null&&!Cw();)gy(ve)}function gy(e){var n=qg(e.alternate,e,Wn);e.memoizedProps=e.pendingProps,n===null?oo(e):ve=n}function yy(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Dg(i,n,n.pendingProps,n.type,void 0,we);break;case 11:n=Dg(i,n,n.pendingProps,n.type.render,n.ref,we);break;case 5:Fc(n);default:Ig(i,n),n=ve=pp(n,Wn),n=qg(i,n,Wn)}e.memoizedProps=e.pendingProps,n===null?oo(e):ve=n}function Fr(e,n,i,l){Hn=Wa=null,Fc(n),Hr=null,Qs=0;var c=n.return;try{if(YS(e,c,n,i,we)){Ve=1,Xl(e,ln(i,e.current)),ve=null;return}}catch(h){if(c!==null)throw ve=c,h;Ve=1,Xl(e,ln(i,e.current)),ve=null;return}n.flags&32768?(Te||l===1?e=!0:Jr||(we&536870912)!==0?e=!1:(Ta=e=!0,(l===2||l===9||l===3||l===6)&&(l=Pt.current,l!==null&&l.tag===13&&(l.flags|=16384))),_y(n,e)):oo(n)}function oo(e){var n=e;do{if((n.flags&32768)!==0){_y(n,Ta);return}e=n.return;var i=QS(n.alternate,n,Wn);if(i!==null){ve=i;return}if(n=n.sibling,n!==null){ve=n;return}ve=n=e}while(n!==null);Ve===0&&(Ve=5)}function _y(e,n){do{var i=WS(e.alternate,e);if(i!==null){i.flags&=32767,ve=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){ve=e;return}ve=e=i}while(e!==null);Ve=6,ve=null}function vy(e,n,i,l,c,h,g,v,S){e.cancelPendingCommit=null;do uo();while(at!==0);if((Ce&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Ac,zw(e,i,h,g,v,S),e===Be&&(ve=Be=null,we=0),Qr=n,Oa=e,Fn=i,Df=h,Mf=c,oy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uE(fl,function(){return Ty(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=X.p,X.p=2,g=Ce,Ce|=4;try{FS(e,n,i)}finally{Ce=g,X.p=c,H.T=l}}at=1,by(),wy(),Sy()}}function by(){if(at===1){at=0;var e=Oa,n=Qr,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=H.T,H.T=null;var l=X.p;X.p=2;var c=Ce;Ce|=4;try{ey(n,e);var h=Qf,g=ip(e.containerInfo),v=h.focusedElem,S=h.selectionRange;if(g!==v&&v&&v.ownerDocument&&sp(v.ownerDocument.documentElement,v)){if(S!==null&&bc(v)){var D=S.start,L=S.end;if(L===void 0&&(L=D),"selectionStart"in v)v.selectionStart=D,v.selectionEnd=Math.min(L,v.value.length);else{var P=v.ownerDocument||document,B=P&&P.defaultView||window;if(B.getSelection){var z=B.getSelection(),F=v.textContent.length,ie=Math.min(S.start,F),Me=S.end===void 0?ie:Math.min(S.end,F);!z.extend&&ie>Me&&(g=Me,Me=ie,ie=g);var k=rp(v,ie),A=rp(v,Me);if(k&&A&&(z.rangeCount!==1||z.anchorNode!==k.node||z.anchorOffset!==k.offset||z.focusNode!==A.node||z.focusOffset!==A.offset)){var j=P.createRange();j.setStart(k.node,k.offset),z.removeAllRanges(),ie>Me?(z.addRange(j),z.extend(A.node,A.offset)):(j.setEnd(A.node,A.offset),z.addRange(j))}}}}for(P=[],z=v;z=z.parentNode;)z.nodeType===1&&P.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<P.length;v++){var I=P[v];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}So=!!Xf,Qf=Xf=null}finally{Ce=c,X.p=l,H.T=i}}e.current=n,at=2}}function wy(){if(at===2){at=0;var e=Oa,n=Qr,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=H.T,H.T=null;var l=X.p;X.p=2;var c=Ce;Ce|=4;try{Xg(e,n.alternate,n)}finally{Ce=c,X.p=l,H.T=i}}at=3}}function Sy(){if(at===4||at===3){at=0,xw();var e=Oa,n=Qr,i=Fn,l=oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?at=5:(at=0,Qr=Oa=null,Ey(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ra=null),tc(i),n=n.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(js,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=X.p,X.p=2,H.T=null;try{for(var h=e.onRecoverableError,g=0;g<l.length;g++){var v=l[g];h(v.value,{componentStack:v.stack})}}finally{H.T=n,X.p=c}}(Fn&3)!==0&&uo(),kn(e),c=e.pendingLanes,(i&261930)!==0&&(c&42)!==0?e===$f?di++:(di=0,$f=e):di=0,mi(0)}}function Ey(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Js(n)))}function uo(){return by(),wy(),Sy(),Ty()}function Ty(){if(at!==5)return!1;var e=Oa,n=Df;Df=0;var i=tc(Fn),l=H.T,c=X.p;try{X.p=32>i?32:i,H.T=null,i=Mf,Mf=null;var h=Oa,g=Fn;if(at=0,Qr=Oa=null,Fn=0,(Ce&6)!==0)throw Error(s(331));var v=Ce;if(Ce|=4,sy(h.current),ny(h,h.current,g,i),Ce=v,mi(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(js,h)}catch{}return!0}finally{X.p=c,H.T=l,Ey(e,n)}}function Ay(e,n,i){n=ln(i,n),n=mf(e.stateNode,n,2),e=ba(e,n,2),e!==null&&(Ds(e,2),kn(e))}function Ne(e,n,i){if(e.tag===3)Ay(e,e,i);else for(;n!==null;){if(n.tag===3){Ay(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ra===null||!Ra.has(l))){e=ln(i,e),i=Rg(2),l=ba(n,i,2),l!==null&&(Og(i,l,n,e),Ds(l,2),kn(l));break}}n=n.return}}function Lf(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new tE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(i)||(Nf=!0,c.add(i),e=iE.bind(null,e,n,i),n.then(e,e))}function iE(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Be===e&&(we&i)===i&&(Ve===4||Ve===3&&(we&62914560)===we&&300>zt()-ao?(Ce&2)===0&&Wr(e,0):jf|=i,Xr===we&&(Xr=0)),kn(e)}function Ry(e,n){n===0&&(n=bm()),e=Ja(e,n),e!==null&&(Ds(e,n),kn(e))}function lE(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Ry(e,i)}function oE(e,n){var i=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Ry(e,i)}function uE(e,n){return Wu(e,n)}var co=null,Zr=null,qf=!1,fo=!1,Hf=!1,xa=0;function kn(e){e!==Zr&&e.next===null&&(Zr===null?co=Zr=e:Zr=Zr.next=e),fo=!0,qf||(qf=!0,fE())}function mi(e,n){if(!Hf&&fo){Hf=!0;do for(var i=!1,l=co;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,v=l.pingedLanes;h=(1<<31-qt(42|e)+1)-1,h&=c&~(g&~v),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,ky(l,h))}else h=we,h=pl(l,l===Be?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Us(l,h)||(i=!0,ky(l,h));l=l.next}while(i);Hf=!1}}function cE(){Oy()}function Oy(){fo=qf=!1;var e=0;xa!==0&&wE()&&(e=xa);for(var n=zt(),i=null,l=co;l!==null;){var c=l.next,h=Cy(l,n);h===0?(l.next=null,i===null?co=c:i.next=c,c===null&&(Zr=i)):(i=l,(e!==0||(h&3)!==0)&&(fo=!0)),l=c}at!==0&&at!==5||mi(e),xa!==0&&(xa=0)}function Cy(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var g=31-qt(h),v=1<<g,S=c[g];S===-1?((v&i)===0||(v&l)!==0)&&(c[g]=Bw(v,n)):S<=n&&(e.expiredLanes|=v),h&=~v}if(n=Be,i=we,i=pl(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===n&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Fu(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Us(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(l!==null&&Fu(l),tc(i)){case 2:case 8:i=_m;break;case 32:i=fl;break;case 268435456:i=vm;break;default:i=fl}return l=xy.bind(null,e),i=Wu(i,l),e.callbackPriority=n,e.callbackNode=i,n}return l!==null&&l!==null&&Fu(l),e.callbackPriority=2,e.callbackNode=null,2}function xy(e,n){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(uo()&&e.callbackNode!==i)return null;var l=we;return l=pl(e,e===Be?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(cy(e,l,n),Cy(e,zt()),e.callbackNode!=null&&e.callbackNode===i?xy.bind(null,e):null)}function ky(e,n){if(uo())return null;cy(e,n,!0)}function fE(){EE(function(){(Ce&6)!==0?Wu(ym,cE):Oy()})}function If(){if(xa===0){var e=zr;e===0&&(e=hl,hl<<=1,(hl&261888)===0&&(hl=256)),xa=e}return xa}function Ny(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vl(""+e)}function jy(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function hE(e,n,i,l,c){if(n==="submit"&&i&&i.stateNode===c){var h=Ny((c[xt]||null).action),g=l.submitter;g&&(n=(n=g[xt]||null)?Ny(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var v=new El("action","action",null,l,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xa!==0){var S=g?jy(c,g):new FormData(c);of(i,{pending:!0,data:S,method:c.method,action:h},null,S)}}else typeof h=="function"&&(v.preventDefault(),S=g?jy(c,g):new FormData(c),of(i,{pending:!0,data:S,method:c.method,action:h},h,S))},currentTarget:c}]})}}for(var Pf=0;Pf<Tc.length;Pf++){var Gf=Tc[Pf],dE=Gf.toLowerCase(),mE=Gf[0].toUpperCase()+Gf.slice(1);_n(dE,"on"+mE)}_n(up,"onAnimationEnd"),_n(cp,"onAnimationIteration"),_n(fp,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(kS,"onTransitionRun"),_n(NS,"onTransitionStart"),_n(jS,"onTransitionCancel"),_n(hp,"onTransitionEnd"),Tr("onMouseEnter",["mouseout","mouseover"]),Tr("onMouseLeave",["mouseout","mouseover"]),Tr("onPointerEnter",["pointerout","pointerover"]),Tr("onPointerLeave",["pointerout","pointerover"]),Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pi));function Uy(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],c=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var v=l[g],S=v.instance,D=v.currentTarget;if(v=v.listener,S!==h&&c.isPropagationStopped())break e;h=v,c.currentTarget=D;try{h(c)}catch(L){Rl(L)}c.currentTarget=null,h=S}else for(g=0;g<l.length;g++){if(v=l[g],S=v.instance,D=v.currentTarget,v=v.listener,S!==h&&c.isPropagationStopped())break e;h=v,c.currentTarget=D;try{h(c)}catch(L){Rl(L)}c.currentTarget=null,h=S}}}}function be(e,n){var i=n[nc];i===void 0&&(i=n[nc]=new Set);var l=e+"__bubble";i.has(l)||(Dy(n,e,2,!1),i.add(l))}function Vf(e,n,i){var l=0;n&&(l|=4),Dy(i,e,l,n)}var ho="_reactListening"+Math.random().toString(36).slice(2);function Kf(e){if(!e[ho]){e[ho]=!0,Om.forEach(function(i){i!=="selectionchange"&&(pE.has(i)||Vf(i,!1,e),Vf(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ho]||(n[ho]=!0,Vf("selectionchange",!1,n))}}function Dy(e,n,i,l){switch(u_(n)){case 2:var c=PE;break;case 8:c=GE;break;default:c=lh}i=c.bind(null,n,i,e),c=void 0,!fc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function Yf(e,n,i,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var v=l.stateNode.containerInfo;if(v===c)break;if(g===4)for(g=l.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;v!==null;){if(g=wr(v),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){l=h=g;continue e}v=v.parentNode}}l=l.return}Lm(function(){var D=h,L=uc(i),P=[];e:{var B=dp.get(e);if(B!==void 0){var z=El,F=e;switch(e){case"keypress":if(wl(i)===0)break e;case"keydown":case"keyup":z=oS;break;case"focusin":F="focus",z=pc;break;case"focusout":F="blur",z=pc;break;case"beforeblur":case"afterblur":z=pc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Im;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Qw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=fS;break;case up:case cp:case fp:z=Zw;break;case hp:z=dS;break;case"scroll":case"scrollend":z=Jw;break;case"wheel":z=pS;break;case"copy":case"cut":case"paste":z=tS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Gm;break;case"toggle":case"beforetoggle":z=yS}var ie=(n&4)!==0,Me=!ie&&(e==="scroll"||e==="scrollend"),k=ie?B!==null?B+"Capture":null:B;ie=[];for(var A=D,j;A!==null;){var I=A;if(j=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||j===null||k===null||(I=Bs(A,k),I!=null&&ie.push(gi(A,I,j))),Me)break;A=A.return}0<ie.length&&(B=new z(B,F,null,i,L),P.push({event:B,listeners:ie}))}}if((n&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",B&&i!==oc&&(F=i.relatedTarget||i.fromElement)&&(wr(F)||F[br]))break e;if((z||B)&&(B=L.window===L?L:(B=L.ownerDocument)?B.defaultView||B.parentWindow:window,z?(F=i.relatedTarget||i.toElement,z=D,F=F?wr(F):null,F!==null&&(Me=u(F),ie=F.tag,F!==Me||ie!==5&&ie!==27&&ie!==6)&&(F=null)):(z=null,F=D),z!==F)){if(ie=Im,I="onMouseLeave",k="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Gm,I="onPointerLeave",k="onPointerEnter",A="pointer"),Me=z==null?B:$s(z),j=F==null?B:$s(F),B=new ie(I,A+"leave",z,i,L),B.target=Me,B.relatedTarget=j,I=null,wr(L)===D&&(ie=new ie(k,A+"enter",F,i,L),ie.target=j,ie.relatedTarget=Me,I=ie),Me=I,z&&F)t:{for(ie=gE,k=z,A=F,j=0,I=k;I;I=ie(I))j++;I=0;for(var re=A;re;re=ie(re))I++;for(;0<j-I;)k=ie(k),j--;for(;0<I-j;)A=ie(A),I--;for(;j--;){if(k===A||A!==null&&k===A.alternate){ie=k;break t}k=ie(k),A=ie(A)}ie=null}else ie=null;z!==null&&My(P,B,z,ie,!1),F!==null&&Me!==null&&My(P,Me,F,ie,!0)}}e:{if(B=D?$s(D):window,z=B.nodeName&&B.nodeName.toLowerCase(),z==="select"||z==="input"&&B.type==="file")var Re=Fm;else if(Qm(B))if(Zm)Re=OS;else{Re=AS;var te=TS}else z=B.nodeName,!z||z.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?D&&lc(D.elementType)&&(Re=Fm):Re=RS;if(Re&&(Re=Re(e,D))){Wm(P,Re,i,L);break e}te&&te(e,B,D),e==="focusout"&&D&&B.type==="number"&&D.memoizedProps.value!=null&&ic(B,"number",B.value)}switch(te=D?$s(D):window,e){case"focusin":(Qm(te)||te.contentEditable==="true")&&(kr=te,wc=D,Vs=null);break;case"focusout":Vs=wc=kr=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,lp(P,i,L);break;case"selectionchange":if(xS)break;case"keydown":case"keyup":lp(P,i,L)}var ge;if(yc)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else xr?Jm(e,i)&&(Se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Se="onCompositionStart");Se&&(Vm&&i.locale!=="ko"&&(xr||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&xr&&(ge=qm()):(da=L,hc="value"in da?da.value:da.textContent,xr=!0)),te=mo(D,Se),0<te.length&&(Se=new Pm(Se,e,null,i,L),P.push({event:Se,listeners:te}),ge?Se.data=ge:(ge=Xm(i),ge!==null&&(Se.data=ge)))),(ge=vS?bS(e,i):wS(e,i))&&(Se=mo(D,"onBeforeInput"),0<Se.length&&(te=new Pm("onBeforeInput","beforeinput",null,i,L),P.push({event:te,listeners:Se}),te.data=ge)),hE(P,e,D,i,L)}Uy(P,n)})}function gi(e,n,i){return{instance:e,listener:n,currentTarget:i}}function mo(e,n){for(var i=n+"Capture",l=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Bs(e,i),c!=null&&l.unshift(gi(e,c,h)),c=Bs(e,n),c!=null&&l.push(gi(e,c,h))),e.tag===3)return l;e=e.return}return[]}function gE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function My(e,n,i,l,c){for(var h=n._reactName,g=[];i!==null&&i!==l;){var v=i,S=v.alternate,D=v.stateNode;if(v=v.tag,S!==null&&S===l)break;v!==5&&v!==26&&v!==27||D===null||(S=D,c?(D=Bs(i,h),D!=null&&g.unshift(gi(i,D,S))):c||(D=Bs(i,h),D!=null&&g.push(gi(i,D,S)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var yE=/\r\n?/g,_E=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(yE,`
`).replace(_E,"")}function By(e,n){return n=$y(n),$y(e)===n}function De(e,n,i,l,c,h){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Rr(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Rr(e,""+l);break;case"className":yl(e,"class",l);break;case"tabIndex":yl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yl(e,i,l);break;case"style":Bm(e,l,h);break;case"data":if(n!=="object"){yl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=vl(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&De(e,n,"name",c.name,c,null),De(e,n,"formEncType",c.formEncType,c,null),De(e,n,"formMethod",c.formMethod,c,null),De(e,n,"formTarget",c.formTarget,c,null)):(De(e,n,"encType",c.encType,c,null),De(e,n,"method",c.method,c,null),De(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=vl(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=Bn);break;case"onScroll":l!=null&&be("scroll",e);break;case"onScrollEnd":l!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=vl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":be("beforetoggle",e),be("toggle",e),gl(e,"popover",l);break;case"xlinkActuate":$n(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$n(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$n(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$n(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$n(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$n(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$n(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Kw.get(i)||i,gl(e,i,l))}}function Jf(e,n,i,l,c,h){switch(i){case"style":Bm(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof l=="string"?Rr(e,l):(typeof l=="number"||typeof l=="bigint")&&Rr(e,""+l);break;case"onScroll":l!=null&&be("scroll",e);break;case"onScrollEnd":l!=null&&be("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cm.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),n=i.slice(2,c?i.length-7:void 0),h=e[xt]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,l,c);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):gl(e,i,l)}}}function pt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var l=!1,c=!1,h;for(h in i)if(i.hasOwnProperty(h)){var g=i[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:De(e,n,h,g,i,null)}}c&&De(e,n,"srcSet",i.srcSet,i,null),l&&De(e,n,"src",i.src,i,null);return;case"input":be("invalid",e);var v=h=g=c=null,S=null,D=null;for(l in i)if(i.hasOwnProperty(l)){var L=i[l];if(L!=null)switch(l){case"name":c=L;break;case"type":g=L;break;case"checked":S=L;break;case"defaultChecked":D=L;break;case"value":h=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,n));break;default:De(e,n,l,L,i,null)}}Um(e,h,v,S,D,g,c,!1);return;case"select":be("invalid",e),l=g=h=null;for(c in i)if(i.hasOwnProperty(c)&&(v=i[c],v!=null))switch(c){case"value":h=v;break;case"defaultValue":g=v;break;case"multiple":l=v;default:De(e,n,c,v,i,null)}n=h,i=g,e.multiple=!!l,n!=null?Ar(e,!!l,n,!1):i!=null&&Ar(e,!!l,i,!0);return;case"textarea":be("invalid",e),h=c=l=null;for(g in i)if(i.hasOwnProperty(g)&&(v=i[g],v!=null))switch(g){case"value":l=v;break;case"defaultValue":c=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:De(e,n,g,v,i,null)}Mm(e,l,c,h);return;case"option":for(S in i)i.hasOwnProperty(S)&&(l=i[S],l!=null)&&(S==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":De(e,n,S,l,i,null));return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(l=0;l<pi.length;l++)be(pi[l],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in i)if(i.hasOwnProperty(D)&&(l=i[D],l!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:De(e,n,D,l,i,null)}return;default:if(lc(n)){for(L in i)i.hasOwnProperty(L)&&(l=i[L],l!==void 0&&Jf(e,n,L,l,i,void 0));return}}for(v in i)i.hasOwnProperty(v)&&(l=i[v],l!=null&&De(e,n,v,l,i,null))}function vE(e,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,v=null,S=null,D=null,L=null;for(z in i){var P=i[z];if(i.hasOwnProperty(z)&&P!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":S=P;default:l.hasOwnProperty(z)||De(e,n,z,null,l,P)}}for(var B in l){var z=l[B];if(P=i[B],l.hasOwnProperty(B)&&(z!=null||P!=null))switch(B){case"type":h=z;break;case"name":c=z;break;case"checked":D=z;break;case"defaultChecked":L=z;break;case"value":g=z;break;case"defaultValue":v=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:z!==P&&De(e,n,B,z,l,P)}}sc(e,g,v,S,D,L,h,c);return;case"select":z=g=v=B=null;for(h in i)if(S=i[h],i.hasOwnProperty(h)&&S!=null)switch(h){case"value":break;case"multiple":z=S;default:l.hasOwnProperty(h)||De(e,n,h,null,l,S)}for(c in l)if(h=l[c],S=i[c],l.hasOwnProperty(c)&&(h!=null||S!=null))switch(c){case"value":B=h;break;case"defaultValue":v=h;break;case"multiple":g=h;default:h!==S&&De(e,n,c,h,l,S)}n=v,i=g,l=z,B!=null?Ar(e,!!i,B,!1):!!l!=!!i&&(n!=null?Ar(e,!!i,n,!0):Ar(e,!!i,i?[]:"",!1));return;case"textarea":z=B=null;for(v in i)if(c=i[v],i.hasOwnProperty(v)&&c!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:De(e,n,v,null,l,c)}for(g in l)if(c=l[g],h=i[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":B=c;break;case"defaultValue":z=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&De(e,n,g,c,l,h)}Dm(e,B,z);return;case"option":for(var F in i)B=i[F],i.hasOwnProperty(F)&&B!=null&&!l.hasOwnProperty(F)&&(F==="selected"?e.selected=!1:De(e,n,F,null,l,B));for(S in l)B=l[S],z=i[S],l.hasOwnProperty(S)&&B!==z&&(B!=null||z!=null)&&(S==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":De(e,n,S,B,l,z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in i)B=i[ie],i.hasOwnProperty(ie)&&B!=null&&!l.hasOwnProperty(ie)&&De(e,n,ie,null,l,B);for(D in l)if(B=l[D],z=i[D],l.hasOwnProperty(D)&&B!==z&&(B!=null||z!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:De(e,n,D,B,l,z)}return;default:if(lc(n)){for(var Me in i)B=i[Me],i.hasOwnProperty(Me)&&B!==void 0&&!l.hasOwnProperty(Me)&&Jf(e,n,Me,void 0,l,B);for(L in l)B=l[L],z=i[L],!l.hasOwnProperty(L)||B===z||B===void 0&&z===void 0||Jf(e,n,L,B,l,z);return}}for(var k in i)B=i[k],i.hasOwnProperty(k)&&B!=null&&!l.hasOwnProperty(k)&&De(e,n,k,null,l,B);for(P in l)B=l[P],z=i[P],!l.hasOwnProperty(P)||B===z||B==null&&z==null||De(e,n,P,B,l,z)}function zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var c=i[l],h=c.transferSize,g=c.initiatorType,v=c.duration;if(h&&v&&zy(g)){for(g=0,v=c.responseEnd,l+=1;l<i.length;l++){var S=i[l],D=S.startTime;if(D>v)break;var L=S.transferSize,P=S.initiatorType;L&&zy(P)&&(S=S.responseEnd,g+=L*(S<v?1:(v-D)/(S-D)))}if(--l,n+=8*(h+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xf=null,Qf=null;function po(e){return e.nodeType===9?e:e.ownerDocument}function Ly(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Wf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ff=null;function wE(){var e=window.event;return e&&e.type==="popstate"?e===Ff?!1:(Ff=e,!0):(Ff=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,SE=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,EE=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(e){return Iy.resolve(null).then(e).catch(TE)}:Hy;function TE(e){setTimeout(function(){throw e})}function ka(e){return e==="head"}function Py(e,n){var i=n,l=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(l===0){e.removeChild(c),as(n);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")yi(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,yi(i);for(var h=i.firstChild;h;){var g=h.nextSibling,v=h.nodeName;h[Ms]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=g}}else i==="body"&&yi(e.ownerDocument.body);i=c}while(i);as(n)}function Gy(e,n){var i=e;e=0;do{var l=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=l}while(i)}function Zf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Zf(i),ac(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function AE(e,n,i,l){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ms])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=hn(e.nextSibling),e===null)break}return null}function RE(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=hn(e.nextSibling),e===null))return null;return e}function Vy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=hn(e.nextSibling),e===null))return null;return e}function eh(e){return e.data==="$?"||e.data==="$~"}function th(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function OE(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var nh=null;function Ky(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return hn(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function Yy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Jy(e,n,i){switch(n=po(i),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function yi(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ac(e)}var dn=new Map,Xy=new Set;function go(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zn=X.d;X.d={f:CE,r:xE,D:kE,C:NE,L:jE,m:UE,X:ME,S:DE,M:$E};function CE(){var e=Zn.f(),n=io();return e||n}function xE(e){var n=Sr(e);n!==null&&n.tag===5&&n.type==="form"?hg(n):Zn.r(e)}var es=typeof document>"u"?null:document;function Qy(e,n,i){var l=es;if(l&&typeof n=="string"&&n){var c=rn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Xy.has(c)||(Xy.add(c),e={rel:e,crossOrigin:i,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),pt(n,"link",e),lt(n),l.head.appendChild(n)))}}function kE(e){Zn.D(e),Qy("dns-prefetch",e,null)}function NE(e,n){Zn.C(e,n),Qy("preconnect",e,n)}function jE(e,n,i){Zn.L(e,n,i);var l=es;if(l&&e&&n){var c='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+rn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+rn(i.imageSizes)+'"]')):c+='[href="'+rn(e)+'"]';var h=c;switch(n){case"style":h=ts(e);break;case"script":h=ns(e)}dn.has(h)||(e=y({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),dn.set(h,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(_i(h))||n==="script"&&l.querySelector(vi(h))||(n=l.createElement("link"),pt(n,"link",e),lt(n),l.head.appendChild(n)))}}function UE(e,n){Zn.m(e,n);var i=es;if(i&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(e)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ns(e)}if(!dn.has(h)&&(e=y({rel:"modulepreload",href:e},n),dn.set(h,e),i.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(vi(h)))return}l=i.createElement("link"),pt(l,"link",e),lt(l),i.head.appendChild(l)}}}function DE(e,n,i){Zn.S(e,n,i);var l=es;if(l&&e){var c=Er(l).hoistableStyles,h=ts(e);n=n||"default";var g=c.get(h);if(!g){var v={loading:0,preload:null};if(g=l.querySelector(_i(h)))v.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},i),(i=dn.get(h))&&ah(e,i);var S=g=l.createElement("link");lt(S),pt(S,"link",e),S._p=new Promise(function(D,L){S.onload=D,S.onerror=L}),S.addEventListener("load",function(){v.loading|=1}),S.addEventListener("error",function(){v.loading|=2}),v.loading|=4,yo(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(h,g)}}}function ME(e,n){Zn.X(e,n);var i=es;if(i&&e){var l=Er(i).hoistableScripts,c=ns(e),h=l.get(c);h||(h=i.querySelector(vi(c)),h||(e=y({src:e,async:!0},n),(n=dn.get(c))&&rh(e,n),h=i.createElement("script"),lt(h),pt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function $E(e,n){Zn.M(e,n);var i=es;if(i&&e){var l=Er(i).hoistableScripts,c=ns(e),h=l.get(c);h||(h=i.querySelector(vi(c)),h||(e=y({src:e,async:!0,type:"module"},n),(n=dn.get(c))&&rh(e,n),h=i.createElement("script"),lt(h),pt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Wy(e,n,i,l){var c=(c=_e.current)?go(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=ts(i.href),i=Er(c).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ts(i.href);var h=Er(c).hoistableStyles,g=h.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,g),(h=c.querySelector(_i(e)))&&!h._p&&(g.instance=h,g.state.loading=5),dn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},dn.set(e,i),h||BE(c,e,i,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ns(i),i=Er(c).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ts(e){return'href="'+rn(e)+'"'}function _i(e){return'link[rel="stylesheet"]['+e+"]"}function Fy(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function BE(e,n,i,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),pt(n,"link",i),lt(n),e.head.appendChild(n))}function ns(e){return'[src="'+rn(e)+'"]'}function vi(e){return"script[async]"+e}function Zy(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+rn(i.href)+'"]');if(l)return n.instance=l,lt(l),l;var c=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),lt(l),pt(l,"style",c),yo(l,i.precedence,e),n.instance=l;case"stylesheet":c=ts(i.href);var h=e.querySelector(_i(c));if(h)return n.state.loading|=4,n.instance=h,lt(h),h;l=Fy(i),(c=dn.get(c))&&ah(l,c),h=(e.ownerDocument||e).createElement("link"),lt(h);var g=h;return g._p=new Promise(function(v,S){g.onload=v,g.onerror=S}),pt(h,"link",l),n.state.loading|=4,yo(h,i.precedence,e),n.instance=h;case"script":return h=ns(i.src),(c=e.querySelector(vi(h)))?(n.instance=c,lt(c),c):(l=i,(c=dn.get(h))&&(l=y({},i),rh(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),lt(c),pt(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yo(l,i.precedence,e));return n.instance}function yo(e,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var v=l[g];if(v.dataset.precedence===n)h=v;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function ah(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function rh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _o=null;function e_(e,n,i){if(_o===null){var l=new Map,c=_o=new Map;c.set(i,l)}else c=_o,l=c.get(i),l||(l=new Map,c.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var h=i[c];if(!(h[Ms]||h[ft]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=e+g;var v=l.get(g);v?v.push(h):l.set(g,[h])}}return l}function t_(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function zE(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function n_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function LE(e,n,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=ts(l.href),h=n.querySelector(_i(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vo.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=h,lt(h);return}h=n.ownerDocument||n,l=Fy(l),(c=dn.get(c))&&ah(l,c),h=h.createElement("link"),lt(h);var g=h;g._p=new Promise(function(v,S){g.onload=v,g.onerror=S}),pt(h,"link",l),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=vo.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var sh=0;function qE(e,n){return e.stylesheets&&e.count===0&&wo(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var l=setTimeout(function(){if(e.stylesheets&&wo(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&sh===0&&(sh=62500*bE());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wo(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>sh?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function vo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bo=null;function wo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bo=new Map,n.forEach(HE,e),bo=null,vo.call(e))}function HE(e,n){if(!(n.state.loading&4)){var i=bo.get(e);if(i)var l=i.get(null);else{i=new Map,bo.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),l=g)}l&&i.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=i.get(g)||l,h===l&&i.set(null,c),i.set(g,c),this.count++,l=vo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var bi={$$typeof:x,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function IE(e,n,i,l,c,h,g,v,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zu(0),this.hiddenUpdates=Zu(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function a_(e,n,i,l,c,h,g,v,S,D,L,P){return e=new IE(e,n,i,g,S,D,L,P,v),n=1,h===!0&&(n|=24),h=It(3,null,null,n),e.current=h,h.stateNode=e,n=Bc(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:i,cache:n},Hc(h),e}function r_(e){return e?(e=Ur,e):Ur}function s_(e,n,i,l,c,h){c=r_(c),l.context===null?l.context=c:l.pendingContext=c,l=va(n),l.payload={element:i},h=h===void 0?null:h,h!==null&&(l.callback=h),i=ba(e,l,n),i!==null&&(Mt(i,e,n),Fs(i,e,n))}function i_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function ih(e,n){i_(e,n),(e=e.alternate)&&i_(e,n)}function l_(e){if(e.tag===13||e.tag===31){var n=Ja(e,67108864);n!==null&&Mt(n,e,67108864),ih(e,67108864)}}function o_(e){if(e.tag===13||e.tag===31){var n=Yt();n=ec(n);var i=Ja(e,n);i!==null&&Mt(i,e,n),ih(e,n)}}var So=!0;function PE(e,n,i,l){var c=H.T;H.T=null;var h=X.p;try{X.p=2,lh(e,n,i,l)}finally{X.p=h,H.T=c}}function GE(e,n,i,l){var c=H.T;H.T=null;var h=X.p;try{X.p=8,lh(e,n,i,l)}finally{X.p=h,H.T=c}}function lh(e,n,i,l){if(So){var c=oh(l);if(c===null)Yf(e,n,l,Eo,i),c_(e,l);else if(KE(c,e,n,i,l))l.stopPropagation();else if(c_(e,l),n&4&&-1<VE.indexOf(e)){for(;c!==null;){var h=Sr(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Pa(h.pendingLanes);if(g!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var S=1<<31-qt(g);v.entanglements[1]|=S,g&=~S}kn(h),(Ce&6)===0&&(ro=zt()+500,mi(0))}}break;case 31:case 13:v=Ja(h,2),v!==null&&Mt(v,h,2),io(),ih(h,2)}if(h=oh(l),h===null&&Yf(e,n,l,Eo,i),h===c)break;c=h}c!==null&&l.stopPropagation()}else Yf(e,n,l,null,i)}}function oh(e){return e=uc(e),uh(e)}var Eo=null;function uh(e){if(Eo=null,e=wr(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=f(n),e!==null)return e;e=null}else if(i===31){if(e=d(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Eo=e,null}function u_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kw()){case ym:return 2;case _m:return 8;case fl:case Nw:return 32;case vm:return 268435456;default:return 32}default:return 32}}var ch=!1,Na=null,ja=null,Ua=null,wi=new Map,Si=new Map,Da=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c_(e,n){switch(e){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":wi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(n.pointerId)}}function Ei(e,n,i,l,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Sr(n),n!==null&&l_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function KE(e,n,i,l,c){switch(n){case"focusin":return Na=Ei(Na,e,n,i,l,c),!0;case"dragenter":return ja=Ei(ja,e,n,i,l,c),!0;case"mouseover":return Ua=Ei(Ua,e,n,i,l,c),!0;case"pointerover":var h=c.pointerId;return wi.set(h,Ei(wi.get(h)||null,e,n,i,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Si.set(h,Ei(Si.get(h)||null,e,n,i,l,c)),!0}return!1}function f_(e){var n=wr(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=f(i),n!==null){e.blockedOn=n,Am(e.priority,function(){o_(i)});return}}else if(n===31){if(n=d(i),n!==null){e.blockedOn=n,Am(e.priority,function(){o_(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function To(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=oh(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);oc=l,i.target.dispatchEvent(l),oc=null}else return n=Sr(i),n!==null&&l_(n),e.blockedOn=i,!1;n.shift()}return!0}function h_(e,n,i){To(e)&&i.delete(n)}function YE(){ch=!1,Na!==null&&To(Na)&&(Na=null),ja!==null&&To(ja)&&(ja=null),Ua!==null&&To(Ua)&&(Ua=null),wi.forEach(h_),Si.forEach(h_)}function Ao(e,n){e.blockedOn===n&&(e.blockedOn=null,ch||(ch=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,YE)))}var Ro=null;function d_(e){Ro!==e&&(Ro=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ro===e&&(Ro=null);for(var n=0;n<e.length;n+=3){var i=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(uh(l||i)===null)continue;break}var h=Sr(i);h!==null&&(e.splice(n,3),n-=3,of(h,{pending:!0,data:c,method:i.method,action:l},l,c))}}))}function as(e){function n(S){return Ao(S,e)}Na!==null&&Ao(Na,e),ja!==null&&Ao(ja,e),Ua!==null&&Ao(Ua,e),wi.forEach(n),Si.forEach(n);for(var i=0;i<Da.length;i++){var l=Da[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Da.length&&(i=Da[0],i.blockedOn===null);)f_(i),i.blockedOn===null&&Da.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var c=i[l],h=i[l+1],g=c[xt]||null;if(typeof h=="function")g||d_(i);else if(g){var v=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[xt]||null)v=g.formAction;else if(uh(c)!==null)continue}else v=g.action;typeof v=="function"?i[l+1]=v:(i.splice(l,3),l-=3),d_(i)}}}function m_(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function fh(e){this._internalRoot=e}Oo.prototype.render=fh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,l=Yt();s_(i,l,e,n,null,null)},Oo.prototype.unmount=fh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;s_(e.current,2,null,e,null,null),io(),n[br]=null}};function Oo(e){this._internalRoot=e}Oo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Tm();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Da.length&&n!==0&&n<Da[i].priority;i++);Da.splice(i,0,e),i===0&&f_(e)}};var p_=t.version;if(p_!=="19.2.3")throw Error(s(527,p_,"19.2.3"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var JE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{js=Co.inject(JE),Lt=Co}catch{}}return Ai.createRoot=function(e,n){if(!o(e))throw Error(s(299));var i=!1,l="",c=Sg,h=Eg,g=Tg;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=a_(e,1,!1,null,null,i,l,null,c,h,g,m_),e[br]=n.current,Kf(e),new fh(n)},Ai.hydrateRoot=function(e,n,i){if(!o(e))throw Error(s(299));var l=!1,c="",h=Sg,g=Eg,v=Tg,S=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.formState!==void 0&&(S=i.formState)),n=a_(e,1,!0,n,i??null,l,c,S,h,g,v,m_),n.context=r_(null),i=n.current,l=Yt(),l=ec(l),c=va(l),c.callback=null,ba(i,c,l),i=l,n.current.lanes=i,Ds(n,i),kn(n),e[br]=n.current,Kf(e),new Oo(n)},Ai.version="19.2.3",Ai}var A_;function sT(){if(A_)return mh.exports;A_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),mh.exports=rT(),mh.exports}var iT=sT();const lT=Kv(iT);var R_="popstate";function oT(a={}){function t(s,o){let{pathname:u,search:f,hash:d}=s.location;return Gh("",{pathname:u,search:f,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:Vi(o)}return cT(t,r,null,a)}function Ie(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function pn(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uT(){return Math.random().toString(36).substring(2,10)}function O_(a,t){return{usr:a.state,key:a.key,idx:t}}function Gh(a,t,r=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?As(t):t,state:r,key:t&&t.key||s||uT()}}function Vi({pathname:a="/",search:t="",hash:r=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function As(a){let t={};if(a){let r=a.indexOf("#");r>=0&&(t.hash=a.substring(r),a=a.substring(0,r));let s=a.indexOf("?");s>=0&&(t.search=a.substring(s),a=a.substring(0,s)),a&&(t.pathname=a)}return t}function cT(a,t,r,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,d="POP",m=null,p=_();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function _(){return(f.state||{idx:null}).idx}function y(){d="POP";let N=_(),T=N==null?null:N-p;p=N,m&&m({action:d,location:R.location,delta:T})}function b(N,T){d="PUSH";let C=Gh(R.location,N,T);p=_()+1;let x=O_(C,p),q=R.createHref(C);try{f.pushState(x,"",q)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;o.location.assign(q)}u&&m&&m({action:d,location:R.location,delta:1})}function w(N,T){d="REPLACE";let C=Gh(R.location,N,T);p=_();let x=O_(C,p),q=R.createHref(C);f.replaceState(x,"",q),u&&m&&m({action:d,location:R.location,delta:0})}function E(N){return fT(N)}let R={get action(){return d},get location(){return a(o,f)},listen(N){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(R_,y),m=N,()=>{o.removeEventListener(R_,y),m=null}},createHref(N){return t(o,N)},createURL:E,encodeLocation(N){let T=E(N);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:w,go(N){return f.go(N)}};return R}function fT(a,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(r,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Vi(a);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function Yv(a,t,r="/"){return hT(a,t,r,!1)}function hT(a,t,r,s){let o=typeof t=="string"?As(t):t,u=oa(o.pathname||"/",r);if(u==null)return null;let f=Jv(a);dT(f);let d=null;for(let m=0;d==null&&m<f.length;++m){let p=TT(u);d=ST(f[m],p,s)}return d}function Jv(a,t=[],r=[],s="",o=!1){let u=(f,d,m=o,p)=>{let _={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:d,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&m)return;Ie(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let y=ia([s,_.relativePath]),b=r.concat(_);f.children&&f.children.length>0&&(Ie(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Jv(f.children,t,b,y,m)),!(f.path==null&&!f.index)&&t.push({path:y,score:bT(y,f.index),routesMeta:b})};return a.forEach((f,d)=>{if(f.path===""||!f.path?.includes("?"))u(f,d);else for(let m of Xv(f.path))u(f,d,!0,m)}),t}function Xv(a){let t=a.split("/");if(t.length===0)return[];let[r,...s]=t,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=Xv(s.join("/")),d=[];return d.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...f),d.map(m=>a.startsWith("/")&&m===""?"/":m)}function dT(a){a.sort((t,r)=>t.score!==r.score?r.score-t.score:wT(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var mT=/^:[\w-]+$/,pT=3,gT=2,yT=1,_T=10,vT=-2,C_=a=>a==="*";function bT(a,t){let r=a.split("/"),s=r.length;return r.some(C_)&&(s+=vT),t&&(s+=gT),r.filter(o=>!C_(o)).reduce((o,u)=>o+(mT.test(u)?pT:u===""?yT:_T),s)}function wT(a,t){return a.length===t.length&&a.slice(0,-1).every((s,o)=>s===t[o])?a[a.length-1]-t[t.length-1]:0}function ST(a,t,r=!1){let{routesMeta:s}=a,o={},u="/",f=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,_=u==="/"?t:t.slice(u.length)||"/",y=su({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),b=m.route;if(!y&&p&&r&&!s[s.length-1].route.index&&(y=su({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!y)return null;Object.assign(o,y.params),f.push({params:o,pathname:ia([u,y.pathname]),pathnameBase:CT(ia([u,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(u=ia([u,y.pathnameBase]))}return f}function su(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,s]=ET(a.path,a.caseSensitive,a.end),o=t.match(r);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((p,{paramName:_,isOptional:y},b)=>{if(_==="*"){let E=d[b]||"";f=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const w=d[b];return y&&!w?p[_]=void 0:p[_]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:a}}function ET(a,t=!1,r=!0){pn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function TT(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function oa(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=a.charAt(r);return s&&s!=="/"?null:a.slice(r)||"/"}var Qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AT=a=>Qv.test(a);function RT(a,t="/"){let{pathname:r,search:s="",hash:o=""}=typeof a=="string"?As(a):a,u;if(r)if(AT(r))u=r;else{if(r.includes("//")){let f=r;r=r.replace(/\/\/+/g,"/"),pn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${r}`)}r.startsWith("/")?u=x_(r.substring(1),"/"):u=x_(r,t)}else u=t;return{pathname:u,search:xT(s),hash:kT(o)}}function x_(a,t){let r=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function _h(a,t,r,s){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OT(a){return a.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ad(a){let t=OT(a);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function Rd(a,t,r,s=!1){let o;typeof a=="string"?o=As(a):(o={...a},Ie(!o.pathname||!o.pathname.includes("?"),_h("?","pathname","search",o)),Ie(!o.pathname||!o.pathname.includes("#"),_h("#","pathname","hash",o)),Ie(!o.search||!o.search.includes("#"),_h("#","search","hash",o)));let u=a===""||o.pathname==="",f=u?"/":o.pathname,d;if(f==null)d=r;else{let y=t.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}d=y>=0?t[y]:"/"}let m=RT(o,d),p=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var ia=a=>a.join("/").replace(/\/\/+/g,"/"),CT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),xT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,kT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,NT=class{constructor(a,t,r,s=!1){this.status=a,this.statusText=t||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function jT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function UT(a){return a.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Wv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fv(a,t){let r=a;if(typeof r!="string"||!Qv.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let s=r,o=!1;if(Wv)try{let u=new URL(window.location.href),f=r.startsWith("//")?new URL(u.protocol+r):new URL(r),d=oa(f.pathname,t);f.origin===u.origin&&d!=null?r=d+f.search+f.hash:o=!0}catch{pn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zv=["POST","PUT","PATCH","DELETE"];new Set(Zv);var DT=["GET",...Zv];new Set(DT);var Rs=$.createContext(null);Rs.displayName="DataRouter";var Au=$.createContext(null);Au.displayName="DataRouterState";var MT=$.createContext(!1),eb=$.createContext({isTransitioning:!1});eb.displayName="ViewTransition";var $T=$.createContext(new Map);$T.displayName="Fetchers";var BT=$.createContext(null);BT.displayName="Await";var nn=$.createContext(null);nn.displayName="Navigation";var nl=$.createContext(null);nl.displayName="Location";var Mn=$.createContext({outlet:null,matches:[],isDataRoute:!1});Mn.displayName="Route";var Od=$.createContext(null);Od.displayName="RouteError";var tb="REACT_ROUTER_ERROR",zT="REDIRECT",LT="ROUTE_ERROR_RESPONSE";function qT(a){if(a.startsWith(`${tb}:${zT}:{`))try{let t=JSON.parse(a.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function HT(a){if(a.startsWith(`${tb}:${LT}:{`))try{let t=JSON.parse(a.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new NT(t.status,t.statusText,t.data)}catch{}}function IT(a,{relative:t}={}){Ie(Os(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=$.useContext(nn),{hash:o,pathname:u,search:f}=al(a,{relative:t}),d=u;return r!=="/"&&(d=u==="/"?r:ia([r,u])),s.createHref({pathname:d,search:f,hash:o})}function Os(){return $.useContext(nl)!=null}function Ha(){return Ie(Os(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(nl).location}var nb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ab(a){$.useContext(nn).static||$.useLayoutEffect(a)}function Cd(){let{isDataRoute:a}=$.useContext(Mn);return a?tA():PT()}function PT(){Ie(Os(),"useNavigate() may be used only in the context of a <Router> component.");let a=$.useContext(Rs),{basename:t,navigator:r}=$.useContext(nn),{matches:s}=$.useContext(Mn),{pathname:o}=Ha(),u=JSON.stringify(Ad(s)),f=$.useRef(!1);return ab(()=>{f.current=!0}),$.useCallback((m,p={})=>{if(pn(f.current,nb),!f.current)return;if(typeof m=="number"){r.go(m);return}let _=Rd(m,JSON.parse(u),o,p.relative==="path");a==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:ia([t,_.pathname])),(p.replace?r.replace:r.push)(_,p.state,p)},[t,r,u,o,a])}$.createContext(null);function al(a,{relative:t}={}){let{matches:r}=$.useContext(Mn),{pathname:s}=Ha(),o=JSON.stringify(Ad(r));return $.useMemo(()=>Rd(a,JSON.parse(o),s,t==="path"),[a,o,s,t])}function GT(a,t){return rb(a,t)}function rb(a,t,r,s,o){Ie(Os(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=$.useContext(nn),{matches:f}=$.useContext(Mn),d=f[f.length-1],m=d?d.params:{},p=d?d.pathname:"/",_=d?d.pathnameBase:"/",y=d&&d.route;{let C=y&&y.path||"";ib(p,!y||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=Ha(),w;if(t){let C=typeof t=="string"?As(t):t;Ie(_==="/"||C.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${C.pathname}" was given in the \`location\` prop.`),w=C}else w=b;let E=w.pathname||"/",R=E;if(_!=="/"){let C=_.replace(/^\//,"").split("/");R="/"+E.replace(/^\//,"").split("/").slice(C.length).join("/")}let N=Yv(a,{pathname:R});pn(y||N!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),pn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=XT(N&&N.map(C=>Object.assign({},C,{params:Object.assign({},m,C.params),pathname:ia([_,u.encodeLocation?u.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?_:ia([_,u.encodeLocation?u.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),f,r,s,o);return t&&T?$.createElement(nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},T):T}function VT(){let a=eA(),t=jT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),r?$.createElement("pre",{style:o},r):null,f)}var KT=$.createElement(VT,null),sb=class extends $.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.onError?this.props.onError(a,t):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const r=HT(a.digest);r&&(a=r)}let t=a!==void 0?$.createElement(Mn.Provider,{value:this.props.routeContext},$.createElement(Od.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?$.createElement(YT,{error:a},t):t}};sb.contextType=MT;var vh=new WeakMap;function YT({children:a,error:t}){let{basename:r}=$.useContext(nn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=qT(t.digest);if(s){let o=vh.get(t);if(o)throw o;let u=Fv(s.location,r);if(Wv&&!vh.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw vh.set(t,f),f}return $.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return a}function JT({routeContext:a,match:t,children:r}){let s=$.useContext(Rs);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(Mn.Provider,{value:a},r)}function XT(a,t=[],r=null,s=null,o=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let u=a,f=r?.errors;if(f!=null){let _=u.findIndex(y=>y.route.id&&f?.[y.route.id]!==void 0);Ie(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let d=!1,m=-1;if(r)for(let _=0;_<u.length;_++){let y=u[_];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=_),y.route.id){let{loaderData:b,errors:w}=r,E=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||E){d=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let p=r&&s?(_,y)=>{s(_,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:UT(r.matches),errorInfo:y})}:void 0;return u.reduceRight((_,y,b)=>{let w,E=!1,R=null,N=null;r&&(w=f&&y.route.id?f[y.route.id]:void 0,R=y.route.errorElement||KT,d&&(m<0&&b===0?(ib("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):m===b&&(E=!0,N=y.route.hydrateFallbackElement||null)));let T=t.concat(u.slice(0,b+1)),C=()=>{let x;return w?x=R:E?x=N:y.route.Component?x=$.createElement(y.route.Component,null):y.route.element?x=y.route.element:x=_,$.createElement(JT,{match:y,routeContext:{outlet:_,matches:T,isDataRoute:r!=null},children:x})};return r&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?$.createElement(sb,{location:r.location,revalidation:r.revalidation,component:R,error:w,children:C(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:p}):C()},null)}function xd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QT(a){let t=$.useContext(Rs);return Ie(t,xd(a)),t}function WT(a){let t=$.useContext(Au);return Ie(t,xd(a)),t}function FT(a){let t=$.useContext(Mn);return Ie(t,xd(a)),t}function kd(a){let t=FT(a),r=t.matches[t.matches.length-1];return Ie(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function ZT(){return kd("useRouteId")}function eA(){let a=$.useContext(Od),t=WT("useRouteError"),r=kd("useRouteError");return a!==void 0?a:t.errors?.[r]}function tA(){let{router:a}=QT("useNavigate"),t=kd("useNavigate"),r=$.useRef(!1);return ab(()=>{r.current=!0}),$.useCallback(async(o,u={})=>{pn(r.current,nb),r.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:t,...u}))},[a,t])}var k_={};function ib(a,t,r){!t&&!k_[a]&&(k_[a]=!0,pn(!1,r))}$.memo(nA);function nA({routes:a,future:t,state:r,onError:s}){return rb(a,void 0,r,s,t)}function xo({to:a,replace:t,state:r,relative:s}){Ie(Os(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=$.useContext(nn);pn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=$.useContext(Mn),{pathname:f}=Ha(),d=Cd(),m=Rd(a,Ad(u),f,s==="path"),p=JSON.stringify(m);return $.useEffect(()=>{d(JSON.parse(p),{replace:t,state:r,relative:s})},[d,p,s,t,r]),null}function ta(a){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aA({basename:a="/",children:t=null,location:r,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Ie(!Os(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:d,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[d,o,u,f]);typeof r=="string"&&(r=As(r));let{pathname:p="/",search:_="",hash:y="",state:b=null,key:w="default"}=r,E=$.useMemo(()=>{let R=oa(p,d);return R==null?null:{location:{pathname:R,search:_,hash:y,state:b,key:w},navigationType:s}},[d,p,_,y,b,w,s]);return pn(E!=null,`<Router basename="${d}"> is not able to match the URL "${p}${_}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:$.createElement(nn.Provider,{value:m},$.createElement(nl.Provider,{children:t,value:E}))}function rA({children:a,location:t}){return GT(Vh(a),t)}function Vh(a,t=[]){let r=[];return $.Children.forEach(a,(s,o)=>{if(!$.isValidElement(s))return;let u=[...t,o];if(s.type===$.Fragment){r.push.apply(r,Vh(s.props.children,u));return}Ie(s.type===ta,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Vh(s.props.children,u)),r.push(f)}),r}var Ko="get",Yo="application/x-www-form-urlencoded";function Ru(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function sA(a){return Ru(a)&&a.tagName.toLowerCase()==="button"}function iA(a){return Ru(a)&&a.tagName.toLowerCase()==="form"}function lA(a){return Ru(a)&&a.tagName.toLowerCase()==="input"}function oA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function uA(a,t){return a.button===0&&(!t||t==="_self")&&!oA(a)}var ko=null;function cA(){if(ko===null)try{new FormData(document.createElement("form"),0),ko=!1}catch{ko=!0}return ko}var fA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bh(a){return a!=null&&!fA.has(a)?(pn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yo}"`),null):a}function hA(a,t){let r,s,o,u,f;if(iA(a)){let d=a.getAttribute("action");s=d?oa(d,t):null,r=a.getAttribute("method")||Ko,o=bh(a.getAttribute("enctype"))||Yo,u=new FormData(a)}else if(sA(a)||lA(a)&&(a.type==="submit"||a.type==="image")){let d=a.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=a.getAttribute("formaction")||d.getAttribute("action");if(s=m?oa(m,t):null,r=a.getAttribute("formmethod")||d.getAttribute("method")||Ko,o=bh(a.getAttribute("formenctype"))||bh(d.getAttribute("enctype"))||Yo,u=new FormData(d,a),!cA()){let{name:p,type:_,value:y}=a;if(_==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,y)}}else{if(Ru(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ko,s=null,o=Yo,f=a}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nd(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function dA(a,t,r){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${r}`:t&&oa(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function mA(a,t){if(a.id in t)return t[a.id];try{let r=await import(a.module);return t[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function gA(a,t,r){let s=await Promise.all(a.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await mA(u,r);return f.links?f.links():[]}return[]}));return bA(s.flat(1).filter(pA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function N_(a,t,r,s,o,u){let f=(m,p)=>r[p]?m.route.id!==r[p].route.id:!0,d=(m,p)=>r[p].pathname!==m.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==m.params["*"];return u==="assets"?t.filter((m,p)=>f(m,p)||d(m,p)):u==="data"?t.filter((m,p)=>{let _=s.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(f(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let y=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function yA(a,t,{includeHydrateFallback:r}={}){return _A(a.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _A(a){return[...new Set(a)]}function vA(a){let t={},r=Object.keys(a).sort();for(let s of r)t[s]=a[s];return t}function bA(a,t){let r=new Set;return new Set(t),a.reduce((s,o)=>{let u=JSON.stringify(vA(o));return r.has(u)||(r.add(u),s.push({key:u,link:o})),s},[])}function lb(){let a=$.useContext(Rs);return Nd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function wA(){let a=$.useContext(Au);return Nd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var jd=$.createContext(void 0);jd.displayName="FrameworkContext";function ob(){let a=$.useContext(jd);return Nd(a,"You must render this element inside a <HydratedRouter> element"),a}function SA(a,t){let r=$.useContext(jd),[s,o]=$.useState(!1),[u,f]=$.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:y}=t,b=$.useRef(null);$.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let R=T=>{T.forEach(C=>{f(C.isIntersecting)})},N=new IntersectionObserver(R,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[a]),$.useEffect(()=>{if(s){let R=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(R)}}},[s]);let w=()=>{o(!0)},E=()=>{o(!1),f(!1)};return r?a!=="intent"?[u,b,{}]:[u,b,{onFocus:Ri(d,w),onBlur:Ri(m,E),onMouseEnter:Ri(p,w),onMouseLeave:Ri(_,E),onTouchStart:Ri(y,w)}]:[!1,b,{}]}function Ri(a,t){return r=>{a&&a(r),r.defaultPrevented||t(r)}}function EA({page:a,...t}){let{router:r}=lb(),s=$.useMemo(()=>Yv(r.routes,a,r.basename),[r.routes,a,r.basename]);return s?$.createElement(AA,{page:a,matches:s,...t}):null}function TA(a){let{manifest:t,routeModules:r}=ob(),[s,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return gA(a,t,r).then(f=>{u||o(f)}),()=>{u=!0}},[a,t,r]),s}function AA({page:a,matches:t,...r}){let s=Ha(),{manifest:o,routeModules:u}=ob(),{basename:f}=lb(),{loaderData:d,matches:m}=wA(),p=$.useMemo(()=>N_(a,t,m,o,s,"data"),[a,t,m,o,s]),_=$.useMemo(()=>N_(a,t,m,o,s,"assets"),[a,t,m,o,s]),y=$.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let E=new Set,R=!1;if(t.forEach(T=>{let C=o.routes[T.route.id];!C||!C.hasLoader||(!p.some(x=>x.route.id===T.route.id)&&T.route.id in d&&u[T.route.id]?.shouldRevalidate||C.hasClientLoader?R=!0:E.add(T.route.id))}),E.size===0)return[];let N=dA(a,f,"data");return R&&E.size>0&&N.searchParams.set("_routes",t.filter(T=>E.has(T.route.id)).map(T=>T.route.id).join(",")),[N.pathname+N.search]},[f,d,s,o,p,t,a,u]),b=$.useMemo(()=>yA(_,o),[_,o]),w=TA(_);return $.createElement($.Fragment,null,y.map(E=>$.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),b.map(E=>$.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),w.map(({key:E,link:R})=>$.createElement("link",{key:E,nonce:r.nonce,...R})))}function RA(...a){return t=>{a.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var OA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OA&&(window.__reactRouterVersion="7.11.0")}catch{}function CA({basename:a,children:t,unstable_useTransitions:r,window:s}){let o=$.useRef();o.current==null&&(o.current=oT({window:s,v5Compat:!0}));let u=o.current,[f,d]=$.useState({action:u.action,location:u.location}),m=$.useCallback(p=>{r===!1?d(p):$.startTransition(()=>d(p))},[r]);return $.useLayoutEffect(()=>u.listen(m),[u,m]),$.createElement(aA,{basename:a,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:r})}var ub=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sa=$.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:d,target:m,to:p,preventScrollReset:_,viewTransition:y,unstable_defaultShouldRevalidate:b,...w},E){let{basename:R,unstable_useTransitions:N}=$.useContext(nn),T=typeof p=="string"&&ub.test(p),C=Fv(p,R);p=C.to;let x=IT(p,{relative:o}),[q,K,J]=SA(s,w),G=jA(p,{replace:f,state:d,target:m,preventScrollReset:_,relative:o,viewTransition:y,unstable_defaultShouldRevalidate:b,unstable_useTransitions:N});function W(Ee){t&&t(Ee),Ee.defaultPrevented||G(Ee)}let ue=$.createElement("a",{...w,...J,href:C.absoluteURL||x,onClick:C.isExternal||u?t:W,ref:RA(E,K),target:m,"data-discover":!T&&r==="render"?"true":void 0});return q&&!T?$.createElement($.Fragment,null,ue,$.createElement(EA,{page:x})):ue});sa.displayName="Link";var xA=$.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:d,children:m,...p},_){let y=al(f,{relative:p.relative}),b=Ha(),w=$.useContext(Au),{navigator:E,basename:R}=$.useContext(nn),N=w!=null&&BA(y)&&d===!0,T=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,C=b.pathname,x=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(C=C.toLowerCase(),x=x?x.toLowerCase():null,T=T.toLowerCase()),x&&R&&(x=oa(x,R)||x);const q=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let K=C===T||!o&&C.startsWith(T)&&C.charAt(q)==="/",J=x!=null&&(x===T||!o&&x.startsWith(T)&&x.charAt(T.length)==="/"),G={isActive:K,isPending:J,isTransitioning:N},W=K?t:void 0,ue;typeof s=="function"?ue=s(G):ue=[s,K?"active":null,J?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof u=="function"?u(G):u;return $.createElement(sa,{...p,"aria-current":W,className:ue,ref:_,style:Ee,to:f,viewTransition:d},typeof m=="function"?m(G):m)});xA.displayName="NavLink";var kA=$.forwardRef(({discover:a="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:o,state:u,method:f=Ko,action:d,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:y,unstable_defaultShouldRevalidate:b,...w},E)=>{let{unstable_useTransitions:R}=$.useContext(nn),N=MA(),T=$A(d,{relative:p}),C=f.toLowerCase()==="get"?"get":"post",x=typeof d=="string"&&ub.test(d),q=K=>{if(m&&m(K),K.defaultPrevented)return;K.preventDefault();let J=K.nativeEvent.submitter,G=J?.getAttribute("formmethod")||f,W=()=>N(J||K.currentTarget,{fetcherKey:t,method:G,navigate:r,replace:o,state:u,relative:p,preventScrollReset:_,viewTransition:y,unstable_defaultShouldRevalidate:b});R&&r!==!1?$.startTransition(()=>W()):W()};return $.createElement("form",{ref:E,method:C,action:T,onSubmit:s?m:q,...w,"data-discover":!x&&a==="render"?"true":void 0})});kA.displayName="Form";function NA(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cb(a){let t=$.useContext(Rs);return Ie(t,NA(a)),t}function jA(a,{target:t,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=Cd(),_=Ha(),y=al(a,{relative:u});return $.useCallback(b=>{if(uA(b,t)){b.preventDefault();let w=r!==void 0?r:Vi(_)===Vi(y),E=()=>p(a,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:d});m?$.startTransition(()=>E()):E()}},[_,p,y,r,s,t,a,o,u,f,d,m])}var UA=0,DA=()=>`__${String(++UA)}__`;function MA(){let{router:a}=cb("useSubmit"),{basename:t}=$.useContext(nn),r=ZT(),s=a.fetch,o=a.navigate;return $.useCallback(async(u,f={})=>{let{action:d,method:m,encType:p,formData:_,body:y}=hA(u,t);if(f.navigate===!1){let b=f.fetcherKey||DA();await s(b,r,f.action||d,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:_,body:y,formMethod:f.method||m,formEncType:f.encType||p,flushSync:f.flushSync})}else await o(f.action||d,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:_,body:y,formMethod:f.method||m,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,r])}function $A(a,{relative:t}={}){let{basename:r}=$.useContext(nn),s=$.useContext(Mn);Ie(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...al(a||".",{relative:t})},f=Ha();if(a==null){u.search=f.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(y=>y).forEach(y=>d.append("index",y));let _=d.toString();u.search=_?`?${_}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:ia([r,u.pathname])),Vi(u)}function BA(a,{relative:t}={}){let r=$.useContext(eb);Ie(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cb("useViewTransitionState"),o=al(a,{relative:t});if(!r.isTransitioning)return!1;let u=oa(r.currentLocation.pathname,s)||r.currentLocation.pathname,f=oa(r.nextLocation.pathname,s)||r.nextLocation.pathname;return su(o.pathname,f)!=null||su(o.pathname,u)!=null}var wh={exports:{}},Sh={};var j_;function zA(){if(j_)return Sh;j_=1;var a=Tu();function t(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:t,s=a.useSyncExternalStore,o=a.useRef,u=a.useEffect,f=a.useMemo,d=a.useDebugValue;return Sh.useSyncExternalStoreWithSelector=function(m,p,_,y,b){var w=o(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=f(function(){function N(K){if(!T){if(T=!0,C=K,K=y(K),b!==void 0&&E.hasValue){var J=E.value;if(b(J,K))return x=J}return x=K}if(J=x,r(C,K))return J;var G=y(K);return b!==void 0&&b(J,G)?(C=K,J):(C=K,x=G)}var T=!1,C,x,q=_===void 0?null:_;return[function(){return N(p())},q===null?void 0:function(){return N(q())}]},[p,_,y,b]);var R=s(m,w[0],w[1]);return u(function(){E.hasValue=!0,E.value=R},[R]),d(R),R},Sh}var U_;function LA(){return U_||(U_=1,wh.exports=zA()),wh.exports}var qA=LA();function HA(a){a()}function IA(){let a=null,t=null;return{clear(){a=null,t=null},notify(){HA(()=>{let r=a;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=a;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:a=o,function(){!s||a===null||(s=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:a=o.next)}}}}var D_={notify(){},get:()=>[]};function PA(a,t){let r,s=D_,o=0,u=!1;function f(R){_();const N=s.subscribe(R);let T=!1;return()=>{T||(T=!0,N(),y())}}function d(){s.notify()}function m(){E.onStateChange&&E.onStateChange()}function p(){return u}function _(){o++,r||(r=a.subscribe(m),s=IA())}function y(){o--,r&&o===0&&(r(),r=void 0,s.clear(),s=D_)}function b(){u||(u=!0,_())}function w(){u&&(u=!1,y())}const E={addNestedSub:f,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:p,trySubscribe:b,tryUnsubscribe:w,getListeners:()=>s};return E}var GA=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VA=GA(),KA=()=>typeof navigator<"u"&&navigator.product==="ReactNative",YA=KA(),JA=()=>VA||YA?$.useLayoutEffect:$.useEffect,XA=JA(),QA=Symbol.for("react-redux-context"),WA=typeof globalThis<"u"?globalThis:{};function FA(){if(!$.createContext)return{};const a=WA[QA]??=new Map;let t=a.get($.createContext);return t||(t=$.createContext(null),a.set($.createContext,t)),t}var qa=FA();function ZA(a){const{children:t,context:r,serverState:s,store:o}=a,u=$.useMemo(()=>{const m=PA(o);return{store:o,subscription:m,getServerState:s?()=>s:void 0}},[o,s]),f=$.useMemo(()=>o.getState(),[o]);XA(()=>{const{subscription:m}=u;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),f!==o.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[u,f]);const d=r||qa;return $.createElement(d.Provider,{value:u},t)}var eR=ZA;function Ud(a=qa){return function(){return $.useContext(a)}}var fb=Ud();function hb(a=qa){const t=a===qa?fb:Ud(a),r=()=>{const{store:s}=t();return s};return Object.assign(r,{withTypes:()=>r}),r}var tR=hb();function nR(a=qa){const t=a===qa?tR:hb(a),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Ou=nR(),aR=(a,t)=>a===t;function rR(a=qa){const t=a===qa?fb:Ud(a),r=(s,o={})=>{const{equalityFn:u=aR}=typeof o=="function"?{equalityFn:o}:o,f=t(),{store:d,subscription:m,getServerState:p}=f;$.useRef(!0);const _=$.useCallback({[s.name](b){return s(b)}}[s.name],[s]),y=qA.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,p||d.getState,_,u);return $.useDebugValue(y),y};return Object.assign(r,{withTypes:()=>r}),r}var Cs=rR();function Cu(a,t){var r={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(r[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(r[s[o]]=a[s[o]]);return r}function sR(a,t,r,s){function o(u){return u instanceof r?u:new r(function(f){f(u)})}return new(r||(r=Promise))(function(u,f){function d(_){try{p(s.next(_))}catch(y){f(y)}}function m(_){try{p(s.throw(_))}catch(y){f(y)}}function p(_){_.done?u(_.value):o(_.value).then(d,m)}p((s=s.apply(a,t||[])).next())})}const iR=a=>a?(...t)=>a(...t):(...t)=>fetch(...t);class Dd extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class lR extends Dd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class M_ extends Dd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $_ extends Dd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Kh;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Kh||(Kh={}));class oR{constructor(t,{headers:r={},customFetch:s,region:o=Kh.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=iR(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return sR(this,arguments,void 0,function*(r,s={}){var o;let u,f;try{const{headers:d,method:m,body:p,signal:_,timeout:y}=s;let b={},{region:w}=s;w||(w=this.region);const E=new URL(`${this.url}/${r}`);w&&w!=="any"&&(b["x-region"]=w,E.searchParams.set("forceFunctionRegion",w));let R;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",R=p):typeof p=="string"?(b["Content-Type"]="text/plain",R=p):typeof FormData<"u"&&p instanceof FormData?R=p:(b["Content-Type"]="application/json",R=JSON.stringify(p)):R=p;let N=_;y&&(f=new AbortController,u=setTimeout(()=>f.abort(),y),_?(N=f.signal,_.addEventListener("abort",()=>f.abort())):N=f.signal);const T=yield this.fetch(E.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:R,signal:N}).catch(K=>{throw new lR(K)}),C=T.headers.get("x-relay-error");if(C&&C==="true")throw new M_(T);if(!T.ok)throw new $_(T);let x=((o=T.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),q;return x==="application/json"?q=yield T.json():x==="application/octet-stream"||x==="application/pdf"?q=yield T.blob():x==="text/event-stream"?q=T:x==="multipart/form-data"?q=yield T.formData():q=yield T.text(),{data:q,error:null,response:T}}catch(d){return{data:null,error:d,response:d instanceof $_||d instanceof M_?d.context:void 0}}finally{u&&clearTimeout(u)}})}}var uR=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},cR=class{constructor(a){var t,r;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(t=a.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=a.signal,this.isMaybeSingle=(r=a.isMaybeSingle)!==null&&r!==void 0?r:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,t){return this.headers=new Headers(this.headers),this.headers.set(a,t),this}then(a,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let f=null,d=null,m=null,p=u.status,_=u.statusText;if(u.ok){var y,b;if(r.method!=="HEAD"){var w;const T=await u.text();T===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((w=r.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?d=T:d=JSON.parse(T))}const R=(y=r.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),N=(b=u.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");R&&N&&N.length>1&&(m=parseInt(N[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(f={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,p=406,_="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var E;const R=await u.text();try{f=JSON.parse(R),Array.isArray(f)&&u.status===404&&(d=[],f=null,p=200,_="OK")}catch{u.status===404&&R===""?(p=204,_="No Content"):f={message:R}}if(f&&r.isMaybeSingle&&(!(f==null||(E=f.details)===null||E===void 0)&&E.includes("0 rows"))&&(f=null,p=200,_="OK"),f&&r.shouldThrowOnError)throw new uR(f)}return{error:f,data:d,count:m,status:p,statusText:_}});return this.shouldThrowOnError||(o=o.catch(u=>{var f;let d="";const m=u?.cause;if(m){var p,_,y,b;const E=(p=m?.message)!==null&&p!==void 0?p:"",R=(_=m?.code)!==null&&_!==void 0?_:"";d=`${(y=u?.name)!==null&&y!==void 0?y:"FetchError"}: ${u?.message}`,d+=`

Caused by: ${(b=m?.name)!==null&&b!==void 0?b:"Error"}: ${E}`,R&&(d+=` (${R})`),m?.stack&&(d+=`
${m.stack}`)}else{var w;d=(w=u?.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(a,t)}returns(){return this}overrideTypes(){return this}},fR=class extends cR{select(a){let t=!1;const r=(a??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const u=o?`${o}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${a}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:t,referencedTable:r=t}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,t,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this.url.searchParams.set(u,`${t-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:u="text"}={}){var f;const d=[a?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const B_=new RegExp("[,()]");var ds=class extends fR{eq(a,t){return this.url.searchParams.append(a,`eq.${t}`),this}neq(a,t){return this.url.searchParams.append(a,`neq.${t}`),this}gt(a,t){return this.url.searchParams.append(a,`gt.${t}`),this}gte(a,t){return this.url.searchParams.append(a,`gte.${t}`),this}lt(a,t){return this.url.searchParams.append(a,`lt.${t}`),this}lte(a,t){return this.url.searchParams.append(a,`lte.${t}`),this}like(a,t){return this.url.searchParams.append(a,`like.${t}`),this}likeAllOf(a,t){return this.url.searchParams.append(a,`like(all).{${t.join(",")}}`),this}likeAnyOf(a,t){return this.url.searchParams.append(a,`like(any).{${t.join(",")}}`),this}ilike(a,t){return this.url.searchParams.append(a,`ilike.${t}`),this}ilikeAllOf(a,t){return this.url.searchParams.append(a,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(a,t){return this.url.searchParams.append(a,`ilike(any).{${t.join(",")}}`),this}regexMatch(a,t){return this.url.searchParams.append(a,`match.${t}`),this}regexIMatch(a,t){return this.url.searchParams.append(a,`imatch.${t}`),this}is(a,t){return this.url.searchParams.append(a,`is.${t}`),this}isDistinct(a,t){return this.url.searchParams.append(a,`isdistinct.${t}`),this}in(a,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&B_.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`in.(${r})`),this}notIn(a,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&B_.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`not.in.(${r})`),this}contains(a,t){return typeof t=="string"?this.url.searchParams.append(a,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(a,`cs.{${t.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(t)}`),this}containedBy(a,t){return typeof t=="string"?this.url.searchParams.append(a,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(a,`cd.{${t.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(t)}`),this}rangeGt(a,t){return this.url.searchParams.append(a,`sr.${t}`),this}rangeGte(a,t){return this.url.searchParams.append(a,`nxl.${t}`),this}rangeLt(a,t){return this.url.searchParams.append(a,`sl.${t}`),this}rangeLte(a,t){return this.url.searchParams.append(a,`nxr.${t}`),this}rangeAdjacent(a,t){return this.url.searchParams.append(a,`adj.${t}`),this}overlaps(a,t){return typeof t=="string"?this.url.searchParams.append(a,`ov.${t}`):this.url.searchParams.append(a,`ov.{${t.join(",")}}`),this}textSearch(a,t,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(a,`${o}fts${u}.${t}`),this}match(a){return Object.entries(a).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(a,t,r){return this.url.searchParams.append(a,`not.${t}.${r}`),this}or(a,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${a})`),this}filter(a,t,r){return this.url.searchParams.append(a,`${t}.${r}`),this}},hR=class{constructor(a,{headers:t={},schema:r,fetch:s}){this.url=a,this.headers=new Headers(t),this.schema=r,this.fetch=s}select(a,t){const{head:r=!1,count:s}=t??{},o=r?"HEAD":"GET";let u=!1;const f=(a??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",f),s&&this.headers.append("Prefer",`count=${s}`),new ds({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:t,defaultToNull:r=!0}={}){var s;const o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(u.length>0){const f=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new ds({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(a,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(d.length>0){const m=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new ds({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:t}={}){var r;const s="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ds({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:a}={}){var t;const r="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new ds({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},dR=class db{constructor(t,{headers:r={},schema:s,fetch:o}={}){this.url=t,this.headers=new Headers(r),this.schemaName=s,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new hR(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new db(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:o=!1,count:u}={}){var f;let d;const m=new URL(`${this.url}/rpc/${t}`);let p;s||o?(d=s?"HEAD":"GET",Object.entries(r).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{m.searchParams.append(y,b)})):(d="POST",p=r);const _=new Headers(this.headers);return u&&_.set("Prefer",`count=${u}`),new ds({method:d,url:m,headers:_,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class mR{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const pR="2.89.0",gR=`realtime-js/${pR}`,mb="1.0.0",yR="2.0.0",z_=mb,Yh=1e4,_R=1e3,vR=100;var za;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(za||(za={}));var st;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(st||(st={}));var Tn;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Tn||(Tn={}));var Jh;(function(a){a.websocket="websocket"})(Jh||(Jh={}));var fr;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(fr||(fr={}));class bR{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,s;const o=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var r,s;const o=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(t,r,s){var o,u;const f=t.topic,d=(o=t.ref)!==null&&o!==void 0?o:"",m=(u=t.join_ref)!==null&&u!==void 0?u:"",p=t.payload.event,_=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},y=Object.keys(_).length===0?"":JSON.stringify(_);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+d.length+f.length+p.length+y.length,w=new ArrayBuffer(this.HEADER_LENGTH+b);let E=new DataView(w),R=0;E.setUint8(R++,this.KINDS.userBroadcastPush),E.setUint8(R++,m.length),E.setUint8(R++,d.length),E.setUint8(R++,f.length),E.setUint8(R++,p.length),E.setUint8(R++,y.length),E.setUint8(R++,r),Array.from(m,T=>E.setUint8(R++,T.charCodeAt(0))),Array.from(d,T=>E.setUint8(R++,T.charCodeAt(0))),Array.from(f,T=>E.setUint8(R++,T.charCodeAt(0))),Array.from(p,T=>E.setUint8(R++,T.charCodeAt(0))),Array.from(y,T=>E.setUint8(R++,T.charCodeAt(0)));var N=new Uint8Array(w.byteLength+s.byteLength);return N.set(new Uint8Array(w),0),N.set(new Uint8Array(s),w.byteLength),N.buffer}decode(t,r){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return r(s)}if(typeof t=="string"){const s=JSON.parse(t),[o,u,f,d,m]=s;return r({join_ref:o,ref:u,topic:f,event:d,payload:m})}return r({})}_binaryDecode(t){const r=new DataView(t),s=r.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,o)}_decodeUserBroadcast(t,r,s){const o=r.getUint8(1),u=r.getUint8(2),f=r.getUint8(3),d=r.getUint8(4);let m=this.HEADER_LENGTH+4;const p=s.decode(t.slice(m,m+o));m=m+o;const _=s.decode(t.slice(m,m+u));m=m+u;const y=s.decode(t.slice(m,m+f));m=m+f;const b=t.slice(m,t.byteLength),w=d===this.JSON_ENCODING?JSON.parse(s.decode(b)):b,E={type:this.BROADCAST_EVENT,event:_,payload:w};return f>0&&(E.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>r.includes(s)))}}class pb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(ze||(ze={}));const L_=(a,t,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((u,f)=>(u[f]=wR(f,a,t,o),u),{}):{}},wR=(a,t,r,s)=>{const o=t.find(d=>d.name===a),u=o?.type,f=r[a];return u&&!s.includes(u)?gb(u,f):Xh(f)},gb=(a,t)=>{if(a.charAt(0)==="_"){const r=a.slice(1,a.length);return AR(t,r)}switch(a){case ze.bool:return SR(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return ER(t);case ze.json:case ze.jsonb:return TR(t);case ze.timestamp:return RR(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Xh(t);default:return Xh(t)}},Xh=a=>a,SR=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},ER=a=>{if(typeof a=="string"){const t=parseFloat(a);if(!Number.isNaN(t))return t}return a},TR=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},AR=(a,t)=>{if(typeof a!="string")return a;const r=a.length-1,s=a[r];if(a[0]==="{"&&s==="}"){let u;const f=a.slice(1,r);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(d=>gb(t,d))}return a},RR=a=>typeof a=="string"?a.replace(" ","T"):a,yb=a=>{const t=new URL(a);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Eh{constructor(t,r,s={},o=Yh){this.channel=t,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var q_;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(q_||(q_={}));class Li{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:u,onLeave:f,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Li.syncState(this.state,o,u,f),this.pendingDiffs.forEach(m=>{this.state=Li.syncDiff(this.state,m,u,f)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:u,onLeave:f,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Li.syncDiff(this.state,o,u,f),d())}),this.onJoin((o,u,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:f})}),this.onLeave((o,u,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,o){const u=this.cloneDeep(t),f=this.transformState(r),d={},m={};return this.map(u,(p,_)=>{f[p]||(m[p]=_)}),this.map(f,(p,_)=>{const y=u[p];if(y){const b=_.map(N=>N.presence_ref),w=y.map(N=>N.presence_ref),E=_.filter(N=>w.indexOf(N.presence_ref)<0),R=y.filter(N=>b.indexOf(N.presence_ref)<0);E.length>0&&(d[p]=E),R.length>0&&(m[p]=R)}else d[p]=_}),this.syncDiff(u,{joins:d,leaves:m},s,o)}static syncDiff(t,r,s,o){const{joins:u,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(u,(d,m)=>{var p;const _=(p=t[d])!==null&&p!==void 0?p:[];if(t[d]=this.cloneDeep(m),_.length>0){const y=t[d].map(w=>w.presence_ref),b=_.filter(w=>y.indexOf(w.presence_ref)<0);t[d].unshift(...b)}s(d,_,m)}),this.map(f,(d,m)=>{let p=t[d];if(!p)return;const _=m.map(y=>y.presence_ref);p=p.filter(y=>_.indexOf(y.presence_ref)<0),t[d]=p,o(d,p,m),p.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const o=t[s];return"metas"in o?r[s]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[s]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var H_;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(H_||(H_={}));var qi;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(qi||(qi={}));var aa;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(aa||(aa={}));class bs{constructor(t,r={config:{}},s){var o,u;if(this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Eh(this,Tn.join,this.params,this.timeout),this.rejoinTimer=new pb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tn.reply,{},(f,d)=>{this._trigger(this._replyEventName(d),f)}),this.presence=new Li(this),this.broadcastEndpointURL=yb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var s,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:f,presence:d,private:m}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&o!==void 0?o:[],_=!!this.bindings[qi.PRESENCE]&&this.bindings[qi.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,y={},b={broadcast:f,presence:Object.assign(Object.assign({},d),{enabled:_}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(aa.CHANNEL_ERROR,w)),this._onClose(()=>t?.(aa.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t?.(aa.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,N=(E=R?.length)!==null&&E!==void 0?E:0,T=[];for(let C=0;C<N;C++){const x=R[C],{filter:{event:q,schema:K,table:J,filter:G}}=x,W=w&&w[C];if(W&&W.event===q&&bs.isFilterValueEqual(W.schema,K)&&bs.isFilterValueEqual(W.table,J)&&bs.isFilterValueEqual(W.filter,G))T.push(Object.assign(Object.assign({},x),{id:W.id}));else{this.unsubscribe(),this.state=st.errored,t?.(aa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(aa.SUBSCRIBED);return}}).receive("error",w=>{this.state=st.errored,t?.(aa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(aa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===st.joined&&t===qi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,s)}async httpSend(t,r,s={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let m=d.statusText;try{const p=await d.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(t,r={}){var s,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,d,m;const p=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(d=(f=this.params)===null||f===void 0?void 0:f.config)===null||d===void 0?void 0:d.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=st.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Eh(this,Tn.leave,{},t),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const o=new AbortController,u=setTimeout(()=>o.abort(),s),f=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(u),f}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Eh(this,t,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vR){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var o,u;const f=t.toLocaleLowerCase(),{close:d,error:m,leave:p,join:_}=Tn;if(s&&[d,m,p,_].indexOf(f)>=0&&s!==this._joinRef())return;let b=this._onMessage(f,r,s);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var E,R,N;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((N=(R=w.filter)===null||R===void 0?void 0:R.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===f}).map(w=>w.callback(b,s)):(u=this.bindings[f])===null||u===void 0||u.filter(w=>{var E,R,N,T,C,x;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in w){const q=w.id,K=(E=w.filter)===null||E===void 0?void 0:E.event;return q&&((R=r.ids)===null||R===void 0?void 0:R.includes(q))&&(K==="*"||K?.toLocaleLowerCase()===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const q=(C=(T=w?.filter)===null||T===void 0?void 0:T.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return q==="*"||q===((x=r?.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===f}).map(w=>{if(typeof b=="object"&&"ids"in b){const E=b.data,{schema:R,table:N,commit_timestamp:T,type:C,errors:x}=E;b=Object.assign(Object.assign({},{schema:R,table:N,commit_timestamp:T,eventType:C,new:{},old:{},errors:x}),this._getPayloadRecords(E))}w.callback(b,s)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const o=t.toLocaleLowerCase(),u={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===s&&bs.isEqual(o.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Tn.close,{},t)}_onError(t){this._on(Tn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=L_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=L_(t.columns,t.old_record)),r}}const Th=()=>{},No={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},OR=[1e3,2e3,5e3,1e4],CR=1e4,xR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kR{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yh,this.transport=null,this.heartbeatIntervalMs=No.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Th,this.ref=0,this.reconnectTimer=null,this.vsn=z_,this.logger=Th,this.conn=null,this.sendBuffer=[],this.serializer=new bR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Jh.websocket}`,this.httpEndpoint=yb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mR.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case za.connecting:return fr.Connecting;case za.open:return fr.Open;case za.closing:return fr.Closing;default:return fr.Closed}}isConnected(){return this.connectionState()===fr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===s);if(o)return o;{const u=new bs(`realtime:${t}`,r,this);return this.channels.push(u),u}}push(t){const{topic:r,event:s,payload:o,ref:u}=t,f=()=>{this.encode(t,d=>{var m;(m=this.conn)===null||m===void 0||m.send(d)})};this.log("push",`${r} ${s} (${u})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_R,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},No.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:u,ref:f}=r,d=f?`(${f})`:"",m=u.status||"";this.log("receive",`${m} ${s} ${o} ${d}`.trim(),u),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,u,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===za.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===za.open||this.conn.readyState===za.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Tn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${s}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([xR],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,s=!1;if(t)r=t,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const u={access_token:r,version:gR};r&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(Tn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new pb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},No.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,o,u,f,d,m,p,_,y,b,w;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:Yh,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:No.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=t?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:Th,this.vsn=(m=t?.vsn)!==null&&m!==void 0?m:z_,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(E=>OR[E-1]||CR),this.vsn){case mb:this.encode=(_=t?.encode)!==null&&_!==void 0?_:((E,R)=>R(JSON.stringify(E))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:((E,R)=>R(JSON.parse(E)));break;case yR:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(w=t?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Ki=class extends Error{constructor(a,t){super(a),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function NR(a,t,r){const s=new URL(t,a);if(r)for(const[o,u]of Object.entries(r))u!==void 0&&s.searchParams.set(o,u);return s.toString()}async function jR(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function UR(a){const t=a.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:o,body:u,headers:f}){const d=NR(a.baseUrl,s,o),m=await jR(a.auth),p=await t(d,{method:r,headers:{...u?{"Content-Type":"application/json"}:{},...m,...f},body:u?JSON.stringify(u):void 0}),_=await p.text(),y=(p.headers.get("content-type")||"").includes("application/json"),b=y&&_?JSON.parse(_):_;if(!p.ok){const w=y?b:void 0,E=w?.error;throw new Ki(E?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:E?.type,icebergCode:E?.code,details:w})}return{status:p.status,headers:p.headers,data:b}}}}function jo(a){return a.join("")}var DR=class{constructor(a,t=""){this.client=a,this.prefix=t}async listNamespaces(a){const t=a?{parent:jo(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(a,t){const r={namespace:a.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jo(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jo(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jo(a.namespace)}`}),!0}catch(t){if(t instanceof Ki&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(a,t){try{return await this.createNamespace(a,t)}catch(r){if(r instanceof Ki&&r.status===409)return;throw r}}};function rs(a){return a.join("")}var MR=class{constructor(a,t="",r){this.client=a,this.prefix=t,this.accessDelegation=r}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rs(a.namespace)}/tables`})).data.identifiers}async createTable(a,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rs(a.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(a,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rs(a.namespace)}/tables/${a.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(a,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rs(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(a){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rs(a.namespace)}/tables/${a.name}`,headers:t})).data.metadata}async tableExists(a){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rs(a.namespace)}/tables/${a.name}`,headers:t}),!0}catch(r){if(r instanceof Ki&&r.status===404)return!1;throw r}}async createTableIfNotExists(a,t){try{return await this.createTable(a,t)}catch(r){if(r instanceof Ki&&r.status===409)return await this.loadTable({namespace:a.namespace,name:t.name});throw r}}},$R=class{constructor(a){let t="v1";a.catalogName&&(t+=`/${a.catalogName}`);const r=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=UR({baseUrl:r,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new DR(this.client,t),this.tableOps=new MR(this.client,t,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,t){return this.namespaceOps.createNamespace(a,t)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,t){return this.tableOps.createTable(a,t)}async updateTable(a,t){return this.tableOps.updateTable(a,t)}async dropTable(a,t){await this.tableOps.dropTable(a,t)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,t){return this.namespaceOps.createNamespaceIfNotExists(a,t)}async createTableIfNotExists(a,t){return this.tableOps.createTableIfNotExists(a,t)}},xu=class extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}};function Pe(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var BR=class extends xu{constructor(a,t,r){super(a),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Qh=class extends xu{constructor(a,t){super(a),this.name="StorageUnknownError",this.originalError=t}};const Md=a=>a?(...t)=>a(...t):(...t)=>fetch(...t),zR=()=>Response,Wh=a=>{if(Array.isArray(a))return a.map(r=>Wh(r));if(typeof a=="function"||a!==Object(a))return a;const t={};return Object.entries(a).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=Wh(s)}),t},LR=a=>{if(typeof a!="object"||a===null)return!1;const t=Object.getPrototypeOf(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},qR=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function Yi(a){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(a)}function HR(a,t){if(Yi(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,t);if(Yi(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function IR(a){var t=HR(a,"string");return Yi(t)=="symbol"?t:t+""}function PR(a,t,r){return(t=IR(t))in a?Object.defineProperty(a,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[t]=r,a}function I_(a,t){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),r.push.apply(r,s)}return r}function oe(a){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(s){PR(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}const Ah=a=>{var t;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(t=a.error)===null||t===void 0?void 0:t.message)||JSON.stringify(a)},GR=async(a,t,r)=>{a instanceof await zR()&&!r?.noResolveJson?a.json().then(s=>{const o=a.status||500,u=s?.statusCode||o+"";t(new BR(Ah(s),o,u))}).catch(s=>{t(new Qh(Ah(s),s))}):t(new Qh(Ah(a),a))},VR=(a,t,r,s)=>{const o={method:a,headers:t?.headers||{}};return a==="GET"||!s?o:(LR(s)?(o.headers=oe({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(s)):o.body=s,t?.duplex&&(o.duplex=t.duplex),oe(oe({},o),r))};async function rl(a,t,r,s,o,u){return new Promise((f,d)=>{a(r,VR(t,s,o,u)).then(m=>{if(!m.ok)throw m;return s?.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>GR(m,d,s))})}async function Ji(a,t,r,s){return rl(a,"GET",t,r,s)}async function Sn(a,t,r,s,o){return rl(a,"POST",t,s,o,r)}async function Fh(a,t,r,s,o){return rl(a,"PUT",t,s,o,r)}async function KR(a,t,r,s){return rl(a,"HEAD",t,oe(oe({},r),{},{noResolveJson:!0}),s)}async function $d(a,t,r,s,o){return rl(a,"DELETE",t,s,o,r)}var YR=class{constructor(a,t){this.downloadFn=a,this.shouldThrowOnError=t}then(a,t){return this.execute().then(a,t)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(t){if(a.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}}};let _b;_b=Symbol.toStringTag;var JR=class{constructor(a,t){this.downloadFn=a,this.shouldThrowOnError=t,this[_b]="BlobDownloadBuilder",this.promise=null}asStream(){return new YR(this.downloadFn,this.shouldThrowOnError)}then(a,t){return this.getPromise().then(a,t)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(t){if(a.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}}};const XR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},P_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var QR=class{constructor(a,t={},r,s){this.shouldThrowOnError=!1,this.url=a,this.headers=t,this.bucketId=r,this.fetch=Md(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(a,t,r,s){var o=this;try{let u;const f=oe(oe({},P_),s);let d=oe(oe({},o.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),m&&u.append("metadata",o.encodeMetadata(m)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),m&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(m))):(u=r,d["cache-control"]=`max-age=${f.cacheControl}`,d["content-type"]=f.contentType,m&&(d["x-metadata"]=o.toBase64(o.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),s?.headers&&(d=oe(oe({},d),s.headers));const p=o._removeEmptyFolders(t),_=o._getFinalPath(p),y=await(a=="PUT"?Fh:Sn)(o.fetch,`${o.url}/object/${_}`,u,oe({headers:d},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}}async upload(a,t,r){return this.uploadOrUpdate("POST",a,t,r)}async uploadToSignedUrl(a,t,r,s){var o=this;const u=o._removeEmptyFolders(a),f=o._getFinalPath(u),d=new URL(o.url+`/object/upload/sign/${f}`);d.searchParams.set("token",t);try{let m;const p=oe({upsert:P_.upsert},s),_=oe(oe({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",p.cacheControl)):(m=r,_["cache-control"]=`max-age=${p.cacheControl}`,_["content-type"]=p.contentType),{data:{path:u,fullPath:(await Fh(o.fetch,d.toString(),m,{headers:_})).Key},error:null}}catch(m){if(o.shouldThrowOnError)throw m;if(Pe(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(a,t){var r=this;try{let s=r._getFinalPath(a);const o=oe({},r.headers);t?.upsert&&(o["x-upsert"]="true");const u=await Sn(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:o}),f=new URL(r.url+u.url),d=f.searchParams.get("token");if(!d)throw new xu("No token returned by API");return{data:{signedUrl:f.toString(),path:a,token:d},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}async update(a,t,r){return this.uploadOrUpdate("PUT",a,t,r)}async move(a,t,r){var s=this;try{return{data:await Sn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:a,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}}async copy(a,t,r){var s=this;try{return{data:{path:(await Sn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:a,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}}async createSignedUrl(a,t,r){var s=this;try{let o=s._getFinalPath(a),u=await Sn(s.fetch,`${s.url}/object/sign/${o}`,oe({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:s.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${s.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}}async createSignedUrls(a,t,r){var s=this;try{const o=await Sn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:a},{headers:s.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(f=>oe(oe({},f),{},{signedUrl:f.signedURL?encodeURI(`${s.url}${f.signedURL}${u}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}}download(a,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),o=s?`?${s}`:"",u=this._getFinalPath(a),f=()=>Ji(this.fetch,`${this.url}/${r}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new JR(f,this.shouldThrowOnError)}async info(a){var t=this;const r=t._getFinalPath(a);try{return{data:Wh(await Ji(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}async exists(a){var t=this;const r=t._getFinalPath(a);try{return await KR(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Pe(s)&&s instanceof Qh){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(a,t){const r=this._getFinalPath(a),s=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&s.push(o);const u=typeof t?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(t?.transform||{});f!==""&&s.push(f);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${d}`)}}}async remove(a){var t=this;try{return{data:await $d(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:a},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async list(a,t,r){var s=this;try{const o=oe(oe(oe({},XR),t),{},{prefix:a||""});return{data:await Sn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},r),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}}async listV2(a,t){var r=this;try{const s=oe({},a);return{data:await Sn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},t),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const t=[];return a.width&&t.push(`width=${a.width}`),a.height&&t.push(`height=${a.height}`),a.resize&&t.push(`resize=${a.resize}`),a.format&&t.push(`format=${a.format}`),a.quality&&t.push(`quality=${a.quality}`),t.join("&")}};const vb="2.89.0",bb={"X-Client-Info":`storage-js/${vb}`};var WR=class{constructor(a,t={},r,s){this.shouldThrowOnError=!1;const o=new URL(a);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=oe(oe({},bb),t),this.fetch=Md(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(a){var t=this;try{const r=t.listBucketOptionsToQueryString(a);return{data:await Ji(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async getBucket(a){var t=this;try{return{data:await Ji(t.fetch,`${t.url}/bucket/${a}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async createBucket(a,t={public:!1}){var r=this;try{return{data:await Sn(r.fetch,`${r.url}/bucket`,{id:a,name:a,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}async updateBucket(a,t){var r=this;try{return{data:await Fh(r.fetch,`${r.url}/bucket/${a}`,{id:a,name:a,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}async emptyBucket(a){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/bucket/${a}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async deleteBucket(a){var t=this;try{return{data:await $d(t.fetch,`${t.url}/bucket/${a}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(a){const t={};return a&&("limit"in a&&(t.limit=String(a.limit)),"offset"in a&&(t.offset=String(a.offset)),a.search&&(t.search=a.search),a.sortColumn&&(t.sortColumn=a.sortColumn),a.sortOrder&&(t.sortOrder=a.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},FR=class{constructor(a,t={},r){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=oe(oe({},bb),t),this.fetch=Md(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/bucket`,{name:a},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async listBuckets(a){var t=this;try{const r=new URLSearchParams;a?.limit!==void 0&&r.set("limit",a.limit.toString()),a?.offset!==void 0&&r.set("offset",a.offset.toString()),a?.sortColumn&&r.set("sortColumn",a.sortColumn),a?.sortOrder&&r.set("sortOrder",a.sortOrder),a?.search&&r.set("search",a.search);const s=r.toString(),o=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return{data:await Ji(t.fetch,o,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async deleteBucket(a){var t=this;try{return{data:await $d(t.fetch,`${t.url}/bucket/${a}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}from(a){var t=this;if(!qR(a))throw new xu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new $R({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(o,u){const f=o[u];return typeof f!="function"?f:async(...d)=>{try{return{data:await f.apply(o,d),error:null}}catch(m){if(s)throw m;return{data:null,error:m}}}}})}};const Bd={"X-Client-Info":`storage-js/${vb}`,"Content-Type":"application/json"};var wb=class extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Zt(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}var Rh=class extends wb{constructor(a,t,r){super(a),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ZR=class extends wb{constructor(a,t){super(a),this.name="StorageVectorsUnknownError",this.originalError=t}};const zd=a=>a?(...t)=>a(...t):(...t)=>fetch(...t),e1=a=>{if(typeof a!="object"||a===null)return!1;const t=Object.getPrototypeOf(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},G_=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),t1=async(a,t,r)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!r?.noResolveJson){const s=a.status||500,o=a;if(typeof o.json=="function")o.json().then(u=>{const f=u?.statusCode||u?.code||s+"";t(new Rh(G_(u),s,f))}).catch(()=>{const u=s+"";t(new Rh(o.statusText||`HTTP ${s} error`,s,u))});else{const u=s+"";t(new Rh(o.statusText||`HTTP ${s} error`,s,u))}}else t(new ZR(G_(a),a))},n1=(a,t,r,s)=>{const o={method:a,headers:t?.headers||{}};return s?(e1(s)?(o.headers=oe({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(s)):o.body=s,oe(oe({},o),r)):o};async function a1(a,t,r,s,o,u){return new Promise((f,d)=>{a(r,n1(t,s,o,u)).then(m=>{if(!m.ok)throw m;if(s?.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>f(m)).catch(m=>t1(m,d,s))})}async function en(a,t,r,s,o){return a1(a,"POST",t,s,o,r)}var r1=class{constructor(a,t={},r){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=oe(oe({},Bd),t),this.fetch=zd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(a){var t=this;try{return{data:await en(t.fetch,`${t.url}/CreateIndex`,a,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async getIndex(a,t){var r=this;try{return{data:await en(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:a,indexName:t},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}async listIndexes(a){var t=this;try{return{data:await en(t.fetch,`${t.url}/ListIndexes`,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async deleteIndex(a,t){var r=this;try{return{data:await en(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:a,indexName:t},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}},s1=class{constructor(a,t={},r){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=oe(oe({},Bd),t),this.fetch=zd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(a){var t=this;try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await en(t.fetch,`${t.url}/PutVectors`,a,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async getVectors(a){var t=this;try{return{data:await en(t.fetch,`${t.url}/GetVectors`,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async listVectors(a){var t=this;try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:await en(t.fetch,`${t.url}/ListVectors`,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async queryVectors(a){var t=this;try{return{data:await en(t.fetch,`${t.url}/QueryVectors`,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async deleteVectors(a){var t=this;try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await en(t.fetch,`${t.url}/DeleteVectors`,a,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}},i1=class{constructor(a,t={},r){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=oe(oe({},Bd),t),this.fetch=zd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var t=this;try{return{data:await en(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async getBucket(a){var t=this;try{return{data:await en(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:a},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async listBuckets(a={}){var t=this;try{return{data:await en(t.fetch,`${t.url}/ListVectorBuckets`,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async deleteBucket(a){var t=this;try{return{data:await en(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}},l1=class extends i1{constructor(a,t={}){super(a,t.headers||{},t.fetch)}from(a){return new o1(this.url,this.headers,a,this.fetch)}async createBucket(a){var t=()=>super.createBucket,r=this;return t().call(r,a)}async getBucket(a){var t=()=>super.getBucket,r=this;return t().call(r,a)}async listBuckets(a={}){var t=()=>super.listBuckets,r=this;return t().call(r,a)}async deleteBucket(a){var t=()=>super.deleteBucket,r=this;return t().call(r,a)}},o1=class extends r1{constructor(a,t,r,s){super(a,t,s),this.vectorBucketName=r}async createIndex(a){var t=()=>super.createIndex,r=this;return t().call(r,oe(oe({},a),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(a={}){var t=()=>super.listIndexes,r=this;return t().call(r,oe(oe({},a),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(a){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,a)}async deleteIndex(a){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,a)}index(a){return new u1(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},u1=class extends s1{constructor(a,t,r,s,o){super(a,t,o),this.vectorBucketName=r,this.indexName=s}async putVectors(a){var t=()=>super.putVectors,r=this;return t().call(r,oe(oe({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(a){var t=()=>super.getVectors,r=this;return t().call(r,oe(oe({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(a={}){var t=()=>super.listVectors,r=this;return t().call(r,oe(oe({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(a){var t=()=>super.queryVectors,r=this;return t().call(r,oe(oe({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(a){var t=()=>super.deleteVectors,r=this;return t().call(r,oe(oe({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},c1=class extends WR{constructor(a,t={},r,s){super(a,t,r,s)}from(a){return new QR(this.url,this.headers,a,this.fetch)}get vectors(){return new l1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new FR(this.url+"/iceberg",this.headers,this.fetch)}};const Sb="2.89.0",ms=30*1e3,Zh=3,Oh=Zh*ms,f1="http://localhost:9999",h1="supabase.auth.token",d1={"X-Client-Info":`gotrue-js/${Sb}`},ed="X-Supabase-Api-Version",Eb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},m1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,p1=600*1e3;class Xi extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function ne(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class g1 extends Xi{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function y1(a){return ne(a)&&a.name==="AuthApiError"}class hr extends Xi{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ca extends Xi{constructor(t,r,s,o){super(t,s,o),this.name=r,this.status=s}}class Xt extends ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _1(a){return ne(a)&&a.name==="AuthSessionMissingError"}class ss extends ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Uo extends ca{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Do extends ca{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function v1(a){return ne(a)&&a.name==="AuthImplicitGrantRedirectError"}class V_ extends ca{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class b1 extends ca{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class td extends ca{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ch(a){return ne(a)&&a.name==="AuthRetryableFetchError"}class K_ extends ca{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class nd extends ca{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Y_=` 	
\r=`.split(""),w1=(()=>{const a=new Array(128);for(let t=0;t<a.length;t+=1)a[t]=-1;for(let t=0;t<Y_.length;t+=1)a[Y_[t].charCodeAt(0)]=-2;for(let t=0;t<iu.length;t+=1)a[iu[t].charCodeAt(0)]=t;return a})();function J_(a,t,r){if(a!==null)for(t.queue=t.queue<<8|a,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(iu[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(iu[s]),t.queuedBits-=6}}function Tb(a,t,r){const s=w1[a];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function X_(a){const t=[],r=f=>{t.push(String.fromCodePoint(f))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=f=>{T1(f,s,r)};for(let f=0;f<a.length;f+=1)Tb(a.charCodeAt(f),o,u);return t.join("")}function S1(a,t){if(a<=127){t(a);return}else if(a<=2047){t(192|a>>6),t(128|a&63);return}else if(a<=65535){t(224|a>>12),t(128|a>>6&63),t(128|a&63);return}else if(a<=1114111){t(240|a>>18),t(128|a>>12&63),t(128|a>>6&63),t(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function E1(a,t){for(let r=0;r<a.length;r+=1){let s=a.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(a.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}S1(s,t)}}function T1(a,t,r){if(t.utf8seq===0){if(a<=127){r(a);return}for(let s=1;s<6;s+=1)if((a>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=a&31;else if(t.utf8seq===3)t.codepoint=a&15;else if(t.utf8seq===4)t.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|a&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Es(a){const t=[],r={queue:0,queuedBits:0},s=o=>{t.push(o)};for(let o=0;o<a.length;o+=1)Tb(a.charCodeAt(o),r,s);return new Uint8Array(t)}function A1(a){const t=[];return E1(a,r=>t.push(r)),new Uint8Array(t)}function mr(a){const t=[],r={queue:0,queuedBits:0},s=o=>{t.push(o)};return a.forEach(o=>J_(o,r,s)),J_(null,r,s),t.join("")}function R1(a){return Math.round(Date.now()/1e3)+a}function O1(){return Symbol("auth-callback")}const yt=()=>typeof window<"u"&&typeof document<"u",lr={tested:!1,writable:!1},Ab=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lr.tested)return lr.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),lr.tested=!0,lr.writable=!0}catch{lr.tested=!0,lr.writable=!1}return lr.writable};function C1(a){const t={},r=new URL(a);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return r.searchParams.forEach((s,o)=>{t[o]=s}),t}const Rb=a=>a?(...t)=>a(...t):(...t)=>fetch(...t),x1=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",ps=async(a,t,r)=>{await a.setItem(t,JSON.stringify(r))},or=async(a,t)=>{const r=await a.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},gt=async(a,t)=>{await a.removeItem(t)};class ku{constructor(){this.promise=new ku.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ku.promiseConstructor=Promise;function xh(a){const t=a.split(".");if(t.length!==3)throw new nd("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!m1.test(t[s]))throw new nd("JWT not in base64url format");return{header:JSON.parse(X_(t[0])),payload:JSON.parse(X_(t[1])),signature:Es(t[2]),raw:{header:t[0],payload:t[1]}}}async function k1(a){return await new Promise(t=>{setTimeout(()=>t(null),a)})}function N1(a,t){return new Promise((s,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await a(u);if(!t(u,null,f)){s(f);return}}catch(f){if(!t(u,f)){o(f);return}}})()})}function j1(a){return("0"+a.toString(16)).substr(-2)}function U1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let u=0;u<56;u++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(t),Array.from(t,j1).join("")}async function D1(a){const r=new TextEncoder().encode(a),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function M1(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const r=await D1(a);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function is(a,t,r=!1){const s=U1();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await ps(a,`${t}-code-verifier`,o);const u=await M1(s);return[u,s===u?"plain":"s256"]}const $1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function B1(a){const t=a.headers.get(ed);if(!t||!t.match($1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function z1(a){if(!a)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(a<=t)throw new Error("JWT has expired")}function L1(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ls(a){if(!q1.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kh(){const a={};return new Proxy(a,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function H1(a,t){return new Proxy(a,{get:(r,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const u=s.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,o)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,s,o)}})}function Q_(a){return JSON.parse(JSON.stringify(a))}const ur=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),I1=[502,503,504];async function W_(a){var t;if(!x1(a))throw new td(ur(a),0);if(I1.includes(a.status))throw new td(ur(a),a.status);let r;try{r=await a.json()}catch(u){throw new hr(ur(u),u)}let s;const o=B1(a);if(o&&o.getTime()>=Eb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new K_(ur(r),a.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Xt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new K_(ur(r),a.status,r.weak_password.reasons);throw new g1(ur(r),a.status||500,s)}const P1=(a,t,r,s)=>{const o={method:a,headers:t?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function le(a,t,r,s){var o;const u=Object.assign({},s?.headers);u[ed]||(u[ed]=Eb["2024-01-01"].name),s?.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const f=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(f.redirect_to=s.redirectTo);const d=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await G1(a,t,r+d,{headers:u,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(m):{data:Object.assign({},m),error:null}}async function G1(a,t,r,s,o,u){const f=P1(t,s,o,u);let d;try{d=await a(r,Object.assign({},f))}catch(m){throw console.error(m),new td(ur(m),0)}if(d.ok||await W_(d),s?.noResolveJson)return d;try{return await d.json()}catch(m){await W_(m)}}function wn(a){var t;let r=null;Y1(a)&&(r=Object.assign({},a),a.expires_at||(r.expires_at=R1(a.expires_in)));const s=(t=a.user)!==null&&t!==void 0?t:a;return{data:{session:r,user:s},error:null}}function F_(a){const t=wn(a);return!t.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=a.weak_password),t}function La(a){var t;return{data:{user:(t=a.user)!==null&&t!==void 0?t:a},error:null}}function V1(a){return{data:a,error:null}}function K1(a){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:o,verification_type:u}=a,f=Cu(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:s,redirect_to:o,verification_type:u},m=Object.assign({},f);return{data:{properties:d,user:m},error:null}}function Z_(a){return a}function Y1(a){return a.access_token&&a.refresh_token&&a.expires_in}const Nh=["global","local","others"];class J1{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=Rb(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Nh[0]){if(Nh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nh.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:La})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=Cu(t,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:K1,redirectTo:r?.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:La})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,o,u,f,d,m;try{const p={nextPage:null,lastPage:0,total:0},_=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Z_});if(_.error)throw _.error;const y=await _.json(),b=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(m=(d=_.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(E=>{const R=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);p[`${N}Page`]=R}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(ne(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){ls(t);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:La})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ls(t);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:La})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){ls(t);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:La})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){ls(t.userId);try{const{data:r,error:s}=await le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ls(t.userId),ls(t.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,s,o,u,f,d,m;try{const p={nextPage:null,lastPage:0,total:0},_=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Z_});if(_.error)throw _.error;const y=await _.json(),b=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(m=(d=_.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(E=>{const R=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);p[`${N}Page`]=R}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(ne(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}}function ev(a={}){return{getItem:t=>a[t]||null,setItem:(t,r)=>{a[t]=r},removeItem:t=>{delete a[t]}}}const os={debug:!!(globalThis&&Ab()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ob extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class X1 extends Ob{}async function Q1(a,t,r){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await r()}finally{os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(t===0)throw os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new X1(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(os.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function W1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Cb(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function F1(a){return parseInt(a,16)}function Z1(a){const t=new TextEncoder().encode(a);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function eO(a){var t;const{chainId:r,domain:s,expirationTime:o,issuedAt:u=new Date,nonce:f,notBefore:d,requestId:m,resources:p,scheme:_,uri:y,version:b}=a;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=a.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const w=Cb(a.address),E=_?`${_}://${s}`:s,R=a.statement?`${a.statement}
`:"",N=`${E} wants you to sign in with your Ethereum account:
${w}

${R}`;let T=`URI: ${y}
Version: ${b}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),d&&(T+=`
Not Before: ${d.toISOString()}`),m&&(T+=`
Request ID: ${m}`),p){let C=`
Resources:`;for(const x of p){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);C+=`
- ${x}`}T+=C}return`${N}
${T}`}class tt extends Error{constructor({message:t,code:r,cause:s,name:o}){var u;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(u=o??(s instanceof Error?s.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=r}}class lu extends tt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function tO({error:a,options:t}){var r,s,o;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(t.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((r=u.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(t.mediation==="conditional"&&((s=u.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new tt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(xb(f)){if(u.rp.id!==f)return new tt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function nO({error:a,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(t.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new tt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const s=window.location.hostname;if(xb(s)){if(r.rpId!==s)return new tt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class aO{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const rO=new aO;function sO(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:t,user:r,excludeCredentials:s}=a,o=Cu(a,["challenge","user","excludeCredentials"]),u=Es(t).buffer,f=Object.assign(Object.assign({},r),{id:Es(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:u,user:f});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let m=0;m<s.length;m++){const p=s[m];d.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Es(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function iO(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:t,allowCredentials:r}=a,s=Cu(a,["challenge","allowCredentials"]),o=Es(t).buffer,u=Object.assign(Object.assign({},s),{challenge:o});if(r&&r.length>0){u.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const d=r[f];u.allowCredentials[f]=Object.assign(Object.assign({},d),{id:Es(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function lO(a){var t;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const r=a;return{id:a.id,rawId:a.id,response:{attestationObject:mr(new Uint8Array(a.response.attestationObject)),clientDataJSON:mr(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function oO(a){var t;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const r=a,s=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:mr(new Uint8Array(o.authenticatorData)),clientDataJSON:mr(new Uint8Array(o.clientDataJSON)),signature:mr(new Uint8Array(o.signature)),userHandle:o.userHandle?mr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xb(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function tv(){var a,t;return!!(yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function uO(a){try{const t=await navigator.credentials.create(a);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new lu("Browser returned unexpected credential type",t)}:{data:null,error:new lu("Empty credential response",t)}}catch(t){return{data:null,error:tO({error:t,options:a})}}}async function cO(a){try{const t=await navigator.credentials.get(a);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new lu("Browser returned unexpected credential type",t)}:{data:null,error:new lu("Empty credential response",t)}}catch(t){return{data:null,error:nO({error:t,options:a})}}}const fO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hO={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ou(...a){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of a)if(o)for(const u in o){const f=o[u];if(f!==void 0)if(Array.isArray(f))s[u]=f;else if(r(f))s[u]=f;else if(t(f)){const d=s[u];t(d)?s[u]=ou(d,f):s[u]=ou(f)}else s[u]=f}return s}function dO(a,t){return ou(fO,a,t||{})}function mO(a,t){return ou(hO,a,t||{})}class pO{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:s,signal:o},u){try{const{data:f,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!f)return{data:null,error:d};const m=o??rO.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:p}=f.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(f.webauthn.type){case"create":{const p=dO(f.webauthn.credential_options.publicKey,u?.create),{data:_,error:y}=await uO({publicKey:p,signal:m});return _?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:y}}case"request":{const p=mO(f.webauthn.credential_options.publicKey,u?.request),{data:_,error:y}=await cO(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p,signal:m}));return _?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:y}}}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new hr("Unexpected error in challenge",f)}}}async _verify({challengeId:t,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new Xi("rpId is required for WebAuthn authentication")};try{if(!tv())return{data:null,error:new hr("Browser does not support WebAuthn",null)};const{data:f,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:s},signal:o},{request:u});if(!f)return{data:null,error:d};const{webauthn:m}=f;return this._verify({factorId:t,challengeId:f.challengeId,webauthn:{type:m.type,rpId:r,rpOrigins:s,credential_response:m.credential_response}})}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new hr("Unexpected error in authenticate",f)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new Xi("rpId is required for WebAuthn registration")};try{if(!tv())return{data:null,error:new hr("Browser does not support WebAuthn",null)};const{data:f,error:d}=await this._enroll({friendlyName:t});if(!f)return await this.client.mfa.listFactors().then(_=>{var y;return(y=_.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:d};const{data:m,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:o},{create:u});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:r,rpOrigins:s,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new hr("Unexpected error in register",f)}}}}W1();const gO={url:f1,storageKey:h1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:d1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function nv(a,t,r){return await r()}const us={};class Qi{get jwks(){var t,r;return(r=(t=us[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){us[this.storageKey]=Object.assign(Object.assign({},us[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=us[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){us[this.storageKey]=Object.assign(Object.assign({},us[this.storageKey]),{cachedAt:t})}constructor(t){var r,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},gO),t);if(this.storageKey=u.storageKey,this.instanceID=(r=Qi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Qi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&yt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new J1({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Rb(u.fetch),this.lock=u.lock||nv,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&yt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Q1:this.lock=nv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Ab()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ev(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=ev(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Sb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},s="none";if(yt()&&(r=C1(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),yt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:u}=await this._getSessionFromURL(r,s);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),v1(u)){const m=(t=u.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:f,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",d),await this._saveSession(f),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?this._returnResult({error:r}):this._returnResult({error:new hr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,o;try{const u=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:wn}),{data:f,error:d}=u;if(d||!f)return this._returnResult({data:{user:null,session:null},error:d});const m=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var r,s,o;try{let u;if("email"in t){const{email:_,password:y,options:b}=t;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await is(this.storage,this.storageKey)),u=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:_,password:y,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:w,code_challenge_method:E},xform:wn})}else if("phone"in t){const{phone:_,password:y,options:b}=t;u=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:y,data:(s=b?.data)!==null&&s!==void 0?s:{},channel:(o=b?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:wn})}else throw new Uo("You must provide either an email or phone number and a password");const{data:f,error:d}=u;if(d||!f)return await gt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const m=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let r;if("email"in t){const{email:u,password:f,options:d}=t;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:F_})}else if("phone"in t){const{phone:u,password:f,options:d}=t;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:F_})}else throw new Uo("You must provide either an email or phone number and a password");const{data:s,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const u=new ss;return this._returnResult({data:{user:null,session:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,s,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,s,o,u,f,d,m,p,_,y,b;let w,E;if("message"in t)w=t.message,E=t.signature;else{const{chain:R,wallet:N,statement:T,options:C}=t;let x;if(yt())if(typeof N=="object")x=N;else{const ue=window;if("ethereum"in ue&&typeof ue.ethereum=="object"&&"request"in ue.ethereum&&typeof ue.ethereum.request=="function")x=ue.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=N}const q=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href),K=await x.request({method:"eth_requestAccounts"}).then(ue=>ue).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=Cb(K[0]);let G=(s=C?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!G){const ue=await x.request({method:"eth_chainId"});G=F1(ue)}const W={domain:q.host,address:J,statement:T,uri:q.href,version:"1",chainId:G,nonce:(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(d=C?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(m=C?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=C?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(_=C?.signInWithEthereum)===null||_===void 0?void 0:_.resources};w=eO(W),E=await x.request({method:"personal_sign",params:[Z1(w),J]})}try{const{data:R,error:N}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:wn});if(N)throw N;if(!R||!R.session||!R.user){const T=new ss;return this._returnResult({data:{user:null,session:null},error:T})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:N})}catch(R){if(ne(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(t){var r,s,o,u,f,d,m,p,_,y,b,w;let E,R;if("message"in t)E=t.message,R=t.signature;else{const{chain:N,wallet:T,statement:C,options:x}=t;let q;if(yt())if(typeof T=="object")q=T;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))q=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=T}const K=new URL((r=x?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in q&&q.signIn){const J=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x?.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),C?{statement:C}:null));let G;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")G=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)G=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)E=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),R=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${K.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(o=(s=x?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=x?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((f=x?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((d=x?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((m=x?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((p=x?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((y=(_=x?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||y===void 0)&&y.length?["Resources",...x.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const J=await q.signMessage(new TextEncoder().encode(E),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=J}}try{const{data:N,error:T}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:mr(R)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:wn});if(T)throw T;if(!N||!N.session||!N.user){const C=new ss;return this._returnResult({data:{user:null,session:null},error:C})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:T})}catch(N){if(ne(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(t){const r=await or(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new b1;const{data:u,error:f}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:wn});if(await gt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const d=new ss;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:f})}catch(u){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:r,provider:s,token:o,access_token:u,nonce:f}=t,d=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:wn}),{data:m,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const _=new ss;return this._returnResult({data:{user:null,session:null},error:_})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,s,o,u,f;try{if("email"in t){const{email:d,options:m}=t;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await is(this.storage,this.storageKey));const{error:y}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=m?.data)!==null&&r!==void 0?r:{},create_user:(s=m?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:_},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in t){const{phone:d,options:m}=t,{data:p,error:_}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:_})}throw new Uo("You must provide either an email or phone number.")}catch(d){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var r,s;try{let o,u;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,u=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:f,error:d}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:wn});if(d)throw d;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,p=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(o){if(ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var r,s,o,u,f;try{let d=null,m=null;this.flowType==="pkce"&&([d,m]=await is(this.storage,this.storageKey));const p=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:m}),headers:this.headers,xform:V1});return!((u=p.data)===null||u===void 0)&&u.url&&yt()&&!(!((f=t.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new Xt;const{error:o}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:o,options:u}=t,{error:f}=await le(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in t){const{phone:s,type:o,options:u}=t,{data:f,error:d}=await le(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:d})}throw new Uo("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Oh:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const f=await or(this.userStorage,this.storageKey+"-user");f?.user?t.user=f.user:t.user=kh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};t.user=H1(t.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:La}):await this._useSession(async r=>{var s,o,u;const{data:f,error:d}=r;if(d)throw d;return!(!((s=f.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:La})})}catch(r){if(ne(r))return _1(r)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:o,error:u}=s;if(u)throw u;if(!o.session)throw new Xt;const f=o.session;let d=null,m=null;this.flowType==="pkce"&&t.email!=null&&([d,m]=await is(this.storage,this.storageKey));const{data:p,error:_}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:m}),jwt:f.access_token,xform:La});if(_)throw _;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(s){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ne(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xt;const r=Date.now()/1e3;let s=r,o=!0,u=null;const{payload:f}=xh(t.access_token);if(f.exp&&(s=f.exp,o=s<=r),o){const{data:d,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!d)return{data:{user:null,session:null},error:null};u=d}else{const{data:d,error:m}=await this._getUser(t.access_token);if(m)throw m;u={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:f,error:d}=r;if(d)throw d;t=(s=f.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new Xt;const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!yt())throw new Do("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Do(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new V_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Do("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new V_("No code detected.");const{data:C,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:u,refresh_token:f,expires_in:d,expires_at:m,token_type:p}=t;if(!u||!d||!f||!p)throw new Do("No session defined in URL");const _=Math.round(Date.now()/1e3),y=parseInt(d);let b=_+y;m&&(b=parseInt(m));const w=b-_;w*1e3<=ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const E=b-y;_-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,b,_):_-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,b,_);const{data:R,error:N}=await this._getUser(u);if(N)throw N;const T={provider_token:s,provider_refresh_token:o,access_token:u,expires_in:y,expires_at:b,refresh_token:f,token_type:p,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(s){if(ne(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await or(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:u}=r;if(u)return this._returnResult({error:u});const f=(s=o.session)===null||s===void 0?void 0:s.access_token;if(f){const{error:d}=await this.admin.signOut(f,t);if(d&&!(y1(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=O1(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,o;try{const{data:{session:u},error:f}=r;if(f)throw f;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await is(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:s,error:o}=await this._useSession(async u=>{var f,d,m,p,_;const{data:y,error:b}=u;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(f=t.options)===null||f===void 0?void 0:f.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",w,{headers:this.headers,jwt:(_=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&_!==void 0?_:void 0})});if(o)throw o;return yt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:t.provider,url:s?.url},error:null})}catch(s){if(ne(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var s;try{const{error:o,data:{session:u}}=r;if(o)throw o;const{options:f,provider:d,token:m,access_token:p,nonce:_}=t,y=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=u?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:m,access_token:p,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:wn}),{data:b,error:w}=y;return w?this._returnResult({data:{user:null,session:null},error:w}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new ss}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:w}))}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,o;const{data:u,error:f}=r;if(f)throw f;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await N1(async o=>(o>0&&await k1(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wn})),(o,u)=>{const f=200*Math.pow(2,o);return u&&Ch(u)&&Date.now()+f-s<ms})}catch(s){if(this._debug(r,"error",s),ne(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),yt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await or(this.storage,this.storageKey);if(o&&this.userStorage){let f=await or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await ps(this.userStorage,this.storageKey+"-user",f)),o.user=(t=f?.user)!==null&&t!==void 0?t:kh()}else if(o&&!o.user&&!o.user){const f=await or(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await gt(this.storage,this.storageKey+"-user"),await ps(this.storage,this.storageKey,o)):o.user=kh()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const u=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Oh;if(this._debug(s,`session has${u?"":" not"} expired with margin of ${Oh}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),Ch(f)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:d}=await this._getUser(o.access_token);!d&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(s,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new Xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ku;const{data:u,error:f}=await this._refreshAccessToken(t);if(f)throw f;if(!u.session)throw new Xt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const d={data:u.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(u){if(this._debug(o,"error",u),ne(u)){const f={data:null,error:u};return Ch(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,s=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(m){u.push(m)}});if(await Promise.all(f),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await ps(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const u=Q_(o);await ps(this.storage,this.storageKey,u)}else{const o=Q_(r);await ps(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ms);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-t)/ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ms}ms, refresh threshold is ${Zh} ticks`),o<=Zh&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ob)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[u,f]=await is(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(d.toString())}if(s?.queryParams){const u=new URLSearchParams(s.queryParams);o.push(u.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:o,error:u}=r;return u?this._returnResult({data:null,error:u}):await le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,o;const{data:u,error:f}=r;if(f)return this._returnResult({data:null,error:f});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:p}=await le(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?lO(t.webauthn.credential_response):oO(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:m}=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:f,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:m}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const f=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(f.error)return f;const{data:d}=f;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:sO(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:iO(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=r?.factors)!==null&&t!==void 0?t:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=xh(s.access_token);let f=null;u.aal&&(f=u.aal);let d=f;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=u.amr||[];return{data:{currentLevel:f,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Xt});const f=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return f.data&&f.data.redirect_url&&yt()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Xt});const f=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return f.data&&f.data.redirect_url&&yt()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xt})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(d=>d.kid===t);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===t),s&&this.jwks_cached_at+p1>o)return s;const{data:u,error:f}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,s=u.keys.find(d=>d.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:w,error:E}=await this.getSession();if(E||!w.session)return this._returnResult({data:null,error:E});s=w.session.access_token}const{header:o,payload:u,signature:f,raw:{header:d,payload:m}}=xh(s);r?.allowExpired||z1(u.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:u,header:o,signature:f},error:null}}const _=L1(o.alg),y=await crypto.subtle.importKey("jwk",p,_,!0,["verify"]);if(!await crypto.subtle.verify(_,y,f,A1(`${d}.${m}`)))throw new nd("Invalid JWT signature");return{data:{claims:u,header:o,signature:f},error:null}}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}}Qi.nextInstanceID={};const yO=Qi,_O="2.89.0";let Ci="";typeof Deno<"u"?Ci="deno":typeof document<"u"?Ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ci="react-native":Ci="node";const vO={"X-Client-Info":`supabase-js-${Ci}/${_O}`},bO={headers:vO},wO={schema:"public"},SO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},EO={};function Wi(a){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(a)}function TO(a,t){if(Wi(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,t);if(Wi(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function AO(a){var t=TO(a,"string");return Wi(t)=="symbol"?t:t+""}function RO(a,t,r){return(t=AO(t))in a?Object.defineProperty(a,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[t]=r,a}function av(a,t){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),r.push.apply(r,s)}return r}function Ke(a){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?av(Object(r),!0).forEach(function(s){RO(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):av(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}const OO=a=>a?(...t)=>a(...t):(...t)=>fetch(...t),CO=()=>Headers,xO=(a,t,r)=>{const s=OO(r),o=CO();return async(u,f)=>{var d;const m=(d=await t())!==null&&d!==void 0?d:a;let p=new o(f?.headers);return p.has("apikey")||p.set("apikey",a),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),s(u,Ke(Ke({},f),{},{headers:p}))}};function kO(a){return a.endsWith("/")?a:a+"/"}function NO(a,t){var r,s;const{db:o,auth:u,realtime:f,global:d}=a,{db:m,auth:p,realtime:_,global:y}=t,b={db:Ke(Ke({},m),o),auth:Ke(Ke({},p),u),realtime:Ke(Ke({},_),f),storage:{},global:Ke(Ke(Ke({},y),d),{},{headers:Ke(Ke({},(r=y?.headers)!==null&&r!==void 0?r:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return a.accessToken?b.accessToken=a.accessToken:delete b.accessToken,b}function jO(a){const t=a?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var UO=class extends yO{constructor(a){super(a)}},DO=class{constructor(a,t,r){var s,o;this.supabaseUrl=a,this.supabaseKey=t;const u=jO(a);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:wO,realtime:EO,auth:Ke(Ke({},SO),{},{storageKey:f}),global:bO},m=NO(r??{},d);if(this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(_,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=m.auth)!==null&&p!==void 0?p:{},this.headers,m.global.fetch)}this.fetch=xO(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Ke({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new dR(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new c1(this.storageUrl.href,this.headers,this.fetch,r?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new oR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,t,r)}channel(a,t={config:{}}){return this.realtime.channel(a,t)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,t,r;if(a.accessToken)return await a.accessToken();const{data:s}=await a.auth.getSession();return(t=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:u,flowType:f,lock:d,debug:m,throwOnError:p},_,y){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new UO({url:this.authUrl.href,headers:Ke(Ke({},b),_),storageKey:u,autoRefreshToken:a,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:o,flowType:f,lock:d,debug:m,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new kR(this.realtimeUrl.href,Ke(Ke({},a),{},{params:Ke(Ke({},{apikey:this.supabaseKey}),a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,t)=>{this._handleTokenChanged(a,"CLIENT",t?.access_token)})}_handleTokenChanged(a,t,r){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const MO=(a,t,r)=>new DO(a,t,r);function $O(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const t=a.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$O()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const BO="https://ygbareeowvmlyihjggmy.supabase.co",zO="sb_publishable_XfdsqGIFWwN1jYnMVJspvQ_CJ2vf0_F",Qe=MO(BO,zO);function _t(a){return`Minified Redux error #${a}; visit https://redux.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}var LO=typeof Symbol=="function"&&Symbol.observable||"@@observable",rv=LO,jh=()=>Math.random().toString(36).substring(7).split("").join("."),qO={INIT:`@@redux/INIT${jh()}`,REPLACE:`@@redux/REPLACE${jh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${jh()}`},uu=qO;function Ld(a){if(typeof a!="object"||a===null)return!1;let t=a;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(a)===t||Object.getPrototypeOf(a)===null}function kb(a,t,r){if(typeof a!="function")throw new Error(_t(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(_t(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(_t(1));return r(kb)(a,t)}let s=a,o=t,u=new Map,f=u,d=0,m=!1;function p(){f===u&&(f=new Map,u.forEach((N,T)=>{f.set(T,N)}))}function _(){if(m)throw new Error(_t(3));return o}function y(N){if(typeof N!="function")throw new Error(_t(4));if(m)throw new Error(_t(5));let T=!0;p();const C=d++;return f.set(C,N),function(){if(T){if(m)throw new Error(_t(6));T=!1,p(),f.delete(C),u=null}}}function b(N){if(!Ld(N))throw new Error(_t(7));if(typeof N.type>"u")throw new Error(_t(8));if(typeof N.type!="string")throw new Error(_t(17));if(m)throw new Error(_t(9));try{m=!0,o=s(o,N)}finally{m=!1}return(u=f).forEach(C=>{C()}),N}function w(N){if(typeof N!="function")throw new Error(_t(10));s=N,b({type:uu.REPLACE})}function E(){const N=y;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(_t(11));function C(){const q=T;q.next&&q.next(_())}return C(),{unsubscribe:N(C)}},[rv](){return this}}}return b({type:uu.INIT}),{dispatch:b,subscribe:y,getState:_,replaceReducer:w,[rv]:E}}function HO(a){Object.keys(a).forEach(t=>{const r=a[t];if(typeof r(void 0,{type:uu.INIT})>"u")throw new Error(_t(12));if(typeof r(void 0,{type:uu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_t(13))})}function IO(a){const t=Object.keys(a),r={};for(let u=0;u<t.length;u++){const f=t[u];typeof a[f]=="function"&&(r[f]=a[f])}const s=Object.keys(r);let o;try{HO(r)}catch(u){o=u}return function(f={},d){if(o)throw o;let m=!1;const p={};for(let _=0;_<s.length;_++){const y=s[_],b=r[y],w=f[y],E=b(w,d);if(typeof E>"u")throw d&&d.type,new Error(_t(14));p[y]=E,m=m||E!==w}return m=m||s.length!==Object.keys(f).length,m?p:f}}function cu(...a){return a.length===0?t=>t:a.length===1?a[0]:a.reduce((t,r)=>(...s)=>t(r(...s)))}function PO(...a){return t=>(r,s)=>{const o=t(r,s);let u=()=>{throw new Error(_t(15))};const f={getState:o.getState,dispatch:(m,...p)=>u(m,...p)},d=a.map(m=>m(f));return u=cu(...d)(o.dispatch),{...o,dispatch:u}}}function GO(a){return Ld(a)&&"type"in a&&typeof a.type=="string"}var Nb=Symbol.for("immer-nothing"),sv=Symbol.for("immer-draftable"),Ot=Symbol.for("immer-state");function An(a,...t){throw new Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var tn=Object,Ts=tn.getPrototypeOf,fu="constructor",Nu="prototype",ad="configurable",hu="enumerable",Jo="writable",Fi="value",ua=a=>!!a&&!!a[Ot];function Rn(a){return a?jb(a)||ju(a)||!!a[sv]||!!a[fu]?.[sv]||Uu(a)||Du(a):!1}var VO=tn[Nu][fu].toString(),iv=new WeakMap;function jb(a){if(!a||!qd(a))return!1;const t=Ts(a);if(t===null||t===tn[Nu])return!0;const r=tn.hasOwnProperty.call(t,fu)&&t[fu];if(r===Object)return!0;if(!gs(r))return!1;let s=iv.get(r);return s===void 0&&(s=Function.toString.call(r),iv.set(r,s)),s===VO}function sl(a,t,r=!0){il(a)===0?(r?Reflect.ownKeys(a):tn.keys(a)).forEach(o=>{t(o,a[o],a)}):a.forEach((s,o)=>t(o,s,a))}function il(a){const t=a[Ot];return t?t.type_:ju(a)?1:Uu(a)?2:Du(a)?3:0}var lv=(a,t,r=il(a))=>r===2?a.has(t):tn[Nu].hasOwnProperty.call(a,t),rd=(a,t,r=il(a))=>r===2?a.get(t):a[t],du=(a,t,r,s=il(a))=>{s===2?a.set(t,r):s===3?a.add(r):a[t]=r};function KO(a,t){return a===t?a!==0||1/a===1/t:a!==a&&t!==t}var ju=Array.isArray,Uu=a=>a instanceof Map,Du=a=>a instanceof Set,qd=a=>typeof a=="object",gs=a=>typeof a=="function",Uh=a=>typeof a=="boolean";function YO(a){const t=+a;return Number.isInteger(t)&&String(t)===a}var ra=a=>a.copy_||a.base_,Hd=a=>a.modified_?a.copy_:a.base_;function sd(a,t){if(Uu(a))return new Map(a);if(Du(a))return new Set(a);if(ju(a))return Array[Nu].slice.call(a);const r=jb(a);if(t===!0||t==="class_only"&&!r){const s=tn.getOwnPropertyDescriptors(a);delete s[Ot];let o=Reflect.ownKeys(s);for(let u=0;u<o.length;u++){const f=o[u],d=s[f];d[Jo]===!1&&(d[Jo]=!0,d[ad]=!0),(d.get||d.set)&&(s[f]={[ad]:!0,[Jo]:!0,[hu]:d[hu],[Fi]:a[f]})}return tn.create(Ts(a),s)}else{const s=Ts(a);if(s!==null&&r)return{...a};const o=tn.create(s);return tn.assign(o,a)}}function Id(a,t=!1){return Mu(a)||ua(a)||!Rn(a)||(il(a)>1&&tn.defineProperties(a,{set:Mo,add:Mo,clear:Mo,delete:Mo}),tn.freeze(a),t&&sl(a,(r,s)=>{Id(s,!0)},!1)),a}function JO(){An(2)}var Mo={[Fi]:JO};function Mu(a){return a===null||!qd(a)?!0:tn.isFrozen(a)}var mu="MapSet",id="Patches",ov="ArrayMethods",Ub={};function yr(a){const t=Ub[a];return t||An(0,a),t}var uv=a=>!!Ub[a],Zi,Db=()=>Zi,XO=(a,t)=>({drafts_:[],parent_:a,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:uv(mu)?yr(mu):void 0,arrayMethodsPlugin_:uv(ov)?yr(ov):void 0});function cv(a,t){t&&(a.patchPlugin_=yr(id),a.patches_=[],a.inversePatches_=[],a.patchListener_=t)}function ld(a){od(a),a.drafts_.forEach(QO),a.drafts_=null}function od(a){a===Zi&&(Zi=a.parent_)}var fv=a=>Zi=XO(Zi,a);function QO(a){const t=a[Ot];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function hv(a,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(a!==void 0&&a!==r){r[Ot].modified_&&(ld(t),An(4)),Rn(a)&&(a=dv(t,a));const{patchPlugin_:o}=t;o&&o.generateReplacementPatches_(r[Ot].base_,a,t)}else a=dv(t,r);return WO(t,a,!0),ld(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),a!==Nb?a:void 0}function dv(a,t){if(Mu(t))return t;const r=t[Ot];if(!r)return Pd(t,a.handledSet_,a);if(!$u(r,a))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:s}=r;if(s)for(;s.length>0;)s.pop()(a);Bb(r,a)}return r.copy_}function WO(a,t,r=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&Id(t,r)}function Mb(a){a.finalized_=!0,a.scope_.unfinalizedDrafts_--}var $u=(a,t)=>a.scope_===t,FO=[];function $b(a,t,r,s){const o=ra(a),u=a.type_;if(s!==void 0&&rd(o,s,u)===t){du(o,s,r,u);return}if(!a.draftLocations_){const d=a.draftLocations_=new Map;sl(o,(m,p)=>{if(ua(p)){const _=d.get(p)||[];_.push(m),d.set(p,_)}})}const f=a.draftLocations_.get(t)??FO;for(const d of f)du(o,d,r,u)}function ZO(a,t,r){a.callbacks_.push(function(o){const u=t;if(!u||!$u(u,o))return;o.mapSetPlugin_?.fixSetContents(u);const f=Hd(u);$b(a,u.draft_??u,f,r),Bb(u,o)})}function Bb(a,t){if(a.modified_&&!a.finalized_&&(a.type_===3||a.type_===1&&a.allIndicesReassigned_||(a.assigned_?.size??0)>0)){const{patchPlugin_:s}=t;if(s){const o=s.getPath(a);o&&s.generatePatches_(a,o,t)}Mb(a)}}function eC(a,t,r){const{scope_:s}=a;if(ua(r)){const o=r[Ot];$u(o,s)&&o.callbacks_.push(function(){Xo(a);const f=Hd(o);$b(a,r,f,t)})}else Rn(r)&&a.callbacks_.push(function(){const u=ra(a);rd(u,t,a.type_)===r&&s.drafts_.length>1&&(a.assigned_.get(t)??!1)===!0&&a.copy_&&Pd(rd(a.copy_,t,a.type_),s.handledSet_,s)})}function Pd(a,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ua(a)||t.has(a)||!Rn(a)||Mu(a)||(t.add(a),sl(a,(s,o)=>{if(ua(o)){const u=o[Ot];if($u(u,r)){const f=Hd(u);du(a,s,f,a.type_),Mb(u)}}else Rn(o)&&Pd(o,t,r)})),a}function tC(a,t){const r=ju(a),s={type_:r?1:0,scope_:t?t.scope_:Db(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=s,u=Gd;r&&(o=[s],u=el);const{revoke:f,proxy:d}=Proxy.revocable(o,u);return s.draft_=d,s.revoke_=f,[d,s]}var Gd={get(a,t){if(t===Ot)return a;let r=a.scope_.arrayMethodsPlugin_;const s=a.type_===1&&typeof t=="string";if(s&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(a,t);const o=ra(a);if(!lv(o,t,a.type_))return nC(a,o,t);const u=o[t];if(a.finalized_||!Rn(u)||s&&a.operationMethod&&r?.isMutatingArrayMethod(a.operationMethod)&&YO(t))return u;if(u===Dh(a.base_,t)){Xo(a);const f=a.type_===1?+t:t,d=cd(a.scope_,u,a,f);return a.copy_[f]=d}return u},has(a,t){return t in ra(a)},ownKeys(a){return Reflect.ownKeys(ra(a))},set(a,t,r){const s=zb(ra(a),t);if(s?.set)return s.set.call(a.draft_,r),!0;if(!a.modified_){const o=Dh(ra(a),t),u=o?.[Ot];if(u&&u.base_===r)return a.copy_[t]=r,a.assigned_.set(t,!1),!0;if(KO(r,o)&&(r!==void 0||lv(a.base_,t,a.type_)))return!0;Xo(a),ud(a)}return a.copy_[t]===r&&(r!==void 0||t in a.copy_)||Number.isNaN(r)&&Number.isNaN(a.copy_[t])||(a.copy_[t]=r,a.assigned_.set(t,!0),eC(a,t,r)),!0},deleteProperty(a,t){return Xo(a),Dh(a.base_,t)!==void 0||t in a.base_?(a.assigned_.set(t,!1),ud(a)):a.assigned_.delete(t),a.copy_&&delete a.copy_[t],!0},getOwnPropertyDescriptor(a,t){const r=ra(a),s=Reflect.getOwnPropertyDescriptor(r,t);return s&&{[Jo]:!0,[ad]:a.type_!==1||t!=="length",[hu]:s[hu],[Fi]:r[t]}},defineProperty(){An(11)},getPrototypeOf(a){return Ts(a.base_)},setPrototypeOf(){An(12)}},el={};sl(Gd,(a,t)=>{el[a]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});el.deleteProperty=function(a,t){return el.set.call(this,a,t,void 0)};el.set=function(a,t,r){return Gd.set.call(this,a[0],t,r,a[0])};function Dh(a,t){const r=a[Ot];return(r?ra(r):a)[t]}function nC(a,t,r){const s=zb(t,r);return s?Fi in s?s[Fi]:s.get?.call(a.draft_):void 0}function zb(a,t){if(!(t in a))return;let r=Ts(a);for(;r;){const s=Object.getOwnPropertyDescriptor(r,t);if(s)return s;r=Ts(r)}}function ud(a){a.modified_||(a.modified_=!0,a.parent_&&ud(a.parent_))}function Xo(a){a.copy_||(a.assigned_=new Map,a.copy_=sd(a.base_,a.scope_.immer_.useStrictShallowCopy_))}var aC=class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,s)=>{if(gs(t)&&!gs(r)){const u=r;r=t;const f=this;return function(m=u,...p){return f.produce(m,_=>r.call(this,_,...p))}}gs(r)||An(6),s!==void 0&&!gs(s)&&An(7);let o;if(Rn(t)){const u=fv(this),f=cd(u,t,void 0);let d=!0;try{o=r(f),d=!1}finally{d?ld(u):od(u)}return cv(u,s),hv(o,u)}else if(!t||!qd(t)){if(o=r(t),o===void 0&&(o=t),o===Nb&&(o=void 0),this.autoFreeze_&&Id(o,!0),s){const u=[],f=[];yr(id).generateReplacementPatches_(t,o,{patches_:u,inversePatches_:f}),s(u,f)}return o}else An(1,t)},this.produceWithPatches=(t,r)=>{if(gs(t))return(f,...d)=>this.produceWithPatches(f,m=>t(m,...d));let s,o;return[this.produce(t,r,(f,d)=>{s=f,o=d}),s,o]},Uh(a?.autoFreeze)&&this.setAutoFreeze(a.autoFreeze),Uh(a?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(a.useStrictShallowCopy),Uh(a?.useStrictIteration)&&this.setUseStrictIteration(a.useStrictIteration)}createDraft(a){Rn(a)||An(8),ua(a)&&(a=rC(a));const t=fv(this),r=cd(t,a,void 0);return r[Ot].isManual_=!0,od(t),r}finishDraft(a,t){const r=a&&a[Ot];(!r||!r.isManual_)&&An(9);const{scope_:s}=r;return cv(s,t),hv(void 0,s)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}setUseStrictIteration(a){this.useStrictIteration_=a}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(a,t){let r;for(r=t.length-1;r>=0;r--){const o=t[r];if(o.path.length===0&&o.op==="replace"){a=o.value;break}}r>-1&&(t=t.slice(r+1));const s=yr(id).applyPatches_;return ua(a)?s(a,t):this.produce(a,o=>s(o,t))}};function cd(a,t,r,s){const[o,u]=Uu(t)?yr(mu).proxyMap_(t,r):Du(t)?yr(mu).proxySet_(t,r):tC(t,r);return(r?.scope_??Db()).drafts_.push(o),u.callbacks_=r?.callbacks_??[],u.key_=s,r&&s!==void 0?ZO(r,u,s):u.callbacks_.push(function(m){m.mapSetPlugin_?.fixSetContents(u);const{patchPlugin_:p}=m;u.modified_&&p&&p.generatePatches_(u,[],m)}),o}function rC(a){return ua(a)||An(10,a),Lb(a)}function Lb(a){if(!Rn(a)||Mu(a))return a;const t=a[Ot];let r,s=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=sd(a,t.scope_.immer_.useStrictShallowCopy_),s=t.scope_.immer_.shouldUseStrictIteration()}else r=sd(a,!0);return sl(r,(o,u)=>{du(r,o,Lb(u))},s),t&&(t.finalized_=!1),r}var sC=new aC,qb=sC.produce;function Hb(a){return({dispatch:r,getState:s})=>o=>u=>typeof u=="function"?u(r,s,a):o(u)}var iC=Hb(),lC=Hb,oC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cu:cu.apply(null,arguments)},uC=a=>a&&typeof a.match=="function";function Hi(a,t){function r(...s){if(t){let o=t(...s);if(!o)throw new Error(la(0));return{type:a,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:a,payload:s[0]}}return r.toString=()=>`${a}`,r.type=a,r.match=s=>GO(s)&&s.type===a,r}var Ib=class xi extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,xi.prototype)}static get[Symbol.species](){return xi}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new xi(...t[0].concat(this)):new xi(...t.concat(this))}};function mv(a){return Rn(a)?qb(a,()=>{}):a}function $o(a,t,r){return a.has(t)?a.get(t):a.set(t,r(t)).get(t)}function cC(a){return typeof a=="boolean"}var fC=()=>function(t){const{thunk:r=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=t??{};let f=new Ib;return r&&(cC(r)?f.push(iC):f.push(lC(r.extraArgument))),f},hC="RTK_autoBatch",pv=a=>t=>{setTimeout(t,a)},dC=(a={type:"raf"})=>t=>(...r)=>{const s=t(...r);let o=!0,u=!1,f=!1;const d=new Set,m=a.type==="tick"?queueMicrotask:a.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:pv(10):a.type==="callback"?a.queueNotification:pv(a.timeout),p=()=>{f=!1,u&&(u=!1,d.forEach(_=>_()))};return Object.assign({},s,{subscribe(_){const y=()=>o&&_(),b=s.subscribe(y);return d.add(_),()=>{b(),d.delete(_)}},dispatch(_){try{return o=!_?.meta?.[hC],u=!o,u&&(f||(f=!0,m(p))),s.dispatch(_)}finally{o=!0}}})},mC=a=>function(r){const{autoBatch:s=!0}=r??{};let o=new Ib(a);return s&&o.push(dC(typeof s=="object"?s:void 0)),o};function pC(a){const t=fC(),{reducer:r=void 0,middleware:s,devTools:o=!0,preloadedState:u=void 0,enhancers:f=void 0}=a||{};let d;if(typeof r=="function")d=r;else if(Ld(r))d=IO(r);else throw new Error(la(1));let m;typeof s=="function"?m=s(t):m=t();let p=cu;o&&(p=oC({trace:!1,...typeof o=="object"&&o}));const _=PO(...m),y=mC(_);let b=typeof f=="function"?f(y):y();const w=p(...b);return kb(d,u,w)}function Pb(a){const t={},r=[];let s;const o={addCase(u,f){const d=typeof u=="string"?u:u.type;if(!d)throw new Error(la(28));if(d in t)throw new Error(la(29));return t[d]=f,o},addAsyncThunk(u,f){return f.pending&&(t[u.pending.type]=f.pending),f.rejected&&(t[u.rejected.type]=f.rejected),f.fulfilled&&(t[u.fulfilled.type]=f.fulfilled),f.settled&&r.push({matcher:u.settled,reducer:f.settled}),o},addMatcher(u,f){return r.push({matcher:u,reducer:f}),o},addDefaultCase(u){return s=u,o}};return a(o),[t,r,s]}function gC(a){return typeof a=="function"}function yC(a,t){let[r,s,o]=Pb(t),u;if(gC(a))u=()=>mv(a());else{const d=mv(a);u=()=>d}function f(d=u(),m){let p=[r[m.type],...s.filter(({matcher:_})=>_(m)).map(({reducer:_})=>_)];return p.filter(_=>!!_).length===0&&(p=[o]),p.reduce((_,y)=>{if(y)if(ua(_)){const w=y(_,m);return w===void 0?_:w}else{if(Rn(_))return qb(_,b=>y(b,m));{const b=y(_,m);if(b===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return _},d)}return f.getInitialState=u,f}var _C=(a,t)=>uC(a)?a.match(t):a(t);function vC(...a){return t=>a.some(r=>_C(r,t))}var bC="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wC=(a=21)=>{let t="",r=a;for(;r--;)t+=bC[Math.random()*64|0];return t},SC=["name","message","stack","code"],Mh=class{constructor(a,t){this.payload=a,this.meta=t}_type},gv=class{constructor(a,t){this.payload=a,this.meta=t}_type},EC=a=>{if(typeof a=="object"&&a!==null){const t={};for(const r of SC)typeof a[r]=="string"&&(t[r]=a[r]);return t}return{message:String(a)}},yv="External signal was aborted",vr=(()=>{function a(t,r,s){const o=Hi(t+"/fulfilled",(m,p,_,y)=>({payload:m,meta:{...y||{},arg:_,requestId:p,requestStatus:"fulfilled"}})),u=Hi(t+"/pending",(m,p,_)=>({payload:void 0,meta:{..._||{},arg:p,requestId:m,requestStatus:"pending"}})),f=Hi(t+"/rejected",(m,p,_,y,b)=>({payload:y,error:(s&&s.serializeError||EC)(m||"Rejected"),meta:{...b||{},arg:_,requestId:p,rejectedWithValue:!!y,requestStatus:"rejected",aborted:m?.name==="AbortError",condition:m?.name==="ConditionError"}}));function d(m,{signal:p}={}){return(_,y,b)=>{const w=s?.idGenerator?s.idGenerator(m):wC(),E=new AbortController;let R,N;function T(x){N=x,E.abort()}p&&(p.aborted?T(yv):p.addEventListener("abort",()=>T(yv),{once:!0}));const C=(async function(){let x;try{let K=s?.condition?.(m,{getState:y,extra:b});if(AC(K)&&(K=await K),K===!1||E.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const J=new Promise((G,W)=>{R=()=>{W({name:"AbortError",message:N||"Aborted"})},E.signal.addEventListener("abort",R,{once:!0})});_(u(w,m,s?.getPendingMeta?.({requestId:w,arg:m},{getState:y,extra:b}))),x=await Promise.race([J,Promise.resolve(r(m,{dispatch:_,getState:y,extra:b,requestId:w,signal:E.signal,abort:T,rejectWithValue:(G,W)=>new Mh(G,W),fulfillWithValue:(G,W)=>new gv(G,W)})).then(G=>{if(G instanceof Mh)throw G;return G instanceof gv?o(G.payload,w,m,G.meta):o(G,w,m)})])}catch(K){x=K instanceof Mh?f(null,w,m,K.payload,K.meta):f(K,w,m)}finally{R&&E.signal.removeEventListener("abort",R)}return s&&!s.dispatchConditionRejection&&f.match(x)&&x.meta.condition||_(x),x})();return Object.assign(C,{abort:T,requestId:w,arg:m,unwrap(){return C.then(TC)}})}}return Object.assign(d,{pending:u,rejected:f,fulfilled:o,settled:vC(f,o),typePrefix:t})}return a.withTypes=()=>a,a})();function TC(a){if(a.meta&&a.meta.rejectedWithValue)throw a.payload;if(a.error)throw a.error;return a.payload}function AC(a){return a!==null&&typeof a=="object"&&typeof a.then=="function"}var RC=Symbol.for("rtk-slice-createasyncthunk");function OC(a,t){return`${a}/${t}`}function CC({creators:a}={}){const t=a?.asyncThunk?.[RC];return function(s){const{name:o,reducerPath:u=o}=s;if(!o)throw new Error(la(11));const f=(typeof s.reducers=="function"?s.reducers(kC()):s.reducers)||{},d=Object.keys(f),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(x,q){const K=typeof x=="string"?x:x.type;if(!K)throw new Error(la(12));if(K in m.sliceCaseReducersByType)throw new Error(la(13));return m.sliceCaseReducersByType[K]=q,p},addMatcher(x,q){return m.sliceMatchers.push({matcher:x,reducer:q}),p},exposeAction(x,q){return m.actionCreators[x]=q,p},exposeCaseReducer(x,q){return m.sliceCaseReducersByName[x]=q,p}};d.forEach(x=>{const q=f[x],K={reducerName:x,type:OC(o,x),createNotation:typeof s.reducers=="function"};jC(q)?DC(K,q,p,t):NC(K,q,p)});function _(){const[x={},q=[],K=void 0]=typeof s.extraReducers=="function"?Pb(s.extraReducers):[s.extraReducers],J={...x,...m.sliceCaseReducersByType};return yC(s.initialState,G=>{for(let W in J)G.addCase(W,J[W]);for(let W of m.sliceMatchers)G.addMatcher(W.matcher,W.reducer);for(let W of q)G.addMatcher(W.matcher,W.reducer);K&&G.addDefaultCase(K)})}const y=x=>x,b=new Map,w=new WeakMap;let E;function R(x,q){return E||(E=_()),E(x,q)}function N(){return E||(E=_()),E.getInitialState()}function T(x,q=!1){function K(G){let W=G[x];return typeof W>"u"&&q&&(W=$o(w,K,N)),W}function J(G=y){const W=$o(b,q,()=>new WeakMap);return $o(W,G,()=>{const ue={};for(const[Ee,Ae]of Object.entries(s.selectors??{}))ue[Ee]=xC(Ae,G,()=>$o(w,G,N),q);return ue})}return{reducerPath:x,getSelectors:J,get selectors(){return J(K)},selectSlice:K}}const C={name:o,reducer:R,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:N,...T(u),injectInto(x,{reducerPath:q,...K}={}){const J=q??u;return x.inject({reducerPath:J,reducer:R},K),{...C,...T(J,!0)}}};return C}}function xC(a,t,r,s){function o(u,...f){let d=t(u);return typeof d>"u"&&s&&(d=r()),a(d,...f)}return o.unwrapped=a,o}var Vd=CC();function kC(){function a(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return a.withTypes=()=>a,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:a}}function NC({type:a,reducerName:t,createNotation:r},s,o){let u,f;if("reducer"in s){if(r&&!UC(s))throw new Error(la(17));u=s.reducer,f=s.prepare}else u=s;o.addCase(a,u).exposeCaseReducer(t,u).exposeAction(t,f?Hi(a,f):Hi(a))}function jC(a){return a._reducerDefinitionType==="asyncThunk"}function UC(a){return a._reducerDefinitionType==="reducerWithPrepare"}function DC({type:a,reducerName:t},r,s,o){if(!o)throw new Error(la(18));const{payloadCreator:u,fulfilled:f,pending:d,rejected:m,settled:p,options:_}=r,y=o(a,u,_);s.exposeAction(t,y),f&&s.addCase(y.fulfilled,f),d&&s.addCase(y.pending,d),m&&s.addCase(y.rejected,m),p&&s.addMatcher(y.settled,p),s.exposeCaseReducer(t,{fulfilled:f||Bo,pending:d||Bo,rejected:m||Bo,settled:p||Bo})}function Bo(){}function la(a){return`Minified Redux Toolkit error #${a}; visit https://redux-toolkit.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}const MC={user:null,status:"loading"},Gb=Vd({name:"auth",initialState:MC,reducers:{setUser:(a,t)=>{a.user=t.payload,a.status="succeeded"},logout:a=>{a.user=null,a.status="succeeded"}}}),{setUser:ws,logout:$C}=Gb.actions,BC=Gb.reducer,zC="_header_3nu8l_1",LC="_logo_3nu8l_27",qC="_nav_3nu8l_47",HC="_adminLink_3nu8l_83",zo={header:zC,logo:LC,nav:qC,adminLink:HC},IC=()=>{const{user:a}=Cs(t=>t.auth);return U.jsxs("nav",{className:zo.header,children:[U.jsx("div",{className:zo.logo,children:U.jsx(sa,{to:"/",children:"MAIMEI "})}),U.jsxs("div",{className:zo.nav,children:[U.jsx(sa,{to:"/",children:""}),U.jsx(sa,{to:"/favorites",children:""}),U.jsx(sa,{to:"/profile",children:""}),a?.isAdmin&&U.jsx(sa,{to:"/admin",className:zo.adminLink,children:""})]})]})},PC="_container_1lav9_1",GC="_card_1lav9_17",VC="_title_1lav9_35",KC="_form_1lav9_47",YC="_inputGroup_1lav9_59",JC="_label_1lav9_71",XC="_input_1lav9_59",QC="_btn_1lav9_109",WC="_toggle_1lav9_141",FC="_errorBox_1lav9_159",Jt={container:PC,card:GC,title:VC,form:KC,inputGroup:YC,label:JC,input:XC,btn:QC,toggle:WC,errorBox:FC},ZC=()=>{const[a,t]=$.useState(""),[r,s]=$.useState(""),[o,u]=$.useState(!1),[f,d]=$.useState(""),m=Ou(),p=Cd(),_=async y=>{y.preventDefault(),d("");try{if(o){const{data:b,error:w}=await Qe.from("users_custom").insert([{username:a.trim(),password:r,is_admin:a.toLowerCase()==="admin",skin_type:"unknown"}]).select().single();if(w)throw w.code==="23505"?new Error("    "):new Error("   ");if(b){const E={...b,isAdmin:!!b.is_admin};m(ws(E)),p("/profile")}}else{const{data:b,error:w}=await Qe.from("users_custom").select("*").eq("username",a.trim()).eq("password",r).maybeSingle();if(w)throw new Error("   ");if(!b){d("    ");return}const E={...b,isAdmin:b.is_admin===!0||String(b.is_admin)==="true"};m(ws(E)),p("/")}}catch(b){b instanceof Error?d(b.message):d(" ")}};return U.jsx("div",{className:Jt.container,children:U.jsxs("div",{className:Jt.card,children:[U.jsx("h2",{className:Jt.title,children:o?" ":" "}),f&&U.jsx("div",{className:Jt.errorBox,children:f}),U.jsxs("form",{onSubmit:_,className:Jt.form,children:[U.jsxs("div",{className:Jt.inputGroup,children:[U.jsx("label",{className:Jt.label,children:" "}),U.jsx("input",{className:Jt.input,placeholder:"sasha_beauty",value:a,onChange:y=>t(y.target.value),required:!0})]}),U.jsxs("div",{className:Jt.inputGroup,children:[U.jsx("label",{className:Jt.label,children:""}),U.jsx("input",{type:"password",className:Jt.input,placeholder:"",value:r,onChange:y=>s(y.target.value),required:!0})]}),U.jsx("button",{type:"submit",className:Jt.btn,children:o?" ":""})]}),U.jsx("p",{onClick:()=>{u(!o),d("")},className:Jt.toggle,children:o?"  ? ":" ?  "})]})})},ex="_pageContainer_oky6b_5",tx="_title_oky6b_17",nx="_grid_oky6b_27",ax="_card_oky6b_39",rx="_favBtn_oky6b_65",sx="_imageWrapper_oky6b_93",ix="_image_oky6b_93",lx="_info_oky6b_123",ox="_brandUrl_oky6b_131",ux="_name_oky6b_145",cx="_price_oky6b_157",fx="_center_oky6b_237",hx="_emptyContainer_oky6b_251",dx="_linkButton_oky6b_269",$t={pageContainer:ex,title:tx,grid:nx,card:ax,favBtn:rx,imageWrapper:sx,image:ix,info:lx,brandUrl:ox,name:ux,price:cx,center:fx,emptyContainer:hx,linkButton:dx},mx=()=>{const a=Cs(p=>p.auth.user),[t,r]=$.useState([]),[s,o]=$.useState([]),[u,f]=$.useState(!0);$.useEffect(()=>{(async()=>{if(a){f(!0);try{const{data:_}=await Qe.from("users_custom").select("skin_type, budget_segment").eq("id",a.id).single();if(_){const{data:y}=await Qe.from("products").select("*").eq("budget_segment",_.budget_segment).or(`category_type.eq.makeup, skin_type.cs.{${_.skin_type}}`);y&&r(y);const{data:b}=await Qe.from("favorites").select("product_id").eq("user_id",a.id);b&&o(b.map(w=>w.product_id))}}catch(_){console.error(":",_)}finally{f(!1)}}})()},[a]);const d=async p=>{a&&(await Qe.from("favorites").insert([{user_id:a.id,product_id:p}]),o(_=>[..._,p]))},m=t.filter(p=>!s.includes(p.id));return u?U.jsx("div",{className:$t.center,children:"    ..."}):m.length===0?U.jsxs("div",{className:$t.emptyContainer,children:[U.jsx("h2",{style:{color:"#db7093"},children:"  ! "}),U.jsx("p",{style:{color:"#888"},children:"      ."}),U.jsx(sa,{to:"/favorites",className:$t.linkButton,children:"  "})]}):U.jsxs("div",{className:$t.pageContainer,children:[U.jsx("h2",{className:$t.title,children:" "}),U.jsx("div",{className:$t.grid,children:m.map(p=>U.jsxs("div",{className:$t.card,children:[U.jsx("button",{onClick:()=>d(p.id),className:$t.favBtn,children:""}),U.jsx("div",{className:$t.imageWrapper,children:U.jsx("img",{src:p.image_url,alt:p.name,className:$t.image})}),U.jsxs("div",{className:$t.info,children:[U.jsx("p",{className:$t.brandUrl,children:p.product_url}),U.jsx("h3",{className:$t.name,children:p.name}),U.jsxs("div",{className:$t.price,children:[p.price," "]})]})]},p.id))})]})},px="_pageContainer_5r0p9_3",gx="_title_5r0p9_15",yx="_grid_5r0p9_27",_x="_card_5r0p9_39",vx="_removeBtn_5r0p9_69",bx="_imageWrapper_5r0p9_105",wx="_image_5r0p9_105",Sx="_info_5r0p9_135",Ex="_brandUrl_5r0p9_145",Tx="_name_5r0p9_159",Ax="_price_5r0p9_175",Rx="_center_5r0p9_187",Ox="_emptyContainer_5r0p9_205",Cx="_linkButton_5r0p9_223",At={pageContainer:px,title:gx,grid:yx,card:_x,removeBtn:vx,imageWrapper:bx,image:wx,info:Sx,brandUrl:Ex,name:Tx,price:Ax,center:Rx,emptyContainer:Ox,linkButton:Cx},xx=()=>{const a=Cs(f=>f.auth.user),[t,r]=$.useState([]),[s,o]=$.useState(!0);$.useEffect(()=>{(async()=>{if(a){o(!0);try{const{data:d,error:m}=await Qe.from("favorites").select("product_id, products (*)").eq("user_id",a.id);if(!m&&d){const p=d.map(_=>_.products).filter(_=>_!==null);r(p)}}catch(d){console.error("   :",d)}finally{o(!1)}}})()},[a]);const u=async f=>{if(!a)return;const{error:d}=await Qe.from("favorites").delete().eq("user_id",a.id).eq("product_id",f);d||r(m=>m.filter(p=>p.id!==f))};return s?U.jsx("div",{className:At.center,children:"  ..."}):t.length===0?U.jsxs("div",{className:At.emptyContainer,children:[U.jsx("div",{style:{fontSize:"50px",marginBottom:"20px"},children:""}),U.jsx("h2",{className:At.title,children:"  "}),U.jsx("p",{style:{color:"#888"},children:"   !"}),U.jsx(sa,{to:"/",className:At.linkButton,children:" "})]}):U.jsxs("div",{className:At.pageContainer,children:[U.jsx("h2",{className:At.title,children:"  "}),U.jsx("div",{className:At.grid,children:t.map(f=>U.jsxs("div",{className:At.card,children:[U.jsx("button",{onClick:()=>u(f.id),className:At.removeBtn,title:"  ",children:""}),U.jsx("div",{className:At.imageWrapper,children:U.jsx("img",{src:f.image_url,alt:f.name,className:At.image})}),U.jsxs("div",{className:At.info,children:[U.jsx("p",{className:At.brandUrl,children:f.product_url}),U.jsx("h3",{className:At.name,children:f.name}),U.jsxs("div",{className:At.price,children:[f.price," "]})]})]},f.id))})]})},kx={items:[],recommendations:[],favorites:[],loading:!1,error:null},Vb=vr("products/fetchProducts",async(a,{rejectWithValue:t})=>{const{data:r,error:s}=await Qe.from("products").select("*");return s?t(s.message):r}),Nx=vr("products/fetchRecommendations",async({skinType:a,budget:t},{rejectWithValue:r})=>{const{data:s,error:o}=await Qe.from("products").select("*").eq("budget_segment",t).or(`category_type.eq.makeup, skin_type.cs.{${a}}`);return o?r(o.message):s}),Kb=vr("products/addProduct",async(a,{rejectWithValue:t})=>{const{data:r,error:s}=await Qe.from("products").insert([a]).select().single();return s?t(s.message):r}),Yb=vr("products/deleteProduct",async(a,{rejectWithValue:t})=>{const{error:r}=await Qe.from("products").delete().eq("id",a);return r?t(r.message):a}),Jb=vr("products/updateProduct",async(a,{rejectWithValue:t})=>{const{data:r,error:s}=await Qe.from("products").update(a).eq("id",a.id).select().single();return s?t(s.message):r}),jx=Vd({name:"products",initialState:kx,reducers:{},extraReducers:a=>{a.addCase(Vb.fulfilled,(t,r)=>{t.items=r.payload,t.loading=!1}).addCase(Nx.fulfilled,(t,r)=>{t.recommendations=r.payload,t.loading=!1}).addCase(Kb.fulfilled,(t,r)=>{t.items.push(r.payload)}).addCase(Yb.fulfilled,(t,r)=>{t.items=t.items.filter(s=>s.id!==r.payload)}).addCase(Jb.fulfilled,(t,r)=>{const s=t.items.findIndex(o=>o.id===r.payload.id);s!==-1&&(t.items[s]=r.payload)}).addMatcher(t=>t.type.endsWith("/pending"),t=>{t.loading=!0}).addMatcher(t=>t.type.endsWith("/fulfilled"),t=>{t.loading=!1})}}),Ux=jx.reducer,Dx="_adminContainer_rh974_1",Mx="_header_rh974_15",$x="_formCard_rh974_27",Bx="_gridInputs_rh974_41",zx="_inputWrapper_rh974_53",Lx="_label_rh974_65",qx="_input_rh974_53",Hx="_skinTypeSection_rh974_103",Ix="_checkboxGroup_rh974_115",Px="_checkboxLabel_rh974_127",Gx="_buttonGroup_rh974_143",Vx="_addBtn_rh974_155",Kx="_updateBtn_rh974_155",Yx="_cancelBtn_rh974_155",Jx="_tableWrapper_rh974_181",Xx="_table_rh974_181",Qx="_th_rh974_207",Wx="_tr_rh974_221",Fx="_td_rh974_229",Zx="_imgThumb_rh974_239",ek="_editBtn_rh974_251",tk="_deleteBtn_rh974_253",nk="_loading_rh974_257",he={adminContainer:Dx,header:Mx,formCard:$x,gridInputs:Bx,inputWrapper:zx,label:Lx,input:qx,skinTypeSection:Hx,checkboxGroup:Ix,checkboxLabel:Px,buttonGroup:Gx,addBtn:Vx,updateBtn:Kx,cancelBtn:Yx,tableWrapper:Jx,table:Xx,th:Qx,tr:Wx,td:Fx,imgThumb:Zx,editBtn:ek,deleteBtn:tk,loading:nk};function fe(a,t,r,s,o){if(typeof t=="function"?a!==t||!0:!t.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(a,r),r}function M(a,t,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?a!==t||!s:!t.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(a):s?s.value:t.get(a)}let Xb=function(){const{crypto:a}=globalThis;if(a?.randomUUID)return Xb=a.randomUUID.bind(a),a.randomUUID();const t=new Uint8Array(1),r=a?()=>a.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^r()&15>>+s/4).toString(16))};function fd(a){return typeof a=="object"&&a!==null&&("name"in a&&a.name==="AbortError"||"message"in a&&String(a.message).includes("FetchRequestCanceledException"))}const hd=a=>{if(a instanceof Error)return a;if(typeof a=="object"&&a!==null){try{if(Object.prototype.toString.call(a)==="[object Error]"){const t=new Error(a.message,a.cause?{cause:a.cause}:{});return a.stack&&(t.stack=a.stack),a.cause&&!t.cause&&(t.cause=a.cause),a.name&&(t.name=a.name),t}}catch{}try{return new Error(JSON.stringify(a))}catch{}}return new Error(a)};class se extends Error{}class wt extends se{constructor(t,r,s,o){super(`${wt.makeMessage(t,r,s)}`),this.status=t,this.headers=o,this.requestID=o?.get("x-request-id"),this.error=r;const u=r;this.code=u?.code,this.param=u?.param,this.type=u?.type}static makeMessage(t,r,s){const o=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):s;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,r,s,o){if(!t||!o)return new Bu({message:s,cause:hd(r)});const u=r?.error;return t===400?new Qb(t,u,s,o):t===401?new Wb(t,u,s,o):t===403?new Fb(t,u,s,o):t===404?new Zb(t,u,s,o):t===409?new e0(t,u,s,o):t===422?new t0(t,u,s,o):t===429?new n0(t,u,s,o):t>=500?new a0(t,u,s,o):new wt(t,u,s,o)}}class mn extends wt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Bu extends wt{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class Kd extends Bu{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Qb extends wt{}class Wb extends wt{}class Fb extends wt{}class Zb extends wt{}class e0 extends wt{}class t0 extends wt{}class n0 extends wt{}class a0 extends wt{}class r0 extends se{constructor(){super("Could not parse response content as the length limit was reached")}}class s0 extends se{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class ki extends Error{constructor(t){super(t)}}const ak=/^[a-z][a-z0-9+.-]*:/i,rk=a=>ak.test(a);let Bt=a=>(Bt=Array.isArray,Bt(a)),_v=Bt;function i0(a){return typeof a!="object"?{}:a??{}}function sk(a){if(!a)return!0;for(const t in a)return!1;return!0}function ik(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function $h(a){return a!=null&&typeof a=="object"&&!Array.isArray(a)}const lk=(a,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new se(`${a} must be an integer`);if(t<0)throw new se(`${a} must be a positive integer`);return t},ok=a=>{try{return JSON.parse(a)}catch{return}},ll=a=>new Promise(t=>setTimeout(t,a)),ys="6.15.0",uk=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function ck(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const fk=()=>{const a=ck();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":bv(Deno.build.os),"X-Stainless-Arch":vv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":bv(globalThis.process.platform??"unknown"),"X-Stainless-Arch":vv(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=hk();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function hk(){if(typeof navigator>"u"||!navigator)return null;const a=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of a){const s=r.exec(navigator.userAgent);if(s){const o=s[1]||0,u=s[2]||0,f=s[3]||0;return{browser:t,version:`${o}.${u}.${f}`}}}return null}const vv=a=>a==="x32"?"x32":a==="x86_64"||a==="x64"?"x64":a==="arm"?"arm":a==="aarch64"||a==="arm64"?"arm64":a?`other:${a}`:"unknown",bv=a=>(a=a.toLowerCase(),a.includes("ios")?"iOS":a==="android"?"Android":a==="darwin"?"MacOS":a==="win32"?"Windows":a==="freebsd"?"FreeBSD":a==="openbsd"?"OpenBSD":a==="linux"?"Linux":a?`Other:${a}`:"Unknown");let wv;const dk=()=>wv??(wv=fk());function mk(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function l0(...a){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...a)}function o0(a){let t=Symbol.asyncIterator in a?a[Symbol.asyncIterator]():a[Symbol.iterator]();return l0({start(){},async pull(r){const{done:s,value:o}=await t.next();s?r.close():r.enqueue(o)},async cancel(){await t.return?.()}})}function u0(a){if(a[Symbol.asyncIterator])return a;const t=a.getReader();return{async next(){try{const r=await t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function pk(a){if(a===null||typeof a!="object")return;if(a[Symbol.asyncIterator]){await a[Symbol.asyncIterator]().return?.();return}const t=a.getReader(),r=t.cancel();t.releaseLock(),await r}const gk=({headers:a,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),c0="RFC3986",f0=a=>String(a),Sv={RFC1738:a=>String(a).replace(/%20/g,"+"),RFC3986:f0},yk="RFC1738";let dd=(a,t)=>(dd=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),dd(a,t));const Nn=(()=>{const a=[];for(let t=0;t<256;++t)a.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return a})(),Bh=1024,_k=(a,t,r,s,o)=>{if(a.length===0)return a;let u=a;if(typeof a=="symbol"?u=Symbol.prototype.toString.call(a):typeof a!="string"&&(u=String(a)),r==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});let f="";for(let d=0;d<u.length;d+=Bh){const m=u.length>=Bh?u.slice(d,d+Bh):u,p=[];for(let _=0;_<m.length;++_){let y=m.charCodeAt(_);if(y===45||y===46||y===95||y===126||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||o===yk&&(y===40||y===41)){p[p.length]=m.charAt(_);continue}if(y<128){p[p.length]=Nn[y];continue}if(y<2048){p[p.length]=Nn[192|y>>6]+Nn[128|y&63];continue}if(y<55296||y>=57344){p[p.length]=Nn[224|y>>12]+Nn[128|y>>6&63]+Nn[128|y&63];continue}_+=1,y=65536+((y&1023)<<10|m.charCodeAt(_)&1023),p[p.length]=Nn[240|y>>18]+Nn[128|y>>12&63]+Nn[128|y>>6&63]+Nn[128|y&63]}f+=p.join("")}return f};function vk(a){return!a||typeof a!="object"?!1:!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))}function Ev(a,t){if(Bt(a)){const r=[];for(let s=0;s<a.length;s+=1)r.push(t(a[s]));return r}return t(a)}const h0={brackets(a){return String(a)+"[]"},comma:"comma",indices(a,t){return String(a)+"["+t+"]"},repeat(a){return String(a)}},d0=function(a,t){Array.prototype.push.apply(a,Bt(t)?t:[t])};let Tv;const it={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:_k,encodeValuesOnly:!1,format:c0,formatter:f0,indices:!1,serializeDate(a){return(Tv??(Tv=Function.prototype.call.bind(Date.prototype.toISOString)))(a)},skipNulls:!1,strictNullHandling:!1};function bk(a){return typeof a=="string"||typeof a=="number"||typeof a=="boolean"||typeof a=="symbol"||typeof a=="bigint"}const zh={};function m0(a,t,r,s,o,u,f,d,m,p,_,y,b,w,E,R,N,T){let C=a,x=T,q=0,K=!1;for(;(x=x.get(zh))!==void 0&&!K;){const Ee=x.get(a);if(q+=1,typeof Ee<"u"){if(Ee===q)throw new RangeError("Cyclic object value");K=!0}typeof x.get(zh)>"u"&&(q=0)}if(typeof p=="function"?C=p(t,C):C instanceof Date?C=b?.(C):r==="comma"&&Bt(C)&&(C=Ev(C,function(Ee){return Ee instanceof Date?b?.(Ee):Ee})),C===null){if(u)return m&&!R?m(t,it.encoder,N,"key",w):t;C=""}if(bk(C)||vk(C)){if(m){const Ee=R?t:m(t,it.encoder,N,"key",w);return[E?.(Ee)+"="+E?.(m(C,it.encoder,N,"value",w))]}return[E?.(t)+"="+E?.(String(C))]}const J=[];if(typeof C>"u")return J;let G;if(r==="comma"&&Bt(C))R&&m&&(C=Ev(C,m)),G=[{value:C.length>0?C.join(",")||null:void 0}];else if(Bt(p))G=p;else{const Ee=Object.keys(C);G=_?Ee.sort(_):Ee}const W=d?String(t).replace(/\./g,"%2E"):String(t),ue=s&&Bt(C)&&C.length===1?W+"[]":W;if(o&&Bt(C)&&C.length===0)return ue+"[]";for(let Ee=0;Ee<G.length;++Ee){const Ae=G[Ee],ct=typeof Ae=="object"&&typeof Ae.value<"u"?Ae.value:C[Ae];if(f&&ct===null)continue;const gn=y&&d?Ae.replace(/\./g,"%2E"):Ae,yn=Bt(C)?typeof r=="function"?r(ue,gn):ue:ue+(y?"."+gn:"["+gn+"]");T.set(a,q);const Ct=new WeakMap;Ct.set(zh,T),d0(J,m0(ct,yn,r,s,o,u,f,d,r==="comma"&&R&&Bt(C)?null:m,p,_,y,b,w,E,R,N,Ct))}return J}function wk(a=it){if(typeof a.allowEmptyArrays<"u"&&typeof a.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof a.encodeDotInKeys<"u"&&typeof a.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(a.encoder!==null&&typeof a.encoder<"u"&&typeof a.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=a.charset||it.charset;if(typeof a.charset<"u"&&a.charset!=="utf-8"&&a.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=c0;if(typeof a.format<"u"){if(!dd(Sv,a.format))throw new TypeError("Unknown format option provided.");r=a.format}const s=Sv[r];let o=it.filter;(typeof a.filter=="function"||Bt(a.filter))&&(o=a.filter);let u;if(a.arrayFormat&&a.arrayFormat in h0?u=a.arrayFormat:"indices"in a?u=a.indices?"indices":"repeat":u=it.arrayFormat,"commaRoundTrip"in a&&typeof a.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const f=typeof a.allowDots>"u"?a.encodeDotInKeys?!0:it.allowDots:!!a.allowDots;return{addQueryPrefix:typeof a.addQueryPrefix=="boolean"?a.addQueryPrefix:it.addQueryPrefix,allowDots:f,allowEmptyArrays:typeof a.allowEmptyArrays=="boolean"?!!a.allowEmptyArrays:it.allowEmptyArrays,arrayFormat:u,charset:t,charsetSentinel:typeof a.charsetSentinel=="boolean"?a.charsetSentinel:it.charsetSentinel,commaRoundTrip:!!a.commaRoundTrip,delimiter:typeof a.delimiter>"u"?it.delimiter:a.delimiter,encode:typeof a.encode=="boolean"?a.encode:it.encode,encodeDotInKeys:typeof a.encodeDotInKeys=="boolean"?a.encodeDotInKeys:it.encodeDotInKeys,encoder:typeof a.encoder=="function"?a.encoder:it.encoder,encodeValuesOnly:typeof a.encodeValuesOnly=="boolean"?a.encodeValuesOnly:it.encodeValuesOnly,filter:o,format:r,formatter:s,serializeDate:typeof a.serializeDate=="function"?a.serializeDate:it.serializeDate,skipNulls:typeof a.skipNulls=="boolean"?a.skipNulls:it.skipNulls,sort:typeof a.sort=="function"?a.sort:null,strictNullHandling:typeof a.strictNullHandling=="boolean"?a.strictNullHandling:it.strictNullHandling}}function Sk(a,t={}){let r=a;const s=wk(t);let o,u;typeof s.filter=="function"?(u=s.filter,r=u("",r)):Bt(s.filter)&&(u=s.filter,o=u);const f=[];if(typeof r!="object"||r===null)return"";const d=h0[s.arrayFormat],m=d==="comma"&&s.commaRoundTrip;o||(o=Object.keys(r)),s.sort&&o.sort(s.sort);const p=new WeakMap;for(let b=0;b<o.length;++b){const w=o[b];s.skipNulls&&r[w]===null||d0(f,m0(r[w],w,d,m,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,p))}const _=f.join(s.delimiter);let y=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),_.length>0?y+_:""}function Ek(a){let t=0;for(const o of a)t+=o.length;const r=new Uint8Array(t);let s=0;for(const o of a)r.set(o,s),s+=o.length;return r}let Av;function Yd(a){let t;return(Av??(t=new globalThis.TextEncoder,Av=t.encode.bind(t)))(a)}let Rv;function Ov(a){let t;return(Rv??(t=new globalThis.TextDecoder,Rv=t.decode.bind(t)))(a)}var Qt,Wt;class zu{constructor(){Qt.set(this,void 0),Wt.set(this,void 0),fe(this,Qt,new Uint8Array),fe(this,Wt,null)}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Yd(t):t;fe(this,Qt,Ek([M(this,Qt,"f"),r]));const s=[];let o;for(;(o=Tk(M(this,Qt,"f"),M(this,Wt,"f")))!=null;){if(o.carriage&&M(this,Wt,"f")==null){fe(this,Wt,o.index);continue}if(M(this,Wt,"f")!=null&&(o.index!==M(this,Wt,"f")+1||o.carriage)){s.push(Ov(M(this,Qt,"f").subarray(0,M(this,Wt,"f")-1))),fe(this,Qt,M(this,Qt,"f").subarray(M(this,Wt,"f"))),fe(this,Wt,null);continue}const u=M(this,Wt,"f")!==null?o.preceding-1:o.preceding,f=Ov(M(this,Qt,"f").subarray(0,u));s.push(f),fe(this,Qt,M(this,Qt,"f").subarray(o.index)),fe(this,Wt,null)}return s}flush(){return M(this,Qt,"f").length?this.decode(`
`):[]}}Qt=new WeakMap,Wt=new WeakMap;zu.NEWLINE_CHARS=new Set([`
`,"\r"]);zu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Tk(a,t){for(let o=t??0;o<a.length;o++){if(a[o]===10)return{preceding:o,index:o+1,carriage:!1};if(a[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function Ak(a){for(let s=0;s<a.length-1;s++){if(a[s]===10&&a[s+1]===10||a[s]===13&&a[s+1]===13)return s+2;if(a[s]===13&&a[s+1]===10&&s+3<a.length&&a[s+2]===13&&a[s+3]===10)return s+4}return-1}const pu={off:0,error:200,warn:300,info:400,debug:500},Cv=(a,t,r)=>{if(a){if(ik(pu,a))return a;vt(r).warn(`${t} was set to ${JSON.stringify(a)}, expected one of ${JSON.stringify(Object.keys(pu))}`)}};function Ni(){}function Lo(a,t,r){return!t||pu[a]>pu[r]?Ni:t[a].bind(t)}const Rk={error:Ni,warn:Ni,info:Ni,debug:Ni};let xv=new WeakMap;function vt(a){const t=a.logger,r=a.logLevel??"off";if(!t)return Rk;const s=xv.get(t);if(s&&s[0]===r)return s[1];const o={error:Lo("error",t,r),warn:Lo("warn",t,r),info:Lo("info",t,r),debug:Lo("debug",t,r)};return xv.set(t,[r,o]),o}const cr=a=>(a.options&&(a.options={...a.options},delete a.options.headers),a.headers&&(a.headers=Object.fromEntries((a.headers instanceof Headers?[...a.headers]:Object.entries(a.headers)).map(([t,r])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in a&&(a.retryOfRequestLogID&&(a.retryOf=a.retryOfRequestLogID),delete a.retryOfRequestLogID),a);var Oi;class Dn{constructor(t,r,s){this.iterator=t,Oi.set(this,void 0),this.controller=r,fe(this,Oi,s)}static fromSSEResponse(t,r,s){let o=!1;const u=s?vt(s):console;async function*f(){if(o)throw new se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let d=!1;try{for await(const m of Ok(t,r))if(!d){if(m.data.startsWith("[DONE]")){d=!0;continue}if(m.event===null||!m.event.startsWith("thread.")){let p;try{p=JSON.parse(m.data)}catch(_){throw u.error("Could not parse message into JSON:",m.data),u.error("From chunk:",m.raw),_}if(p&&p.error)throw new wt(void 0,p.error,void 0,t.headers);yield p}else{let p;try{p=JSON.parse(m.data)}catch(_){throw console.error("Could not parse message into JSON:",m.data),console.error("From chunk:",m.raw),_}if(m.event=="error")throw new wt(void 0,p.error,p.message,void 0);yield{event:m.event,data:p}}}d=!0}catch(m){if(fd(m))return;throw m}finally{d||r.abort()}}return new Dn(f,r,s)}static fromReadableStream(t,r,s){let o=!1;async function*u(){const d=new zu,m=u0(t);for await(const p of m)for(const _ of d.decode(p))yield _;for(const p of d.flush())yield p}async function*f(){if(o)throw new se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let d=!1;try{for await(const m of u())d||m&&(yield JSON.parse(m));d=!0}catch(m){if(fd(m))return;throw m}finally{d||r.abort()}}return new Dn(f,r,s)}[(Oi=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],r=[],s=this.iterator(),o=u=>({next:()=>{if(u.length===0){const f=s.next();t.push(f),r.push(f)}return u.shift()}});return[new Dn(()=>o(t),this.controller,M(this,Oi,"f")),new Dn(()=>o(r),this.controller,M(this,Oi,"f"))]}toReadableStream(){const t=this;let r;return l0({async start(){r=t[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:u}=await r.next();if(u)return s.close();const f=Yd(JSON.stringify(o)+`
`);s.enqueue(f)}catch(o){s.error(o)}},async cancel(){await r.return?.()}})}}async function*Ok(a,t){if(!a.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new se("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new se("Attempted to iterate over a response with no body");const r=new xk,s=new zu,o=u0(a.body);for await(const u of Ck(o))for(const f of s.decode(u)){const d=r.decode(f);d&&(yield d)}for(const u of s.flush()){const f=r.decode(u);f&&(yield f)}}async function*Ck(a){let t=new Uint8Array;for await(const r of a){if(r==null)continue;const s=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?Yd(r):r;let o=new Uint8Array(t.length+s.length);o.set(t),o.set(s,t.length),t=o;let u;for(;(u=Ak(t))!==-1;)yield t.slice(0,u),t=t.slice(u)}t.length>0&&(yield t)}class xk{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,s,o]=kk(t,":");return o.startsWith(" ")&&(o=o.substring(1)),r==="event"?this.event=o:r==="data"&&this.data.push(o),null}}function kk(a,t){const r=a.indexOf(t);return r!==-1?[a.substring(0,r),t,a.substring(r+t.length)]:[a,"",""]}async function p0(a,t){const{response:r,requestLogID:s,retryOfRequestLogID:o,startTime:u}=t,f=await(async()=>{if(t.options.stream)return vt(a).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,a):Dn.fromSSEResponse(r,t.controller,a);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const m=r.headers.get("content-type")?.split(";")[0]?.trim();if(m?.includes("application/json")||m?.endsWith("+json")){const y=await r.json();return g0(y,r)}return await r.text()})();return vt(a).debug(`[${s}] response parsed`,cr({retryOfRequestLogID:o,url:r.url,status:r.status,body:f,durationMs:Date.now()-u})),f}function g0(a,t){return!a||typeof a!="object"||Array.isArray(a)?a:Object.defineProperty(a,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var ji;class Lu extends Promise{constructor(t,r,s=p0){super(o=>{o(null)}),this.responsePromise=r,this.parseResponse=s,ji.set(this,void 0),fe(this,ji,t)}_thenUnwrap(t){return new Lu(M(this,ji,"f"),this.responsePromise,async(r,s)=>g0(t(await this.parseResponse(r,s),s),s.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(M(this,ji,"f"),t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}ji=new WeakMap;var qo;class Jd{constructor(t,r,s,o){qo.set(this,void 0),fe(this,qo,t),this.options=o,this.response=r,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new se("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await M(this,qo,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(qo=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const r of t.getPaginatedItems())yield r}}class Nk extends Lu{constructor(t,r,s){super(t,r,async(o,u)=>new s(o,u.response,await p0(o,u),u.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}class qu extends Jd{constructor(t,r,s,o){super(t,r,s,o),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class nt extends Jd{constructor(t,r,s,o){super(t,r,s,o),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.getPaginatedItems(),r=t[t.length-1]?.id;return r?{...this.options,query:{...i0(this.options.query),after:r}}:null}}class gu extends Jd{constructor(t,r,s,o){super(t,r,s,o),this.data=s.data||[],this.has_more=s.has_more||!1,this.last_id=s.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.last_id;return t?{...this.options,query:{...i0(this.options.query),after:t}}:null}}const y0=()=>{if(typeof File>"u"){const{process:a}=globalThis,t=typeof a?.versions?.node=="string"&&parseInt(a.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ii(a,t,r){return y0(),new File(a,t??"unknown_file",r)}function Qo(a){return(typeof a=="object"&&a!==null&&("name"in a&&a.name&&String(a.name)||"url"in a&&a.url&&String(a.url)||"filename"in a&&a.filename&&String(a.filename)||"path"in a&&a.path&&String(a.path))||"").split(/[\\/]/).pop()||void 0}const Xd=a=>a!=null&&typeof a=="object"&&typeof a[Symbol.asyncIterator]=="function",kv=async(a,t)=>md(a.body)?{...a,body:await _0(a.body,t)}:a,_r=async(a,t)=>({...a,body:await _0(a.body,t)}),Nv=new WeakMap;function jk(a){const t=typeof a=="function"?a:a.fetch,r=Nv.get(t);if(r)return r;const s=(async()=>{try{const o="Response"in t?t.Response:(await t("data:,")).constructor,u=new FormData;return u.toString()!==await new o(u).text()}catch{return!0}})();return Nv.set(t,s),s}const _0=async(a,t)=>{if(!await jk(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const r=new FormData;return await Promise.all(Object.entries(a||{}).map(([s,o])=>pd(r,s,o))),r},v0=a=>a instanceof Blob&&"name"in a,Uk=a=>typeof a=="object"&&a!==null&&(a instanceof Response||Xd(a)||v0(a)),md=a=>{if(Uk(a))return!0;if(Array.isArray(a))return a.some(md);if(a&&typeof a=="object"){for(const t in a)if(md(a[t]))return!0}return!1},pd=async(a,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")a.append(t,String(r));else if(r instanceof Response)a.append(t,Ii([await r.blob()],Qo(r)));else if(Xd(r))a.append(t,Ii([await new Response(o0(r)).blob()],Qo(r)));else if(v0(r))a.append(t,r,Qo(r));else if(Array.isArray(r))await Promise.all(r.map(s=>pd(a,t+"[]",s)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([s,o])=>pd(a,`${t}[${s}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}},b0=a=>a!=null&&typeof a=="object"&&typeof a.size=="number"&&typeof a.type=="string"&&typeof a.text=="function"&&typeof a.slice=="function"&&typeof a.arrayBuffer=="function",Dk=a=>a!=null&&typeof a=="object"&&typeof a.name=="string"&&typeof a.lastModified=="number"&&b0(a),Mk=a=>a!=null&&typeof a=="object"&&typeof a.url=="string"&&typeof a.blob=="function";async function $k(a,t,r){if(y0(),a=await a,Dk(a))return a instanceof File?a:Ii([await a.arrayBuffer()],a.name);if(Mk(a)){const o=await a.blob();return t||(t=new URL(a.url).pathname.split(/[\\/]/).pop()),Ii(await gd(o),t,r)}const s=await gd(a);if(t||(t=Qo(a)),!r?.type){const o=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof o=="string"&&(r={...r,type:o})}return Ii(s,t,r)}async function gd(a){let t=[];if(typeof a=="string"||ArrayBuffer.isView(a)||a instanceof ArrayBuffer)t.push(a);else if(b0(a))t.push(a instanceof Blob?a:await a.arrayBuffer());else if(Xd(a))for await(const r of a)t.push(...await gd(r));else{const r=a?.constructor?.name;throw new Error(`Unexpected data type: ${typeof a}${r?`; constructor: ${r}`:""}${Bk(a)}`)}return t}function Bk(a){return typeof a!="object"||a===null?"":`; props: [${Object.getOwnPropertyNames(a).map(r=>`"${r}"`).join(", ")}]`}class ae{constructor(t){this._client=t}}function w0(a){return a.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const jv=Object.freeze(Object.create(null)),zk=(a=w0)=>function(r,...s){if(r.length===1)return r[0];let o=!1;const u=[],f=r.reduce((_,y,b)=>{/[?#]/.test(y)&&(o=!0);const w=s[b];let E=(o?encodeURIComponent:a)(""+w);return b!==s.length&&(w==null||typeof w=="object"&&w.toString===Object.getPrototypeOf(Object.getPrototypeOf(w.hasOwnProperty??jv)??jv)?.toString)&&(E=w+"",u.push({start:_.length+y.length,length:E.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),_+y+(b===s.length?"":E)},""),d=f.split(/[?#]/,1)[0],m=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=m.exec(d))!==null;)u.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(u.sort((_,y)=>_.start-y.start),u.length>0){let _=0;const y=u.reduce((b,w)=>{const E=" ".repeat(w.start-_),R="^".repeat(w.length);return _=w.start+w.length,b+E+R},"");throw new se(`Path parameters result in path with invalid segments:
${u.map(b=>b.error).join(`
`)}
${f}
${y}`)}return f},Y=zk(w0);let S0=class extends ae{list(t,r={},s){return this._client.getAPIList(Y`/chat/completions/${t}/messages`,nt,{query:r,...s})}};function yu(a){return a!==void 0&&"function"in a&&a.function!==void 0}function Qd(a){return a?.$brand==="auto-parseable-response-format"}function ol(a){return a?.$brand==="auto-parseable-tool"}function Lk(a,t){return!t||!E0(t)?{...a,choices:a.choices.map(r=>(T0(r.message.tool_calls),{...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:Wd(a,t)}function Wd(a,t){const r=a.choices.map(s=>{if(s.finish_reason==="length")throw new r0;if(s.finish_reason==="content_filter")throw new s0;return T0(s.message.tool_calls),{...s,message:{...s.message,...s.message.tool_calls?{tool_calls:s.message.tool_calls?.map(o=>Hk(t,o))??void 0}:void 0,parsed:s.message.content&&!s.message.refusal?qk(t,s.message.content):null}}});return{...a,choices:r}}function qk(a,t){return a.response_format?.type!=="json_schema"?null:a.response_format?.type==="json_schema"?"$parseRaw"in a.response_format?a.response_format.$parseRaw(t):JSON.parse(t):null}function Hk(a,t){const r=a.tools?.find(s=>yu(s)&&s.function?.name===t.function.name);return{...t,function:{...t.function,parsed_arguments:ol(r)?r.$parseRaw(t.function.arguments):r?.function.strict?JSON.parse(t.function.arguments):null}}}function Ik(a,t){if(!a||!("tools"in a)||!a.tools)return!1;const r=a.tools?.find(s=>yu(s)&&s.function?.name===t.function.name);return yu(r)&&(ol(r)||r?.function.strict||!1)}function E0(a){return Qd(a.response_format)?!0:a.tools?.some(t=>ol(t)||t.type==="function"&&t.function.strict===!0)??!1}function T0(a){for(const t of a||[])if(t.type!=="function")throw new se(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function Pk(a){for(const t of a??[]){if(t.type!=="function")throw new se(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new se(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const _u=a=>a?.role==="assistant",A0=a=>a?.role==="tool";var yd,Wo,Fo,Ui,Di,Zo,Mi,na,$i,vu,bu,_s,R0;class Fd{constructor(){yd.add(this),this.controller=new AbortController,Wo.set(this,void 0),Fo.set(this,()=>{}),Ui.set(this,()=>{}),Di.set(this,void 0),Zo.set(this,()=>{}),Mi.set(this,()=>{}),na.set(this,{}),$i.set(this,!1),vu.set(this,!1),bu.set(this,!1),_s.set(this,!1),fe(this,Wo,new Promise((t,r)=>{fe(this,Fo,t,"f"),fe(this,Ui,r,"f")})),fe(this,Di,new Promise((t,r)=>{fe(this,Zo,t,"f"),fe(this,Mi,r,"f")})),M(this,Wo,"f").catch(()=>{}),M(this,Di,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},M(this,yd,"m",R0).bind(this))},0)}_connected(){this.ended||(M(this,Fo,"f").call(this),this._emit("connect"))}get ended(){return M(this,$i,"f")}get errored(){return M(this,vu,"f")}get aborted(){return M(this,bu,"f")}abort(){this.controller.abort()}on(t,r){return(M(this,na,"f")[t]||(M(this,na,"f")[t]=[])).push({listener:r}),this}off(t,r){const s=M(this,na,"f")[t];if(!s)return this;const o=s.findIndex(u=>u.listener===r);return o>=0&&s.splice(o,1),this}once(t,r){return(M(this,na,"f")[t]||(M(this,na,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,s)=>{fe(this,_s,!0),t!=="error"&&this.once("error",s),this.once(t,r)})}async done(){fe(this,_s,!0),await M(this,Di,"f")}_emit(t,...r){if(M(this,$i,"f"))return;t==="end"&&(fe(this,$i,!0),M(this,Zo,"f").call(this));const s=M(this,na,"f")[t];if(s&&(M(this,na,"f")[t]=s.filter(o=>!o.once),s.forEach(({listener:o})=>o(...r))),t==="abort"){const o=r[0];!M(this,_s,"f")&&!s?.length&&Promise.reject(o),M(this,Ui,"f").call(this,o),M(this,Mi,"f").call(this,o),this._emit("end");return}if(t==="error"){const o=r[0];!M(this,_s,"f")&&!s?.length&&Promise.reject(o),M(this,Ui,"f").call(this,o),M(this,Mi,"f").call(this,o),this._emit("end")}}_emitFinal(){}}Wo=new WeakMap,Fo=new WeakMap,Ui=new WeakMap,Di=new WeakMap,Zo=new WeakMap,Mi=new WeakMap,na=new WeakMap,$i=new WeakMap,vu=new WeakMap,bu=new WeakMap,_s=new WeakMap,yd=new WeakSet,R0=function(t){if(fe(this,vu,!0),t instanceof Error&&t.name==="AbortError"&&(t=new mn),t instanceof mn)return fe(this,bu,!0),this._emit("abort",t);if(t instanceof se)return this._emit("error",t);if(t instanceof Error){const r=new se(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new se(String(t)))};function Gk(a){return typeof a.parse=="function"}var Rt,_d,wu,vd,bd,wd,O0,C0;const Vk=10;class x0 extends Fd{constructor(){super(...arguments),Rt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){this._chatCompletions.push(t),this._emit("chatCompletion",t);const r=t.choices[0]?.message;return r&&this._addMessage(r),t}_addMessage(t,r=!0){if("content"in t||(t.content=null),this.messages.push(t),r){if(this._emit("message",t),A0(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(_u(t)&&t.tool_calls)for(const s of t.tool_calls)s.type==="function"&&this._emit("functionToolCall",s.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new se("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),M(this,Rt,"m",_d).call(this)}async finalMessage(){return await this.done(),M(this,Rt,"m",wu).call(this)}async finalFunctionToolCall(){return await this.done(),M(this,Rt,"m",vd).call(this)}async finalFunctionToolCallResult(){return await this.done(),M(this,Rt,"m",bd).call(this)}async totalUsage(){return await this.done(),M(this,Rt,"m",wd).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const r=M(this,Rt,"m",wu).call(this);r&&this._emit("finalMessage",r);const s=M(this,Rt,"m",_d).call(this);s&&this._emit("finalContent",s);const o=M(this,Rt,"m",vd).call(this);o&&this._emit("finalFunctionToolCall",o);const u=M(this,Rt,"m",bd).call(this);u!=null&&this._emit("finalFunctionToolCallResult",u),this._chatCompletions.some(f=>f.usage)&&this._emit("totalUsage",M(this,Rt,"m",wd).call(this))}async _createChatCompletion(t,r,s){const o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),M(this,Rt,"m",O0).call(this,r);const u=await t.chat.completions.create({...r,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Wd(u,r))}async _runChatCompletion(t,r,s){for(const o of r.messages)this._addMessage(o,!1);return await this._createChatCompletion(t,r,s)}async _runTools(t,r,s){const o="tool",{tool_choice:u="auto",stream:f,...d}=r,m=typeof u!="string"&&u.type==="function"&&u?.function?.name,{maxChatCompletions:p=Vk}=s||{},_=r.tools.map(w=>{if(ol(w)){if(!w.$callback)throw new se("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:w.$callback,name:w.function.name,description:w.function.description||"",parameters:w.function.parameters,parse:w.$parseRaw,strict:!0}}}return w}),y={};for(const w of _)w.type==="function"&&(y[w.function.name||w.function.function.name]=w.function);const b="tools"in r?_.map(w=>w.type==="function"?{type:"function",function:{name:w.function.name||w.function.function.name,parameters:w.function.parameters,description:w.function.description,strict:w.function.strict}}:w):void 0;for(const w of r.messages)this._addMessage(w,!1);for(let w=0;w<p;++w){const R=(await this._createChatCompletion(t,{...d,tool_choice:u,tools:b,messages:[...this.messages]},s)).choices[0]?.message;if(!R)throw new se("missing message in ChatCompletion response");if(!R.tool_calls?.length)return;for(const N of R.tool_calls){if(N.type!=="function")continue;const T=N.id,{name:C,arguments:x}=N.function,q=y[C];if(q){if(m&&m!==C){const W=`Invalid tool_call: ${JSON.stringify(C)}. ${JSON.stringify(m)} requested. Please try again`;this._addMessage({role:o,tool_call_id:T,content:W});continue}}else{const W=`Invalid tool_call: ${JSON.stringify(C)}. Available options are: ${Object.keys(y).map(ue=>JSON.stringify(ue)).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:T,content:W});continue}let K;try{K=Gk(q)?await q.parse(x):x}catch(W){const ue=W instanceof Error?W.message:String(W);this._addMessage({role:o,tool_call_id:T,content:ue});continue}const J=await q.function(K,this),G=M(this,Rt,"m",C0).call(this,J);if(this._addMessage({role:o,tool_call_id:T,content:G}),m)return}}}}Rt=new WeakSet,_d=function(){return M(this,Rt,"m",wu).call(this).content??null},wu=function(){let t=this.messages.length;for(;t-- >0;){const r=this.messages[t];if(_u(r))return{...r,content:r.content??null,refusal:r.refusal??null}}throw new se("stream ended without producing a ChatCompletionMessage with role=assistant")},vd=function(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(_u(r)&&r?.tool_calls?.length)return r.tool_calls.filter(s=>s.type==="function").at(-1)?.function}},bd=function(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(A0(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(s=>s.role==="assistant"&&s.tool_calls?.some(o=>o.type==="function"&&o.id===r.tool_call_id)))return r.content}},wd=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens);return t},O0=function(t){if(t.n!=null&&t.n>1)throw new se("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},C0=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class Zd extends x0{static runTools(t,r,s){const o=new Zd,u={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(t,r,u)),o}_addMessage(t,r=!0){super._addMessage(t,r),_u(t)&&t.content&&this._emit("content",t.content)}}const k0=1,N0=2,j0=4,U0=8,D0=16,M0=32,$0=64,B0=128,z0=256,L0=B0|z0,q0=D0|M0|L0|$0,H0=k0|N0|q0,I0=j0|U0,Kk=H0|I0,ut={STR:k0,NUM:N0,ARR:j0,OBJ:U0,NULL:D0,BOOL:M0,NAN:$0,INFINITY:B0,MINUS_INFINITY:z0,INF:L0,SPECIAL:q0,ATOM:H0,COLLECTION:I0,ALL:Kk};class Yk extends Error{}class Jk extends Error{}function Xk(a,t=ut.ALL){if(typeof a!="string")throw new TypeError(`expecting str, got ${typeof a}`);if(!a.trim())throw new Error(`${a} is empty`);return Qk(a.trim(),t)}const Qk=(a,t)=>{const r=a.length;let s=0;const o=b=>{throw new Yk(`${b} at position ${s}`)},u=b=>{throw new Jk(`${b} at position ${s}`)},f=()=>(y(),s>=r&&o("Unexpected end of input"),a[s]==='"'?d():a[s]==="{"?m():a[s]==="["?p():a.substring(s,s+4)==="null"||ut.NULL&t&&r-s<4&&"null".startsWith(a.substring(s))?(s+=4,null):a.substring(s,s+4)==="true"||ut.BOOL&t&&r-s<4&&"true".startsWith(a.substring(s))?(s+=4,!0):a.substring(s,s+5)==="false"||ut.BOOL&t&&r-s<5&&"false".startsWith(a.substring(s))?(s+=5,!1):a.substring(s,s+8)==="Infinity"||ut.INFINITY&t&&r-s<8&&"Infinity".startsWith(a.substring(s))?(s+=8,1/0):a.substring(s,s+9)==="-Infinity"||ut.MINUS_INFINITY&t&&1<r-s&&r-s<9&&"-Infinity".startsWith(a.substring(s))?(s+=9,-1/0):a.substring(s,s+3)==="NaN"||ut.NAN&t&&r-s<3&&"NaN".startsWith(a.substring(s))?(s+=3,NaN):_()),d=()=>{const b=s;let w=!1;for(s++;s<r&&(a[s]!=='"'||w&&a[s-1]==="\\");)w=a[s]==="\\"?!w:!1,s++;if(a.charAt(s)=='"')try{return JSON.parse(a.substring(b,++s-Number(w)))}catch(E){u(String(E))}else if(ut.STR&t)try{return JSON.parse(a.substring(b,s-Number(w))+'"')}catch{return JSON.parse(a.substring(b,a.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},m=()=>{s++,y();const b={};try{for(;a[s]!=="}";){if(y(),s>=r&&ut.OBJ&t)return b;const w=d();y(),s++;try{const E=f();Object.defineProperty(b,w,{value:E,writable:!0,enumerable:!0,configurable:!0})}catch(E){if(ut.OBJ&t)return b;throw E}y(),a[s]===","&&s++}}catch{if(ut.OBJ&t)return b;o("Expected '}' at end of object")}return s++,b},p=()=>{s++;const b=[];try{for(;a[s]!=="]";)b.push(f()),y(),a[s]===","&&s++}catch{if(ut.ARR&t)return b;o("Expected ']' at end of array")}return s++,b},_=()=>{if(s===0){a==="-"&&ut.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(a)}catch(w){if(ut.NUM&t)try{return a[a.length-1]==="."?JSON.parse(a.substring(0,a.lastIndexOf("."))):JSON.parse(a.substring(0,a.lastIndexOf("e")))}catch{}u(String(w))}}const b=s;for(a[s]==="-"&&s++;a[s]&&!",]}".includes(a[s]);)s++;s==r&&!(ut.NUM&t)&&o("Unterminated number literal");try{return JSON.parse(a.substring(b,s))}catch{a.substring(b,s)==="-"&&ut.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(a.substring(b,a.lastIndexOf("e")))}catch(E){u(String(E))}}},y=()=>{for(;s<r&&` 
\r	`.includes(a[s]);)s++};return f()},Uv=a=>Xk(a,ut.ALL^ut.NUM);var rt,ea,cs,$a,Lh,Ho,qh,Hh,Ih,Io,Ph,Dv;class tl extends x0{constructor(t){super(),rt.add(this),ea.set(this,void 0),cs.set(this,void 0),$a.set(this,void 0),fe(this,ea,t),fe(this,cs,[])}get currentChatCompletionSnapshot(){return M(this,$a,"f")}static fromReadableStream(t){const r=new tl(null);return r._run(()=>r._fromReadableStream(t)),r}static createChatCompletion(t,r,s){const o=new tl(r);return o._run(()=>o._runChatCompletion(t,{...r,stream:!0},{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createChatCompletion(t,r,s){super._createChatCompletion;const o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),M(this,rt,"m",Lh).call(this);const u=await t.chat.completions.create({...r,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const f of u)M(this,rt,"m",qh).call(this,f);if(u.controller.signal?.aborted)throw new mn;return this._addChatCompletion(M(this,rt,"m",Io).call(this))}async _fromReadableStream(t,r){const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),M(this,rt,"m",Lh).call(this),this._connected();const o=Dn.fromReadableStream(t,this.controller);let u;for await(const f of o)u&&u!==f.id&&this._addChatCompletion(M(this,rt,"m",Io).call(this)),M(this,rt,"m",qh).call(this,f),u=f.id;if(o.controller.signal?.aborted)throw new mn;return this._addChatCompletion(M(this,rt,"m",Io).call(this))}[(ea=new WeakMap,cs=new WeakMap,$a=new WeakMap,rt=new WeakSet,Lh=function(){this.ended||fe(this,$a,void 0)},Ho=function(r){let s=M(this,cs,"f")[r.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},M(this,cs,"f")[r.index]=s,s)},qh=function(r){if(this.ended)return;const s=M(this,rt,"m",Dv).call(this,r);this._emit("chunk",r,s);for(const o of r.choices){const u=s.choices[o.index];o.delta.content!=null&&u.message?.role==="assistant"&&u.message?.content&&(this._emit("content",o.delta.content,u.message.content),this._emit("content.delta",{delta:o.delta.content,snapshot:u.message.content,parsed:u.message.parsed})),o.delta.refusal!=null&&u.message?.role==="assistant"&&u.message?.refusal&&this._emit("refusal.delta",{delta:o.delta.refusal,snapshot:u.message.refusal}),o.logprobs?.content!=null&&u.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:o.logprobs?.content,snapshot:u.logprobs?.content??[]}),o.logprobs?.refusal!=null&&u.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:o.logprobs?.refusal,snapshot:u.logprobs?.refusal??[]});const f=M(this,rt,"m",Ho).call(this,u);u.finish_reason&&(M(this,rt,"m",Ih).call(this,u),f.current_tool_call_index!=null&&M(this,rt,"m",Hh).call(this,u,f.current_tool_call_index));for(const d of o.delta.tool_calls??[])f.current_tool_call_index!==d.index&&(M(this,rt,"m",Ih).call(this,u),f.current_tool_call_index!=null&&M(this,rt,"m",Hh).call(this,u,f.current_tool_call_index)),f.current_tool_call_index=d.index;for(const d of o.delta.tool_calls??[]){const m=u.message.tool_calls?.[d.index];m?.type&&(m?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:m.function?.name,index:d.index,arguments:m.function.arguments,parsed_arguments:m.function.parsed_arguments,arguments_delta:d.function?.arguments??""}):(m?.type,void 0))}}},Hh=function(r,s){if(M(this,rt,"m",Ho).call(this,r).done_tool_calls.has(s))return;const u=r.message.tool_calls?.[s];if(!u)throw new Error("no tool call snapshot");if(!u.type)throw new Error("tool call snapshot missing `type`");if(u.type==="function"){const f=M(this,ea,"f")?.tools?.find(d=>yu(d)&&d.function.name===u.function.name);this._emit("tool_calls.function.arguments.done",{name:u.function.name,index:s,arguments:u.function.arguments,parsed_arguments:ol(f)?f.$parseRaw(u.function.arguments):f?.function.strict?JSON.parse(u.function.arguments):null})}else u.type},Ih=function(r){const s=M(this,rt,"m",Ho).call(this,r);if(r.message.content&&!s.content_done){s.content_done=!0;const o=M(this,rt,"m",Ph).call(this);this._emit("content.done",{content:r.message.content,parsed:o?o.$parseRaw(r.message.content):null})}r.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),r.logprobs?.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),r.logprobs?.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},Io=function(){if(this.ended)throw new se("stream has ended, this shouldn't happen");const r=M(this,$a,"f");if(!r)throw new se("request ended without sending any chunks");return fe(this,$a,void 0),fe(this,cs,[]),Wk(r,M(this,ea,"f"))},Ph=function(){const r=M(this,ea,"f")?.response_format;return Qd(r)?r:null},Dv=function(r){var s,o,u,f;let d=M(this,$a,"f");const{choices:m,...p}=r;d?Object.assign(d,p):d=fe(this,$a,{...p,choices:[]});for(const{delta:_,finish_reason:y,index:b,logprobs:w=null,...E}of r.choices){let R=d.choices[b];if(R||(R=d.choices[b]={finish_reason:y,index:b,message:{},logprobs:w,...E}),w)if(!R.logprobs)R.logprobs=Object.assign({},w);else{const{content:J,refusal:G,...W}=w;Object.assign(R.logprobs,W),J&&((s=R.logprobs).content??(s.content=[]),R.logprobs.content.push(...J)),G&&((o=R.logprobs).refusal??(o.refusal=[]),R.logprobs.refusal.push(...G))}if(y&&(R.finish_reason=y,M(this,ea,"f")&&E0(M(this,ea,"f")))){if(y==="length")throw new r0;if(y==="content_filter")throw new s0}if(Object.assign(R,E),!_)continue;const{content:N,refusal:T,function_call:C,role:x,tool_calls:q,...K}=_;if(Object.assign(R.message,K),T&&(R.message.refusal=(R.message.refusal||"")+T),x&&(R.message.role=x),C&&(R.message.function_call?(C.name&&(R.message.function_call.name=C.name),C.arguments&&((u=R.message.function_call).arguments??(u.arguments=""),R.message.function_call.arguments+=C.arguments)):R.message.function_call=C),N&&(R.message.content=(R.message.content||"")+N,!R.message.refusal&&M(this,rt,"m",Ph).call(this)&&(R.message.parsed=Uv(R.message.content))),q){R.message.tool_calls||(R.message.tool_calls=[]);for(const{index:J,id:G,type:W,function:ue,...Ee}of q){const Ae=(f=R.message.tool_calls)[J]??(f[J]={});Object.assign(Ae,Ee),G&&(Ae.id=G),W&&(Ae.type=W),ue&&(Ae.function??(Ae.function={name:ue.name??"",arguments:""})),ue?.name&&(Ae.function.name=ue.name),ue?.arguments&&(Ae.function.arguments+=ue.arguments,Ik(M(this,ea,"f"),Ae)&&(Ae.function.parsed_arguments=Uv(Ae.function.arguments)))}}}return d},Symbol.asyncIterator)](){const t=[],r=[];let s=!1;return this.on("chunk",o=>{const u=r.shift();u?u.resolve(o):t.push(o)}),this.on("end",()=>{s=!0;for(const o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{s=!0;for(const u of r)u.reject(o);r.length=0}),this.on("error",o=>{s=!0;for(const u of r)u.reject(o);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((u,f)=>r.push({resolve:u,reject:f})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Dn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Wk(a,t){const{id:r,choices:s,created:o,model:u,system_fingerprint:f,...d}=a,m={...d,id:r,choices:s.map(({message:p,finish_reason:_,index:y,logprobs:b,...w})=>{if(!_)throw new se(`missing finish_reason for choice ${y}`);const{content:E=null,function_call:R,tool_calls:N,...T}=p,C=p.role;if(!C)throw new se(`missing role for choice ${y}`);if(R){const{arguments:x,name:q}=R;if(x==null)throw new se(`missing function_call.arguments for choice ${y}`);if(!q)throw new se(`missing function_call.name for choice ${y}`);return{...w,message:{content:E,function_call:{arguments:x,name:q},role:C,refusal:p.refusal??null},finish_reason:_,index:y,logprobs:b}}return N?{...w,index:y,finish_reason:_,logprobs:b,message:{...T,role:C,content:E,refusal:p.refusal??null,tool_calls:N.map((x,q)=>{const{function:K,type:J,id:G,...W}=x,{arguments:ue,name:Ee,...Ae}=K||{};if(G==null)throw new se(`missing choices[${y}].tool_calls[${q}].id
${Po(a)}`);if(J==null)throw new se(`missing choices[${y}].tool_calls[${q}].type
${Po(a)}`);if(Ee==null)throw new se(`missing choices[${y}].tool_calls[${q}].function.name
${Po(a)}`);if(ue==null)throw new se(`missing choices[${y}].tool_calls[${q}].function.arguments
${Po(a)}`);return{...W,id:G,type:J,function:{...Ae,name:Ee,arguments:ue}}})}}:{...w,message:{...T,content:E,role:C,refusal:p.refusal??null},finish_reason:_,index:y,logprobs:b}}),created:o,model:u,object:"chat.completion",...f?{system_fingerprint:f}:{}};return Lk(m,t)}function Po(a){return JSON.stringify(a)}class Su extends tl{static fromReadableStream(t){const r=new Su(null);return r._run(()=>r._fromReadableStream(t)),r}static runTools(t,r,s){const o=new Su(r),u={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(t,r,u)),o}}let em=class extends ae{constructor(){super(...arguments),this.messages=new S0(this._client)}create(t,r){return this._client.post("/chat/completions",{body:t,...r,stream:t.stream??!1})}retrieve(t,r){return this._client.get(Y`/chat/completions/${t}`,r)}update(t,r,s){return this._client.post(Y`/chat/completions/${t}`,{body:r,...s})}list(t={},r){return this._client.getAPIList("/chat/completions",nt,{query:t,...r})}delete(t,r){return this._client.delete(Y`/chat/completions/${t}`,r)}parse(t,r){return Pk(t.tools),this._client.chat.completions.create(t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(s=>Wd(s,t))}runTools(t,r){return t.stream?Su.runTools(this._client,t,r):Zd.runTools(this._client,t,r)}stream(t,r){return tl.createChatCompletion(this._client,t,r)}};em.Messages=S0;class tm extends ae{constructor(){super(...arguments),this.completions=new em(this._client)}}tm.Completions=em;const P0=Symbol("brand.privateNullableHeaders");function*Fk(a){if(!a)return;if(P0 in a){const{values:s,nulls:o}=a;yield*s.entries();for(const u of o)yield[u,null];return}let t=!1,r;a instanceof Headers?r=a.entries():_v(a)?r=a:(t=!0,r=Object.entries(a??{}));for(let s of r){const o=s[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=_v(s[1])?s[1]:[s[1]];let f=!1;for(const d of u)d!==void 0&&(t&&!f&&(f=!0,yield[o,null]),yield[o,d])}}const Z=a=>{const t=new Headers,r=new Set;for(const s of a){const o=new Set;for(const[u,f]of Fk(s)){const d=u.toLowerCase();o.has(d)||(t.delete(u),o.add(d)),f===null?(t.delete(u),r.add(d)):(t.append(u,f),r.delete(d))}}return{[P0]:!0,values:t,nulls:r}};class G0 extends ae{create(t,r){return this._client.post("/audio/speech",{body:t,...r,headers:Z([{Accept:"application/octet-stream"},r?.headers]),__binaryResponse:!0})}}class V0 extends ae{create(t,r){return this._client.post("/audio/transcriptions",_r({body:t,...r,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class K0 extends ae{create(t,r){return this._client.post("/audio/translations",_r({body:t,...r,__metadata:{model:t.model}},this._client))}}class ul extends ae{constructor(){super(...arguments),this.transcriptions=new V0(this._client),this.translations=new K0(this._client),this.speech=new G0(this._client)}}ul.Transcriptions=V0;ul.Translations=K0;ul.Speech=G0;class Y0 extends ae{create(t,r){return this._client.post("/batches",{body:t,...r})}retrieve(t,r){return this._client.get(Y`/batches/${t}`,r)}list(t={},r){return this._client.getAPIList("/batches",nt,{query:t,...r})}cancel(t,r){return this._client.post(Y`/batches/${t}/cancel`,r)}}class J0 extends ae{create(t,r){return this._client.post("/assistants",{body:t,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(Y`/assistants/${t}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,s){return this._client.post(Y`/assistants/${t}`,{body:r,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t={},r){return this._client.getAPIList("/assistants",nt,{query:t,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(t,r){return this._client.delete(Y`/assistants/${t}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}let X0=class extends ae{create(t,r){return this._client.post("/realtime/sessions",{body:t,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};class Q0 extends ae{create(t,r){return this._client.post("/realtime/transcription_sessions",{body:t,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}let Hu=class extends ae{constructor(){super(...arguments),this.sessions=new X0(this._client),this.transcriptionSessions=new Q0(this._client)}};Hu.Sessions=X0;Hu.TranscriptionSessions=Q0;class W0 extends ae{create(t,r){return this._client.post("/chatkit/sessions",{body:t,...r,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}cancel(t,r){return this._client.post(Y`/chatkit/sessions/${t}/cancel`,{...r,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}}let F0=class extends ae{retrieve(t,r){return this._client.get(Y`/chatkit/threads/${t}`,{...r,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}list(t={},r){return this._client.getAPIList("/chatkit/threads",gu,{query:t,...r,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}delete(t,r){return this._client.delete(Y`/chatkit/threads/${t}`,{...r,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}listItems(t,r={},s){return this._client.getAPIList(Y`/chatkit/threads/${t}/items`,gu,{query:r,...s,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},s?.headers])})}};class Iu extends ae{constructor(){super(...arguments),this.sessions=new W0(this._client),this.threads=new F0(this._client)}}Iu.Sessions=W0;Iu.Threads=F0;class Z0 extends ae{create(t,r,s){return this._client.post(Y`/threads/${t}/messages`,{body:r,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(t,r,s){const{thread_id:o}=r;return this._client.get(Y`/threads/${o}/messages/${t}`,{...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(t,r,s){const{thread_id:o,...u}=r;return this._client.post(Y`/threads/${o}/messages/${t}`,{body:u,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t,r={},s){return this._client.getAPIList(Y`/threads/${t}/messages`,nt,{query:r,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(t,r,s){const{thread_id:o}=r;return this._client.delete(Y`/threads/${o}/messages/${t}`,{...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}class ew extends ae{retrieve(t,r,s){const{thread_id:o,run_id:u,...f}=r;return this._client.get(Y`/threads/${o}/runs/${u}/steps/${t}`,{query:f,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t,r,s){const{thread_id:o,...u}=r;return this._client.getAPIList(Y`/threads/${o}/runs/${t}/steps`,nt,{query:u,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}const Zk=a=>{if(typeof Buffer<"u"){const t=Buffer.from(a,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(a),r=t.length,s=new Uint8Array(r);for(let o=0;o<r;o++)s[o]=t.charCodeAt(o);return Array.from(new Float32Array(s.buffer))}};var e2={};const fs=a=>{if(typeof globalThis.process<"u")return e2?.[a]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(a)?.trim()};var bt,pr,Sd,Un,eu,En,gr,Ss,dr,Eu,Ft,tu,nu,Pi,Bi,zi,Mv,$v,Bv,zv,Lv,qv,Hv;class Gi extends Fd{constructor(){super(...arguments),bt.add(this),Sd.set(this,[]),Un.set(this,{}),eu.set(this,{}),En.set(this,void 0),gr.set(this,void 0),Ss.set(this,void 0),dr.set(this,void 0),Eu.set(this,void 0),Ft.set(this,void 0),tu.set(this,void 0),nu.set(this,void 0),Pi.set(this,void 0)}[(Sd=new WeakMap,Un=new WeakMap,eu=new WeakMap,En=new WeakMap,gr=new WeakMap,Ss=new WeakMap,dr=new WeakMap,Eu=new WeakMap,Ft=new WeakMap,tu=new WeakMap,nu=new WeakMap,Pi=new WeakMap,bt=new WeakSet,Symbol.asyncIterator)](){const t=[],r=[];let s=!1;return this.on("event",o=>{const u=r.shift();u?u.resolve(o):t.push(o)}),this.on("end",()=>{s=!0;for(const o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{s=!0;for(const u of r)u.reject(o);r.length=0}),this.on("error",o=>{s=!0;for(const u of r)u.reject(o);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((u,f)=>r.push({resolve:u,reject:f})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const r=new pr;return r._run(()=>r._fromReadableStream(t)),r}async _fromReadableStream(t,r){const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const o=Dn.fromReadableStream(t,this.controller);for await(const u of o)M(this,bt,"m",Bi).call(this,u);if(o.controller.signal?.aborted)throw new mn;return this._addRun(M(this,bt,"m",zi).call(this))}toReadableStream(){return new Dn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,r,s,o){const u=new pr;return u._run(()=>u._runToolAssistantStream(t,r,s,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),u}async _createToolAssistantStream(t,r,s,o){const u=o?.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const f={...s,stream:!0},d=await t.submitToolOutputs(r,f,{...o,signal:this.controller.signal});this._connected();for await(const m of d)M(this,bt,"m",Bi).call(this,m);if(d.controller.signal?.aborted)throw new mn;return this._addRun(M(this,bt,"m",zi).call(this))}static createThreadAssistantStream(t,r,s){const o=new pr;return o._run(()=>o._threadAssistantStream(t,r,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),o}static createAssistantStream(t,r,s,o){const u=new pr;return u._run(()=>u._runAssistantStream(t,r,s,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),u}currentEvent(){return M(this,tu,"f")}currentRun(){return M(this,nu,"f")}currentMessageSnapshot(){return M(this,En,"f")}currentRunStepSnapshot(){return M(this,Pi,"f")}async finalRunSteps(){return await this.done(),Object.values(M(this,Un,"f"))}async finalMessages(){return await this.done(),Object.values(M(this,eu,"f"))}async finalRun(){if(await this.done(),!M(this,gr,"f"))throw Error("Final run was not received.");return M(this,gr,"f")}async _createThreadAssistantStream(t,r,s){const o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const u={...r,stream:!0},f=await t.createAndRun(u,{...s,signal:this.controller.signal});this._connected();for await(const d of f)M(this,bt,"m",Bi).call(this,d);if(f.controller.signal?.aborted)throw new mn;return this._addRun(M(this,bt,"m",zi).call(this))}async _createAssistantStream(t,r,s,o){const u=o?.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const f={...s,stream:!0},d=await t.create(r,f,{...o,signal:this.controller.signal});this._connected();for await(const m of d)M(this,bt,"m",Bi).call(this,m);if(d.controller.signal?.aborted)throw new mn;return this._addRun(M(this,bt,"m",zi).call(this))}static accumulateDelta(t,r){for(const[s,o]of Object.entries(r)){if(!t.hasOwnProperty(s)){t[s]=o;continue}let u=t[s];if(u==null){t[s]=o;continue}if(s==="index"||s==="type"){t[s]=o;continue}if(typeof u=="string"&&typeof o=="string")u+=o;else if(typeof u=="number"&&typeof o=="number")u+=o;else if($h(u)&&$h(o))u=this.accumulateDelta(u,o);else if(Array.isArray(u)&&Array.isArray(o)){if(u.every(f=>typeof f=="string"||typeof f=="number")){u.push(...o);continue}for(const f of o){if(!$h(f))throw new Error(`Expected array delta entry to be an object but got: ${f}`);const d=f.index;if(d==null)throw console.error(f),new Error("Expected array delta entry to have an `index` property");if(typeof d!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${d}`);const m=u[d];m==null?u.push(f):u[d]=this.accumulateDelta(m,f)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${o}, accValue: ${u}`);t[s]=u}return t}_addRun(t){return t}async _threadAssistantStream(t,r,s){return await this._createThreadAssistantStream(r,t,s)}async _runAssistantStream(t,r,s,o){return await this._createAssistantStream(r,t,s,o)}async _runToolAssistantStream(t,r,s,o){return await this._createToolAssistantStream(r,t,s,o)}}pr=Gi,Bi=function(t){if(!this.ended)switch(fe(this,tu,t),M(this,bt,"m",Bv).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":M(this,bt,"m",Hv).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":M(this,bt,"m",$v).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":M(this,bt,"m",Mv).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},zi=function(){if(this.ended)throw new se("stream has ended, this shouldn't happen");if(!M(this,gr,"f"))throw Error("Final run has not been received");return M(this,gr,"f")},Mv=function(t){const[r,s]=M(this,bt,"m",Lv).call(this,t,M(this,En,"f"));fe(this,En,r),M(this,eu,"f")[r.id]=r;for(const o of s){const u=r.content[o.index];u?.type=="text"&&this._emit("textCreated",u.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content)for(const o of t.data.delta.content){if(o.type=="text"&&o.text){let u=o.text,f=r.content[o.index];if(f&&f.type=="text")this._emit("textDelta",u,f.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(o.index!=M(this,Ss,"f")){if(M(this,dr,"f"))switch(M(this,dr,"f").type){case"text":this._emit("textDone",M(this,dr,"f").text,M(this,En,"f"));break;case"image_file":this._emit("imageFileDone",M(this,dr,"f").image_file,M(this,En,"f"));break}fe(this,Ss,o.index)}fe(this,dr,r.content[o.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(M(this,Ss,"f")!==void 0){const o=t.data.content[M(this,Ss,"f")];if(o)switch(o.type){case"image_file":this._emit("imageFileDone",o.image_file,M(this,En,"f"));break;case"text":this._emit("textDone",o.text,M(this,En,"f"));break}}M(this,En,"f")&&this._emit("messageDone",t.data),fe(this,En,void 0)}},$v=function(t){const r=M(this,bt,"m",zv).call(this,t);switch(fe(this,Pi,r),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const s=t.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const u of s.step_details.tool_calls)u.index==M(this,Eu,"f")?this._emit("toolCallDelta",u,r.step_details.tool_calls[u.index]):(M(this,Ft,"f")&&this._emit("toolCallDone",M(this,Ft,"f")),fe(this,Eu,u.index),fe(this,Ft,r.step_details.tool_calls[u.index]),M(this,Ft,"f")&&this._emit("toolCallCreated",M(this,Ft,"f")));this._emit("runStepDelta",t.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":fe(this,Pi,void 0),t.data.step_details.type=="tool_calls"&&M(this,Ft,"f")&&(this._emit("toolCallDone",M(this,Ft,"f")),fe(this,Ft,void 0)),this._emit("runStepDone",t.data,r);break}},Bv=function(t){M(this,Sd,"f").push(t),this._emit("event",t)},zv=function(t){switch(t.event){case"thread.run.step.created":return M(this,Un,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let r=M(this,Un,"f")[t.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let s=t.data;if(s.delta){const o=pr.accumulateDelta(r,s.delta);M(this,Un,"f")[t.data.id]=o}return M(this,Un,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":M(this,Un,"f")[t.data.id]=t.data;break}if(M(this,Un,"f")[t.data.id])return M(this,Un,"f")[t.data.id];throw new Error("No snapshot available")},Lv=function(t,r){let s=[];switch(t.event){case"thread.message.created":return[t.data,s];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=t.data;if(o.delta.content)for(const u of o.delta.content)if(u.index in r.content){let f=r.content[u.index];r.content[u.index]=M(this,bt,"m",qv).call(this,u,f)}else r.content[u.index]=u,s.push(u);return[r,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},qv=function(t,r){return pr.accumulateDelta(r,t)},Hv=function(t){switch(fe(this,nu,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":fe(this,gr,t.data),M(this,Ft,"f")&&(this._emit("toolCallDone",M(this,Ft,"f")),fe(this,Ft,void 0));break}};let nm=class extends ae{constructor(){super(...arguments),this.steps=new ew(this._client)}create(t,r,s){const{include:o,...u}=r;return this._client.post(Y`/threads/${t}/runs`,{query:{include:o},body:u,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers]),stream:r.stream??!1})}retrieve(t,r,s){const{thread_id:o}=r;return this._client.get(Y`/threads/${o}/runs/${t}`,{...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(t,r,s){const{thread_id:o,...u}=r;return this._client.post(Y`/threads/${o}/runs/${t}`,{body:u,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t,r={},s){return this._client.getAPIList(Y`/threads/${t}/runs`,nt,{query:r,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}cancel(t,r,s){const{thread_id:o}=r;return this._client.post(Y`/threads/${o}/runs/${t}/cancel`,{...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(t,r,s){const o=await this.create(t,r,s);return await this.poll(o.id,{thread_id:t},s)}createAndStream(t,r,s){return Gi.createAssistantStream(t,this._client.beta.threads.runs,r,s)}async poll(t,r,s){const o=Z([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:u,response:f}=await this.retrieve(t,r,{...s,headers:{...s?.headers,...o}}).withResponse();switch(u.status){case"queued":case"in_progress":case"cancelling":let d=5e3;if(s?.pollIntervalMs)d=s.pollIntervalMs;else{const m=f.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(d=p)}}await ll(d);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return u}}}stream(t,r,s){return Gi.createAssistantStream(t,this._client.beta.threads.runs,r,s)}submitToolOutputs(t,r,s){const{thread_id:o,...u}=r;return this._client.post(Y`/threads/${o}/runs/${t}/submit_tool_outputs`,{body:u,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers]),stream:r.stream??!1})}async submitToolOutputsAndPoll(t,r,s){const o=await this.submitToolOutputs(t,r,s);return await this.poll(o.id,r,s)}submitToolOutputsStream(t,r,s){return Gi.createToolAssistantStream(t,this._client.beta.threads.runs,r,s)}};nm.Steps=ew;class Pu extends ae{constructor(){super(...arguments),this.runs=new nm(this._client),this.messages=new Z0(this._client)}create(t={},r){return this._client.post("/threads",{body:t,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(Y`/threads/${t}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,s){return this._client.post(Y`/threads/${t}`,{body:r,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(t,r){return this._client.delete(Y`/threads/${t}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}createAndRun(t,r){return this._client.post("/threads/runs",{body:t,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:t.stream??!1})}async createAndRunPoll(t,r){const s=await this.createAndRun(t,r);return await this.runs.poll(s.id,{thread_id:s.thread_id},r)}createAndRunStream(t,r){return Gi.createThreadAssistantStream(t,this._client.beta.threads,r)}}Pu.Runs=nm;Pu.Messages=Z0;class xs extends ae{constructor(){super(...arguments),this.realtime=new Hu(this._client),this.chatkit=new Iu(this._client),this.assistants=new J0(this._client),this.threads=new Pu(this._client)}}xs.Realtime=Hu;xs.ChatKit=Iu;xs.Assistants=J0;xs.Threads=Pu;class tw extends ae{create(t,r){return this._client.post("/completions",{body:t,...r,stream:t.stream??!1})}}class nw extends ae{retrieve(t,r,s){const{container_id:o}=r;return this._client.get(Y`/containers/${o}/files/${t}/content`,{...s,headers:Z([{Accept:"application/binary"},s?.headers]),__binaryResponse:!0})}}let am=class extends ae{constructor(){super(...arguments),this.content=new nw(this._client)}create(t,r,s){return this._client.post(Y`/containers/${t}/files`,_r({body:r,...s},this._client))}retrieve(t,r,s){const{container_id:o}=r;return this._client.get(Y`/containers/${o}/files/${t}`,s)}list(t,r={},s){return this._client.getAPIList(Y`/containers/${t}/files`,nt,{query:r,...s})}delete(t,r,s){const{container_id:o}=r;return this._client.delete(Y`/containers/${o}/files/${t}`,{...s,headers:Z([{Accept:"*/*"},s?.headers])})}};am.Content=nw;class rm extends ae{constructor(){super(...arguments),this.files=new am(this._client)}create(t,r){return this._client.post("/containers",{body:t,...r})}retrieve(t,r){return this._client.get(Y`/containers/${t}`,r)}list(t={},r){return this._client.getAPIList("/containers",nt,{query:t,...r})}delete(t,r){return this._client.delete(Y`/containers/${t}`,{...r,headers:Z([{Accept:"*/*"},r?.headers])})}}rm.Files=am;class aw extends ae{create(t,r,s){const{include:o,...u}=r;return this._client.post(Y`/conversations/${t}/items`,{query:{include:o},body:u,...s})}retrieve(t,r,s){const{conversation_id:o,...u}=r;return this._client.get(Y`/conversations/${o}/items/${t}`,{query:u,...s})}list(t,r={},s){return this._client.getAPIList(Y`/conversations/${t}/items`,gu,{query:r,...s})}delete(t,r,s){const{conversation_id:o}=r;return this._client.delete(Y`/conversations/${o}/items/${t}`,s)}}class sm extends ae{constructor(){super(...arguments),this.items=new aw(this._client)}create(t={},r){return this._client.post("/conversations",{body:t,...r})}retrieve(t,r){return this._client.get(Y`/conversations/${t}`,r)}update(t,r,s){return this._client.post(Y`/conversations/${t}`,{body:r,...s})}delete(t,r){return this._client.delete(Y`/conversations/${t}`,r)}}sm.Items=aw;class rw extends ae{create(t,r){const s=!!t.encoding_format;let o=s?t.encoding_format:"base64";s&&vt(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const u=this._client.post("/embeddings",{body:{...t,encoding_format:o},...r});return s?u:(vt(this._client).debug("embeddings/decoding base64 embeddings from base64"),u._thenUnwrap(f=>(f&&f.data&&f.data.forEach(d=>{const m=d.embedding;d.embedding=Zk(m)}),f)))}}class sw extends ae{retrieve(t,r,s){const{eval_id:o,run_id:u}=r;return this._client.get(Y`/evals/${o}/runs/${u}/output_items/${t}`,s)}list(t,r,s){const{eval_id:o,...u}=r;return this._client.getAPIList(Y`/evals/${o}/runs/${t}/output_items`,nt,{query:u,...s})}}class im extends ae{constructor(){super(...arguments),this.outputItems=new sw(this._client)}create(t,r,s){return this._client.post(Y`/evals/${t}/runs`,{body:r,...s})}retrieve(t,r,s){const{eval_id:o}=r;return this._client.get(Y`/evals/${o}/runs/${t}`,s)}list(t,r={},s){return this._client.getAPIList(Y`/evals/${t}/runs`,nt,{query:r,...s})}delete(t,r,s){const{eval_id:o}=r;return this._client.delete(Y`/evals/${o}/runs/${t}`,s)}cancel(t,r,s){const{eval_id:o}=r;return this._client.post(Y`/evals/${o}/runs/${t}`,s)}}im.OutputItems=sw;class lm extends ae{constructor(){super(...arguments),this.runs=new im(this._client)}create(t,r){return this._client.post("/evals",{body:t,...r})}retrieve(t,r){return this._client.get(Y`/evals/${t}`,r)}update(t,r,s){return this._client.post(Y`/evals/${t}`,{body:r,...s})}list(t={},r){return this._client.getAPIList("/evals",nt,{query:t,...r})}delete(t,r){return this._client.delete(Y`/evals/${t}`,r)}}lm.Runs=im;let iw=class extends ae{create(t,r){return this._client.post("/files",_r({body:t,...r},this._client))}retrieve(t,r){return this._client.get(Y`/files/${t}`,r)}list(t={},r){return this._client.getAPIList("/files",nt,{query:t,...r})}delete(t,r){return this._client.delete(Y`/files/${t}`,r)}content(t,r){return this._client.get(Y`/files/${t}/content`,{...r,headers:Z([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:r=5e3,maxWait:s=1800*1e3}={}){const o=new Set(["processed","error","deleted"]),u=Date.now();let f=await this.retrieve(t);for(;!f.status||!o.has(f.status);)if(await ll(r),f=await this.retrieve(t),Date.now()-u>s)throw new Kd({message:`Giving up on waiting for file ${t} to finish processing after ${s} milliseconds.`});return f}};class lw extends ae{}let ow=class extends ae{run(t,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...r})}validate(t,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...r})}};class om extends ae{constructor(){super(...arguments),this.graders=new ow(this._client)}}om.Graders=ow;class uw extends ae{create(t,r,s){return this._client.getAPIList(Y`/fine_tuning/checkpoints/${t}/permissions`,qu,{body:r,method:"post",...s})}retrieve(t,r={},s){return this._client.get(Y`/fine_tuning/checkpoints/${t}/permissions`,{query:r,...s})}delete(t,r,s){const{fine_tuned_model_checkpoint:o}=r;return this._client.delete(Y`/fine_tuning/checkpoints/${o}/permissions/${t}`,s)}}let um=class extends ae{constructor(){super(...arguments),this.permissions=new uw(this._client)}};um.Permissions=uw;class cw extends ae{list(t,r={},s){return this._client.getAPIList(Y`/fine_tuning/jobs/${t}/checkpoints`,nt,{query:r,...s})}}class cm extends ae{constructor(){super(...arguments),this.checkpoints=new cw(this._client)}create(t,r){return this._client.post("/fine_tuning/jobs",{body:t,...r})}retrieve(t,r){return this._client.get(Y`/fine_tuning/jobs/${t}`,r)}list(t={},r){return this._client.getAPIList("/fine_tuning/jobs",nt,{query:t,...r})}cancel(t,r){return this._client.post(Y`/fine_tuning/jobs/${t}/cancel`,r)}listEvents(t,r={},s){return this._client.getAPIList(Y`/fine_tuning/jobs/${t}/events`,nt,{query:r,...s})}pause(t,r){return this._client.post(Y`/fine_tuning/jobs/${t}/pause`,r)}resume(t,r){return this._client.post(Y`/fine_tuning/jobs/${t}/resume`,r)}}cm.Checkpoints=cw;class ks extends ae{constructor(){super(...arguments),this.methods=new lw(this._client),this.jobs=new cm(this._client),this.checkpoints=new um(this._client),this.alpha=new om(this._client)}}ks.Methods=lw;ks.Jobs=cm;ks.Checkpoints=um;ks.Alpha=om;class fw extends ae{}class fm extends ae{constructor(){super(...arguments),this.graderModels=new fw(this._client)}}fm.GraderModels=fw;class hw extends ae{createVariation(t,r){return this._client.post("/images/variations",_r({body:t,...r},this._client))}edit(t,r){return this._client.post("/images/edits",_r({body:t,...r,stream:t.stream??!1},this._client))}generate(t,r){return this._client.post("/images/generations",{body:t,...r,stream:t.stream??!1})}}class dw extends ae{retrieve(t,r){return this._client.get(Y`/models/${t}`,r)}list(t){return this._client.getAPIList("/models",qu,t)}delete(t,r){return this._client.delete(Y`/models/${t}`,r)}}class mw extends ae{create(t,r){return this._client.post("/moderations",{body:t,...r})}}class pw extends ae{accept(t,r,s){return this._client.post(Y`/realtime/calls/${t}/accept`,{body:r,...s,headers:Z([{Accept:"*/*"},s?.headers])})}hangup(t,r){return this._client.post(Y`/realtime/calls/${t}/hangup`,{...r,headers:Z([{Accept:"*/*"},r?.headers])})}refer(t,r,s){return this._client.post(Y`/realtime/calls/${t}/refer`,{body:r,...s,headers:Z([{Accept:"*/*"},s?.headers])})}reject(t,r={},s){return this._client.post(Y`/realtime/calls/${t}/reject`,{body:r,...s,headers:Z([{Accept:"*/*"},s?.headers])})}}class gw extends ae{create(t,r){return this._client.post("/realtime/client_secrets",{body:t,...r})}}class Gu extends ae{constructor(){super(...arguments),this.clientSecrets=new gw(this._client),this.calls=new pw(this._client)}}Gu.ClientSecrets=gw;Gu.Calls=pw;function t2(a,t){return!t||!a2(t)?{...a,output_parsed:null,output:a.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(s=>({...s,parsed:null}))}:r)}:yw(a,t)}function yw(a,t){const r=a.output.map(o=>{if(o.type==="function_call")return{...o,parsed_arguments:i2(t,o)};if(o.type==="message"){const u=o.content.map(f=>f.type==="output_text"?{...f,parsed:n2(t,f.text)}:f);return{...o,content:u}}return o}),s=Object.assign({},a,{output:r});return Object.getOwnPropertyDescriptor(a,"output_text")||Ed(s),Object.defineProperty(s,"output_parsed",{enumerable:!0,get(){for(const o of s.output)if(o.type==="message"){for(const u of o.content)if(u.type==="output_text"&&u.parsed!==null)return u.parsed}return null}}),s}function n2(a,t){return a.text?.format?.type!=="json_schema"?null:"$parseRaw"in a.text?.format?(a.text?.format).$parseRaw(t):JSON.parse(t)}function a2(a){return!!Qd(a.text?.format)}function r2(a){return a?.$brand==="auto-parseable-tool"}function s2(a,t){return a.find(r=>r.type==="function"&&r.name===t)}function i2(a,t){const r=s2(a.tools??[],t.name);return{...t,...t,parsed_arguments:r2(r)?r.$parseRaw(t.arguments):r?.strict?JSON.parse(t.arguments):null}}function Ed(a){const t=[];for(const r of a.output)if(r.type==="message")for(const s of r.content)s.type==="output_text"&&t.push(s.text);a.output_text=t.join("")}var hs,Go,Ba,Vo,Iv,Pv,Gv,Vv;class hm extends Fd{constructor(t){super(),hs.add(this),Go.set(this,void 0),Ba.set(this,void 0),Vo.set(this,void 0),fe(this,Go,t)}static createResponse(t,r,s){const o=new hm(r);return o._run(()=>o._createOrRetrieveResponse(t,r,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createOrRetrieveResponse(t,r,s){const o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),M(this,hs,"m",Iv).call(this);let u,f=null;"response_id"in r?(u=await t.responses.retrieve(r.response_id,{stream:!0},{...s,signal:this.controller.signal,stream:!0}),f=r.starting_after??null):u=await t.responses.create({...r,stream:!0},{...s,signal:this.controller.signal}),this._connected();for await(const d of u)M(this,hs,"m",Pv).call(this,d,f);if(u.controller.signal?.aborted)throw new mn;return M(this,hs,"m",Gv).call(this)}[(Go=new WeakMap,Ba=new WeakMap,Vo=new WeakMap,hs=new WeakSet,Iv=function(){this.ended||fe(this,Ba,void 0)},Pv=function(r,s){if(this.ended)return;const o=(f,d)=>{(s==null||d.sequence_number>s)&&this._emit(f,d)},u=M(this,hs,"m",Vv).call(this,r);switch(o("event",r),r.type){case"response.output_text.delta":{const f=u.output[r.output_index];if(!f)throw new se(`missing output at index ${r.output_index}`);if(f.type==="message"){const d=f.content[r.content_index];if(!d)throw new se(`missing content at index ${r.content_index}`);if(d.type!=="output_text")throw new se(`expected content to be 'output_text', got ${d.type}`);o("response.output_text.delta",{...r,snapshot:d.text})}break}case"response.function_call_arguments.delta":{const f=u.output[r.output_index];if(!f)throw new se(`missing output at index ${r.output_index}`);f.type==="function_call"&&o("response.function_call_arguments.delta",{...r,snapshot:f.arguments});break}default:o(r.type,r);break}},Gv=function(){if(this.ended)throw new se("stream has ended, this shouldn't happen");const r=M(this,Ba,"f");if(!r)throw new se("request ended without sending any events");fe(this,Ba,void 0);const s=l2(r,M(this,Go,"f"));return fe(this,Vo,s),s},Vv=function(r){let s=M(this,Ba,"f");if(!s){if(r.type!=="response.created")throw new se(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return s=fe(this,Ba,r.response),s}switch(r.type){case"response.output_item.added":{s.output.push(r.item);break}case"response.content_part.added":{const o=s.output[r.output_index];if(!o)throw new se(`missing output at index ${r.output_index}`);const u=o.type,f=r.part;u==="message"&&f.type!=="reasoning_text"?o.content.push(f):u==="reasoning"&&f.type==="reasoning_text"&&(o.content||(o.content=[]),o.content.push(f));break}case"response.output_text.delta":{const o=s.output[r.output_index];if(!o)throw new se(`missing output at index ${r.output_index}`);if(o.type==="message"){const u=o.content[r.content_index];if(!u)throw new se(`missing content at index ${r.content_index}`);if(u.type!=="output_text")throw new se(`expected content to be 'output_text', got ${u.type}`);u.text+=r.delta}break}case"response.function_call_arguments.delta":{const o=s.output[r.output_index];if(!o)throw new se(`missing output at index ${r.output_index}`);o.type==="function_call"&&(o.arguments+=r.delta);break}case"response.reasoning_text.delta":{const o=s.output[r.output_index];if(!o)throw new se(`missing output at index ${r.output_index}`);if(o.type==="reasoning"){const u=o.content?.[r.content_index];if(!u)throw new se(`missing content at index ${r.content_index}`);if(u.type!=="reasoning_text")throw new se(`expected content to be 'reasoning_text', got ${u.type}`);u.text+=r.delta}break}case"response.completed":{fe(this,Ba,r.response);break}}return s},Symbol.asyncIterator)](){const t=[],r=[];let s=!1;return this.on("event",o=>{const u=r.shift();u?u.resolve(o):t.push(o)}),this.on("end",()=>{s=!0;for(const o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{s=!0;for(const u of r)u.reject(o);r.length=0}),this.on("error",o=>{s=!0;for(const u of r)u.reject(o);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((u,f)=>r.push({resolve:u,reject:f})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=M(this,Vo,"f");if(!t)throw new se("stream ended without producing a ChatCompletion");return t}}function l2(a,t){return t2(a,t)}class _w extends ae{list(t,r={},s){return this._client.getAPIList(Y`/responses/${t}/input_items`,nt,{query:r,...s})}}class vw extends ae{count(t={},r){return this._client.post("/responses/input_tokens",{body:t,...r})}}class Vu extends ae{constructor(){super(...arguments),this.inputItems=new _w(this._client),this.inputTokens=new vw(this._client)}create(t,r){return this._client.post("/responses",{body:t,...r,stream:t.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&Ed(s),s))}retrieve(t,r={},s){return this._client.get(Y`/responses/${t}`,{query:r,...s,stream:r?.stream??!1})._thenUnwrap(o=>("object"in o&&o.object==="response"&&Ed(o),o))}delete(t,r){return this._client.delete(Y`/responses/${t}`,{...r,headers:Z([{Accept:"*/*"},r?.headers])})}parse(t,r){return this._client.responses.create(t,r)._thenUnwrap(s=>yw(s,t))}stream(t,r){return hm.createResponse(this._client,t,r)}cancel(t,r){return this._client.post(Y`/responses/${t}/cancel`,r)}compact(t,r){return this._client.post("/responses/compact",{body:t,...r})}}Vu.InputItems=_w;Vu.InputTokens=vw;class bw extends ae{create(t,r,s){return this._client.post(Y`/uploads/${t}/parts`,_r({body:r,...s},this._client))}}class dm extends ae{constructor(){super(...arguments),this.parts=new bw(this._client)}create(t,r){return this._client.post("/uploads",{body:t,...r})}cancel(t,r){return this._client.post(Y`/uploads/${t}/cancel`,r)}complete(t,r,s){return this._client.post(Y`/uploads/${t}/complete`,{body:r,...s})}}dm.Parts=bw;const o2=async a=>{const t=await Promise.allSettled(a),r=t.filter(o=>o.status==="rejected");if(r.length){for(const o of r)console.error(o.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const s=[];for(const o of t)o.status==="fulfilled"&&s.push(o.value);return s};class ww extends ae{create(t,r,s){return this._client.post(Y`/vector_stores/${t}/file_batches`,{body:r,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(t,r,s){const{vector_store_id:o}=r;return this._client.get(Y`/vector_stores/${o}/file_batches/${t}`,{...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}cancel(t,r,s){const{vector_store_id:o}=r;return this._client.post(Y`/vector_stores/${o}/file_batches/${t}/cancel`,{...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(t,r,s){const o=await this.create(t,r);return await this.poll(t,o.id,s)}listFiles(t,r,s){const{vector_store_id:o,...u}=r;return this._client.getAPIList(Y`/vector_stores/${o}/file_batches/${t}/files`,nt,{query:u,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async poll(t,r,s){const o=Z([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:u,response:f}=await this.retrieve(r,{vector_store_id:t},{...s,headers:o}).withResponse();switch(u.status){case"in_progress":let d=5e3;if(s?.pollIntervalMs)d=s.pollIntervalMs;else{const m=f.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(d=p)}}await ll(d);break;case"failed":case"cancelled":case"completed":return u}}}async uploadAndPoll(t,{files:r,fileIds:s=[]},o){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const u=o?.maxConcurrency??5,f=Math.min(u,r.length),d=this._client,m=r.values(),p=[...s];async function _(b){for(let w of b){const E=await d.files.create({file:w,purpose:"assistants"},o);p.push(E.id)}}const y=Array(f).fill(m).map(_);return await o2(y),await this.createAndPoll(t,{file_ids:p})}}class Sw extends ae{create(t,r,s){return this._client.post(Y`/vector_stores/${t}/files`,{body:r,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(t,r,s){const{vector_store_id:o}=r;return this._client.get(Y`/vector_stores/${o}/files/${t}`,{...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(t,r,s){const{vector_store_id:o,...u}=r;return this._client.post(Y`/vector_stores/${o}/files/${t}`,{body:u,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t,r={},s){return this._client.getAPIList(Y`/vector_stores/${t}/files`,nt,{query:r,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(t,r,s){const{vector_store_id:o}=r;return this._client.delete(Y`/vector_stores/${o}/files/${t}`,{...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(t,r,s){const o=await this.create(t,r,s);return await this.poll(t,o.id,s)}async poll(t,r,s){const o=Z([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const u=await this.retrieve(r,{vector_store_id:t},{...s,headers:o}).withResponse(),f=u.data;switch(f.status){case"in_progress":let d=5e3;if(s?.pollIntervalMs)d=s.pollIntervalMs;else{const m=u.response.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(d=p)}}await ll(d);break;case"failed":case"completed":return f}}}async upload(t,r,s){const o=await this._client.files.create({file:r,purpose:"assistants"},s);return this.create(t,{file_id:o.id},s)}async uploadAndPoll(t,r,s){const o=await this.upload(t,r,s);return await this.poll(t,o.id,s)}content(t,r,s){const{vector_store_id:o}=r;return this._client.getAPIList(Y`/vector_stores/${o}/files/${t}/content`,qu,{...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}class Ku extends ae{constructor(){super(...arguments),this.files=new Sw(this._client),this.fileBatches=new ww(this._client)}create(t,r){return this._client.post("/vector_stores",{body:t,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(Y`/vector_stores/${t}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,s){return this._client.post(Y`/vector_stores/${t}`,{body:r,...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t={},r){return this._client.getAPIList("/vector_stores",nt,{query:t,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(t,r){return this._client.delete(Y`/vector_stores/${t}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}search(t,r,s){return this._client.getAPIList(Y`/vector_stores/${t}/search`,qu,{body:r,method:"post",...s,headers:Z([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}Ku.Files=Sw;Ku.FileBatches=ww;class Ew extends ae{create(t,r){return this._client.post("/videos",kv({body:t,...r},this._client))}retrieve(t,r){return this._client.get(Y`/videos/${t}`,r)}list(t={},r){return this._client.getAPIList("/videos",gu,{query:t,...r})}delete(t,r){return this._client.delete(Y`/videos/${t}`,r)}downloadContent(t,r={},s){return this._client.get(Y`/videos/${t}/content`,{query:r,...s,headers:Z([{Accept:"application/binary"},s?.headers]),__binaryResponse:!0})}remix(t,r,s){return this._client.post(Y`/videos/${t}/remix`,kv({body:r,...s},this._client))}}var vs,Tw,au;class Aw extends ae{constructor(){super(...arguments),vs.add(this)}async unwrap(t,r,s=this._client.webhookSecret,o=300){return await this.verifySignature(t,r,s,o),JSON.parse(t)}async verifySignature(t,r,s=this._client.webhookSecret,o=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");M(this,vs,"m",Tw).call(this,s);const u=Z([r]).values,f=M(this,vs,"m",au).call(this,u,"webhook-signature"),d=M(this,vs,"m",au).call(this,u,"webhook-timestamp"),m=M(this,vs,"m",au).call(this,u,"webhook-id"),p=parseInt(d,10);if(isNaN(p))throw new ki("Invalid webhook timestamp format");const _=Math.floor(Date.now()/1e3);if(_-p>o)throw new ki("Webhook timestamp is too old");if(p>_+o)throw new ki("Webhook timestamp is too new");const y=f.split(" ").map(R=>R.startsWith("v1,")?R.substring(3):R),b=s.startsWith("whsec_")?Buffer.from(s.replace("whsec_",""),"base64"):Buffer.from(s,"utf-8"),w=m?`${m}.${d}.${t}`:`${d}.${t}`,E=await crypto.subtle.importKey("raw",b,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const R of y)try{const N=Buffer.from(R,"base64");if(await crypto.subtle.verify("HMAC",E,N,new TextEncoder().encode(w)))return}catch{continue}throw new ki("The given webhook signature does not match the expected signature")}}vs=new WeakSet,Tw=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},au=function(t,r){if(!t)throw new Error("Headers are required");const s=t.get(r);if(s==null)throw new Error(`Missing required header: ${r}`);return s};var Td,mm,ru,Rw;class ye{constructor({baseURL:t=fs("OPENAI_BASE_URL"),apiKey:r=fs("OPENAI_API_KEY"),organization:s=fs("OPENAI_ORG_ID")??null,project:o=fs("OPENAI_PROJECT_ID")??null,webhookSecret:u=fs("OPENAI_WEBHOOK_SECRET")??null,...f}={}){if(Td.add(this),ru.set(this,void 0),this.completions=new tw(this),this.chat=new tm(this),this.embeddings=new rw(this),this.files=new iw(this),this.images=new hw(this),this.audio=new ul(this),this.moderations=new mw(this),this.models=new dw(this),this.fineTuning=new ks(this),this.graders=new fm(this),this.vectorStores=new Ku(this),this.webhooks=new Aw(this),this.beta=new xs(this),this.batches=new Y0(this),this.uploads=new dm(this),this.responses=new Vu(this),this.realtime=new Gu(this),this.conversations=new sm(this),this.evals=new lm(this),this.containers=new rm(this),this.videos=new Ew(this),r===void 0)throw new se("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const d={apiKey:r,organization:s,project:o,webhookSecret:u,...f,baseURL:t||"https://api.openai.com/v1"};if(!d.dangerouslyAllowBrowser&&uk())throw new se(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=d.baseURL,this.timeout=d.timeout??mm.DEFAULT_TIMEOUT,this.logger=d.logger??console;const m="warn";this.logLevel=m,this.logLevel=Cv(d.logLevel,"ClientOptions.logLevel",this)??Cv(fs("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??m,this.fetchOptions=d.fetchOptions,this.maxRetries=d.maxRetries??2,this.fetch=d.fetch??mk(),fe(this,ru,gk),this._options=d,this.apiKey=typeof r=="string"?r:"Missing Key",this.organization=s,this.project=o,this.webhookSecret=u}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){}async authHeaders(t){return Z([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return Sk(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${ys}`}defaultIdempotencyKey(){return`stainless-node-retry-${Xb()}`}makeStatusError(t,r,s,o){return wt.generate(t,r,s,o)}async _callApiKey(){const t=this._options.apiKey;if(typeof t!="function")return!1;let r;try{r=await t()}catch(s){throw s instanceof se?s:new se(`Failed to get token from 'apiKey' function: ${s.message}`,{cause:s})}if(typeof r!="string"||!r)throw new se(`Expected 'apiKey' function argument to return a string but it returned ${r}`);return this.apiKey=r,!0}buildURL(t,r,s){const o=!M(this,Td,"m",Rw).call(this)&&s||this.baseURL,u=rk(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),f=this.defaultQuery();return sk(f)||(r={...f,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(u.search=this.stringifyQuery(r)),u.toString()}async prepareOptions(t){await this._callApiKey()}async prepareRequest(t,{url:r,options:s}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,s){return this.request(Promise.resolve(s).then(o=>({method:t,path:r,...o})))}request(t,r=null){return new Lu(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,s){const o=await t,u=o.maxRetries??this.maxRetries;r==null&&(r=u),await this.prepareOptions(o);const{req:f,url:d,timeout:m}=await this.buildRequest(o,{retryCount:u-r});await this.prepareRequest(f,{url:d,options:o});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=s===void 0?"":`, retryOf: ${s}`,y=Date.now();if(vt(this).debug(`[${p}] sending request`,cr({retryOfRequestLogID:s,method:o.method,url:d,options:o,headers:f.headers})),o.signal?.aborted)throw new mn;const b=new AbortController,w=await this.fetchWithTimeout(d,f,m,b).catch(hd),E=Date.now();if(w instanceof globalThis.Error){const T=`retrying, ${r} attempts remaining`;if(o.signal?.aborted)throw new mn;const C=fd(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(r)return vt(this).info(`[${p}] connection ${C?"timed out":"failed"} - ${T}`),vt(this).debug(`[${p}] connection ${C?"timed out":"failed"} (${T})`,cr({retryOfRequestLogID:s,url:d,durationMs:E-y,message:w.message})),this.retryRequest(o,r,s??p);throw vt(this).info(`[${p}] connection ${C?"timed out":"failed"} - error; no more retries left`),vt(this).debug(`[${p}] connection ${C?"timed out":"failed"} (error; no more retries left)`,cr({retryOfRequestLogID:s,url:d,durationMs:E-y,message:w.message})),C?new Kd:new Bu({cause:w})}const R=[...w.headers.entries()].filter(([T])=>T==="x-request-id").map(([T,C])=>", "+T+": "+JSON.stringify(C)).join(""),N=`[${p}${_}${R}] ${f.method} ${d} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${E-y}ms`;if(!w.ok){const T=await this.shouldRetry(w);if(r&&T){const G=`retrying, ${r} attempts remaining`;return await pk(w.body),vt(this).info(`${N} - ${G}`),vt(this).debug(`[${p}] response error (${G})`,cr({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,durationMs:E-y})),this.retryRequest(o,r,s??p,w.headers)}const C=T?"error; no more retries left":"error; not retryable";vt(this).info(`${N} - ${C}`);const x=await w.text().catch(G=>hd(G).message),q=ok(x),K=q?void 0:x;throw vt(this).debug(`[${p}] response error (${C})`,cr({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,message:K,durationMs:Date.now()-y})),this.makeStatusError(w.status,q,K,w.headers)}return vt(this).info(N),vt(this).debug(`[${p}] response start`,cr({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,durationMs:E-y})),{response:w,options:o,controller:b,requestLogID:p,retryOfRequestLogID:s,startTime:y}}getAPIList(t,r,s){return this.requestAPIList(r,{method:"get",path:t,...s})}requestAPIList(t,r){const s=this.makeRequest(r,null,void 0);return new Nk(this,s,t)}async fetchWithTimeout(t,r,s,o){const{signal:u,method:f,...d}=r||{};u&&u.addEventListener("abort",()=>o.abort());const m=setTimeout(()=>o.abort(),s),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,_={signal:o.signal,...p?{duplex:"half"}:{},method:"GET",...d};f&&(_.method=f.toUpperCase());try{return await this.fetch.call(void 0,t,_)}finally{clearTimeout(m)}}async shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,s,o){let u;const f=o?.get("retry-after-ms");if(f){const m=parseFloat(f);Number.isNaN(m)||(u=m)}const d=o?.get("retry-after");if(d&&!u){const m=parseFloat(d);Number.isNaN(m)?u=Date.parse(d)-Date.now():u=m*1e3}if(!(u&&0<=u&&u<60*1e3)){const m=t.maxRetries??this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(r,m)}return await ll(u),this.makeRequest(t,r-1,s)}calculateDefaultRetryTimeoutMillis(t,r){const u=r-t,f=Math.min(.5*Math.pow(2,u),8),d=1-Math.random()*.25;return f*d*1e3}async buildRequest(t,{retryCount:r=0}={}){const s={...t},{method:o,path:u,query:f,defaultBaseURL:d}=s,m=this.buildURL(u,f,d);"timeout"in s&&lk("timeout",s.timeout),s.timeout=s.timeout??this.timeout;const{bodyHeaders:p,body:_}=this.buildBody({options:s}),y=await this.buildHeaders({options:t,method:o,bodyHeaders:p,retryCount:r});return{req:{method:o,headers:y,...s.signal&&{signal:s.signal},...globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"},..._&&{body:_},...this.fetchOptions??{},...s.fetchOptions??{}},url:m,timeout:s.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:s,retryCount:o}){let u={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=t.idempotencyKey);const f=Z([u,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...dk(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,s,t.headers]);return this.validateHeaders(f),f.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=Z([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:o0(t)}:M(this,ru,"f").call(this,{body:t,headers:s})}}mm=ye,ru=new WeakMap,Td=new WeakSet,Rw=function(){return this.baseURL!=="https://api.openai.com/v1"};ye.OpenAI=mm;ye.DEFAULT_TIMEOUT=6e5;ye.OpenAIError=se;ye.APIError=wt;ye.APIConnectionError=Bu;ye.APIConnectionTimeoutError=Kd;ye.APIUserAbortError=mn;ye.NotFoundError=Zb;ye.ConflictError=e0;ye.RateLimitError=n0;ye.BadRequestError=Qb;ye.AuthenticationError=Wb;ye.InternalServerError=a0;ye.PermissionDeniedError=Fb;ye.UnprocessableEntityError=t0;ye.InvalidWebhookSignatureError=ki;ye.toFile=$k;ye.Completions=tw;ye.Chat=tm;ye.Embeddings=rw;ye.Files=iw;ye.Images=hw;ye.Audio=ul;ye.Moderations=mw;ye.Models=dw;ye.FineTuning=ks;ye.Graders=fm;ye.VectorStores=Ku;ye.Webhooks=Aw;ye.Beta=xs;ye.Batches=Y0;ye.Uploads=dm;ye.Responses=Vu;ye.Realtime=Gu;ye.Conversations=sm;ye.Evals=lm;ye.Containers=rm;ye.Videos=Ew;const u2=()=>{const a=Ou(),{items:t,loading:r}=Cs(T=>T.products),[s,o]=$.useState(!1),[u,f]=$.useState(!1),[d,m]=$.useState(null),p=[{id:"dry",label:""},{id:"oily",label:""},{id:"combination",label:""},{id:"normal",label:""},{id:"sensitive",label:""}],_={name:"",product_url:"",price:0,category_type:"care",budget_segment:"medium",skin_type:[],image_url:""},[y,b]=$.useState(_);$.useEffect(()=>{a(Vb())},[a]);const w=async()=>{const T=y.name||y.product_url;if(!T)return alert("  ! ");o(!0);try{const x=await new ye({apiKey:"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",dangerouslyAllowBrowser:!0,baseURL:"https://api.groq.com/openai/v1"}).chat.completions.create({messages:[{role:"system",content:`  .     JSON.
          :
          1. price:   .       ,   .
          2. category_type:      (, , , , , , , mascara, lipstick, eyeshadow)   "makeup".  "care"
          4. budget_segment: "budget", "medium"  "luxury".       .
          5. skin_type:    : "dry", "oily", "combination", "normal", "sensitive".    "makeup"     .`},{role:"user",content:`: ${T}`}],model:"llama-3.1-8b-instant",response_format:{type:"json_object"}}),q=JSON.parse(x.choices[0].message.content||"{}");b(K=>({...K,name:q.name||T,price:Number(q.price)||1500,product_url:`https://www.google.com/search?q=${encodeURIComponent(q.name||T)}`,category_type:q.category_type||"care",budget_segment:q.budget_segment||"medium",skin_type:q.skin_type||["normal"],image_url:K.image_url||`https://loremflickr.com/640/480/cosmetics,${encodeURIComponent(q.name||"beauty")}`}))}catch(C){console.error("AI Error:",C)}finally{o(!1)}},E=T=>{const C=y.skin_type||[];b({...y,skin_type:C.includes(T)?C.filter(x=>x!==T):[...C,T]})},R=()=>{y.name&&y.image_url?(u&&d?(a(Jb({...y,id:d})),f(!1),m(null)):a(Kb(y)),b(_)):alert("    !")},N=T=>{f(!0),m(T.id),b(T),window.scrollTo({top:0,behavior:"smooth"})};return r?U.jsx("div",{className:he.loading,children:"   ..."}):U.jsxs("div",{className:he.adminContainer,children:[U.jsx("h2",{className:he.header,children:"  "}),U.jsxs("div",{className:he.formCard,children:[U.jsx("h3",{children:u?`: ${y.name}`:" "}),U.jsxs("div",{className:he.gridInputs,children:[U.jsxs("div",{className:he.inputWrapper,style:{gridColumn:"1 / -1"},children:[U.jsx("label",{className:he.label,children:" ( )"}),U.jsxs("div",{style:{display:"flex",gap:"10px"},children:[U.jsx("input",{value:y.name||y.product_url,onChange:T=>b({...y,name:T.target.value}),className:he.input,placeholder:":  The Ordinary"}),U.jsx("button",{onClick:w,disabled:s,className:he.aiBtn,children:s?" ...":"   "})]})]}),U.jsxs("div",{className:he.inputWrapper,children:[U.jsx("label",{className:he.label,children:" ()"}),U.jsx("input",{type:"number",value:y.price||"",onChange:T=>b({...y,price:Number(T.target.value)}),className:he.input})]}),U.jsxs("div",{className:he.inputWrapper,children:[U.jsx("label",{className:he.label,children:""}),U.jsxs("select",{value:y.category_type,onChange:T=>b({...y,category_type:T.target.value}),className:he.input,children:[U.jsx("option",{value:"care",children:""}),U.jsx("option",{value:"makeup",children:""})]})]}),U.jsxs("div",{className:he.inputWrapper,children:[U.jsx("label",{className:he.label,children:" "}),U.jsxs("select",{value:y.budget_segment,onChange:T=>b({...y,budget_segment:T.target.value}),className:he.input,children:[U.jsx("option",{value:"budget",children:""}),U.jsx("option",{value:"medium",children:"-"}),U.jsx("option",{value:"luxury",children:""})]})]}),U.jsxs("div",{className:he.inputWrapper,style:{gridColumn:"1 / -1"},children:[U.jsx("label",{className:he.label,children:"URL "}),U.jsx("input",{value:y.image_url,onChange:T=>b({...y,image_url:T.target.value}),className:he.input})]})]}),U.jsxs("div",{className:he.skinTypeSection,style:{marginTop:"20px"},children:[U.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"10px"},children:"   :"}),U.jsx("div",{className:he.checkboxGroup,children:p.map(T=>U.jsxs("label",{className:he.checkboxLabel,children:[U.jsx("input",{type:"checkbox",checked:y.skin_type?.includes(T.id),onChange:()=>E(T.id)})," ",T.label]},T.id))})]}),U.jsxs("div",{className:he.buttonGroup,style:{marginTop:"20px"},children:[U.jsx("button",{onClick:R,className:u?he.updateBtn:he.addBtn,children:u?" ":"  "}),u&&U.jsx("button",{onClick:()=>{f(!1),b(_)},className:he.cancelBtn,children:""})]})]}),U.jsx("div",{className:he.tableWrapper,children:U.jsxs("table",{className:he.table,children:[U.jsx("thead",{children:U.jsxs("tr",{children:[U.jsx("th",{className:he.th,children:""}),U.jsx("th",{className:he.th,children:""}),U.jsx("th",{className:he.th,children:""}),U.jsx("th",{className:he.th,children:""}),U.jsx("th",{className:he.th,children:""}),U.jsx("th",{className:he.th,children:""})]})}),U.jsx("tbody",{children:t.map(T=>U.jsxs("tr",{className:he.tr,children:[U.jsx("td",{className:he.td,children:U.jsx("img",{src:T.image_url,alt:"",className:he.imgThumb,style:{width:"40px",borderRadius:"4px"}})}),U.jsx("td",{className:he.td,children:U.jsx("strong",{children:T.name})}),U.jsxs("td",{className:he.td,children:[T.price," "]}),U.jsx("td",{className:he.td,children:T.category_type==="care"?"":""}),U.jsx("td",{className:he.td,children:T.budget_segment}),U.jsxs("td",{className:he.td,children:[U.jsx("button",{onClick:()=>N(T),className:he.editBtn,children:"."}),U.jsx("button",{onClick:()=>a(Yb(T.id)),className:he.deleteBtn,children:""})]})]},T.id))})]})})]})},c2="_profilePage_blf6c_3",f2="_title_blf6c_21",h2="_card_blf6c_35",d2="_label_blf6c_55",m2="_select_blf6c_69",p2="_saveBtn_blf6c_89",g2="_divider_blf6c_123",y2="_logoutBtn_blf6c_135",jn={profilePage:c2,title:f2,card:h2,label:d2,select:m2,saveBtn:p2,divider:g2,logoutBtn:y2},_2=()=>{const a=Ou(),t=Cs(_=>_.auth.user),[r,s]=$.useState("normal"),[o,u]=$.useState("medium"),[f,d]=$.useState(!1);$.useEffect(()=>{(async()=>{if(!t)return;const{data:y,error:b}=await Qe.from("users_custom").select("skin_type, budget_segment").eq("id",t.id).single();y&&!b&&(s(y.skin_type||"normal"),u(y.budget_segment||"medium"))})()},[t]);const m=async()=>{if(!t)return;d(!0);const{error:_}=await Qe.from("users_custom").update({skin_type:r,budget_segment:o}).eq("id",t.id);d(!1),_||alert(" ! ")},p=async()=>{await Qe.auth.signOut(),a($C())};return U.jsxs("div",{className:jn.profilePage,children:[U.jsx("h2",{className:jn.title,children:" "}),U.jsxs("div",{className:jn.card,children:[U.jsx("label",{className:jn.label,children:" :"}),U.jsxs("select",{value:r,onChange:_=>s(_.target.value),className:jn.select,children:[U.jsx("option",{value:"normal",children:""}),U.jsx("option",{value:"dry",children:""}),U.jsx("option",{value:"oily",children:""}),U.jsx("option",{value:"combination",children:""})]}),U.jsx("label",{className:jn.label,children:":"}),U.jsxs("select",{value:o,onChange:_=>u(_.target.value),className:jn.select,children:[U.jsx("option",{value:"budget",children:" ( 1000)"}),U.jsx("option",{value:"medium",children:" (1000 - 5000)"}),U.jsx("option",{value:"luxury",children:" ( 5000)"})]}),U.jsx("button",{onClick:m,disabled:f,className:jn.saveBtn,children:f?"...":" "}),U.jsx("hr",{className:jn.divider}),U.jsx("button",{onClick:p,className:jn.logoutBtn,children:"  "})]})]})},v2=()=>{const a=Ou(),{user:t,status:r}=Cs(s=>s.auth);return $.useEffect(()=>{(async()=>{const{data:{session:u}}=await Qe.auth.getSession();u?.user?a(ws({id:u.user.id,username:u.user.user_metadata?.username||"Beauty",isAdmin:u.user.user_metadata?.isAdmin||!1})):a(ws(null))})();const{data:{subscription:o}}=Qe.auth.onAuthStateChange((u,f)=>{f?.user?a(ws({id:f.user.id,username:f.user.user_metadata?.username||"Beauty",isAdmin:f.user.user_metadata?.isAdmin||!1})):a(ws(null))});return()=>o.unsubscribe()},[a]),r==="loading"?U.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#fffaff"},children:U.jsx("h2",{style:{color:"#db7093",fontFamily:"sans-serif"},children:"  MAIMEI..."})}):U.jsxs("div",{style:{minHeight:"100vh",background:"#fffaff"},children:[t&&U.jsx(IC,{}),U.jsx(rA,{children:t?U.jsxs(U.Fragment,{children:[U.jsx(ta,{path:"/",element:U.jsx(mx,{})}),U.jsx(ta,{path:"/favorites",element:U.jsx(xx,{})}),U.jsx(ta,{path:"/profile",element:U.jsx(_2,{})}),U.jsx(ta,{path:"/admin",element:t.isAdmin?U.jsx(u2,{}):U.jsx(xo,{to:"/"})}),U.jsx(ta,{path:"/auth",element:U.jsx(xo,{to:"/",replace:!0})}),U.jsx(ta,{path:"*",element:U.jsx(xo,{to:"/",replace:!0})})]}):U.jsxs(U.Fragment,{children:[U.jsx(ta,{path:"/auth",element:U.jsx(ZC,{})}),U.jsx(ta,{path:"*",element:U.jsx(xo,{to:"/auth",replace:!0})})]})})]})},b2={items:[],status:"idle"},w2=vr("favorites/fetch",async a=>{const{data:t,error:r}=await Qe.from("favorites").select("product_id").eq("user_id",a);if(r)throw r;return t.map(s=>s.product_id)}),S2=vr("favorites/toggle",async({userId:a,productId:t,isFavorite:r})=>{if(r){const{error:s}=await Qe.from("favorites").delete().eq("user_id",a).eq("product_id",t);if(s)throw s;return{productId:t,removed:!0}}else{const{error:s}=await Qe.from("favorites").insert([{user_id:a,product_id:t}]);if(s)throw s;return{productId:t,removed:!1}}}),E2=Vd({name:"favorites",initialState:b2,reducers:{},extraReducers:a=>{a.addCase(w2.fulfilled,(t,r)=>{t.items=r.payload}).addCase(S2.fulfilled,(t,r)=>{r.payload.removed?t.items=t.items.filter(s=>s!==r.payload.productId):t.items.push(r.payload.productId)})}}),T2=E2.reducer,A2=pC({reducer:{auth:BC,favorites:T2,products:Ux}});lT.createRoot(document.getElementById("root")).render(U.jsx(ZE.StrictMode,{children:U.jsx(eR,{store:A2,children:U.jsx(CA,{children:U.jsx(v2,{})})})}));
